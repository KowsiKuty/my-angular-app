<div>
    <div *ngIf="CommonSummaryForm">
   

    <!-- <h3>
        AP Scheduler Search
    </h3> -->
    <div>
        <!--    -->
        <form [formGroup]="commonForm">
            <div class="expansition-div">
                <mat-accordion>
                    <mat-expansion-panel [expanded]="true" class="expansion-conatiner">
                        <mat-expansion-panel-header>
                            <!-- <h3 class="component-title ">Tour</h3> -->
                            <h3 class="expansion-title mb-0">General</h3>
                          </mat-expansion-panel-header>
                        <div class="card-container">
                            
                             <div class="card-point">
                                <h4>Business Start Hours</h4><span>:</span>
                                <p>{{schedulargetvalue?.start_time}}</p>
                             </div>
                             <div class="card-point">
                                <h4>Business End Hours</h4>
                                <span>:</span>
                                <p>{{schedulargetvalue?.end_time}}</p>

                             </div>
                             <div class="card-point">
                                <h4>Current Status</h4>
                                <span>:</span>
                                <p>{{schedulargetvalue?.schedule_status}}</p>

                             </div>

                             <div class="btn-point">
                                <button class="btn btn-outline-primary"  (click)="startstop('start')" [disabled]="stop_flag == false" id="schedular-start-01">Start                
                                </button>

                                <button class="btn btn-outline-danger"(click)="startstop('stop')" id="schedular-stop-01">Stop                           
                                </button>

                                <button class="btn btn-outline-primary" (click)="openSettings()"
                                data-toggle="modal" id="schedular-setting-01">
                                <i class="fa fa-cogs" aria-hidden="true"></i>
                                </button>
                                <!-- data-target="#schedular" -->

                             </div>
                             <div class="card-point">
                                <h4>Scheduler Interval</h4><span>:</span>
                                <p>{{schedulargetvalue?.schedule_interval}}</p>

                             </div>
                             <div class="card-point">
                                <h4>No of Threads</h4><span>:</span>
                                <p>{{schedulargetvalue?.thread_count}}</p>


                             </div>
                             <div class="card-point">
                                <h4>No of Process(Per Thread)</h4><span>:</span>
                                <p>{{schedulargetvalue?.process_count}}</p>


                             </div>
                             <!-- <div class="btn-point">
                                <button class="btn btn-outline-primary"  (click)="startstop('start')" [disabled]="stop_flag == false">Start                
                                </button>

                                <button class="btn btn-outline-danger"(click)="startstop('stop')" >Stop                           
                                </button>

                                <button class="btn btn-outline-primary" (click)="openSettings()"
                                data-toggle="modal" >
                                <i class="fa fa-cogs" aria-hidden="true"></i>
                                </button> -->
                                <!-- data-target="#schedular" -->

                             <!-- </div> -->
                             <div class="card-point">
                                <button class="btn btn-outline-primary" (click)="history()" data-toggle="modal" id="schedular-history-01">Scheduler History                        
                                </button>

                             </div>
                             <!-- data-target="#schedularhistory" -->
         
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>

            <!-- <div style="padding: 20px; border: 1px solid #ccc; border-radius: 10px; position: relative; ">
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div class="d-flex" style="gap:30px">                       
                        <p style="display: flex; justify-content: space-between; width: 250px;">
                            <span>Business Start Hours</span><span>:</span><span>{{schedulargetvalue?.start_time}}</span>
                        </p>
                        <p style="display: flex; justify-content: space-between; width: 250px;">
                            <span>Business End Hours</span><span>:</span><span>{{schedulargetvalue?.end_time}}</span>
                        </p>
                        <p style="display: flex; justify-content: space-between; width: 250px;">
                            <span>Current Status</span><span>:</span><span>{{schedulargetvalue?.schedule_status}}</span>
                        </p>
                        </div>
                        <div>
                        <button class="btn btn-outline-primary" style="position: absolute; top: 20px; right:140px" (click)="startstop('start')" [disabled]="stop_flag == false">Start                
                        </button>
                        </div>                                   

                        <div>
                        <button class="btn btn-outline-danger" style="position: absolute; top: 20px; margin-left: 150px;right: 70px;" (click)="startstop('stop')" [disabled]="stop_flag != false">Stop                           
                        </button>
                        </div>
                        <div>
                            <button class="btn btn-outline-primary" style="position: absolute; top: 20px; right: 20px;" (click)="openSettings()"
                            data-toggle="modal" data-target="#schedular">
                                <i class="fa fa-cogs" aria-hidden="true"></i>
                            </button>

                    </div>
                    <br>
                    <div class="d-flex" style="gap:30px">
                        <p style="display: flex; justify-content: space-between; width: 250px;">
                            <span>Scheduler Interval</span><span>:</span><span>{{schedulargetvalue?.schedule_interval}}</span>
                        </p>
                        <p style="display: flex; justify-content: space-between; width: 250px;">
                            <span>No of Threads</span><span>:</span><span>{{schedulargetvalue?.thread_count}}</span>
                        </p>
                        <p style="display: flex; justify-content: space-between; width: 250px;">
                            <span>No of Process(Per Thread)</span><span>:</span><span>{{schedulargetvalue?.process_count}}</span>
                        </p>
                        <div>
                            <button class="btn btn-outline-primary" style="position: absolute; top: 50px; margin-left: 100px;margin-top: 50px;" (click)="history()" data-toggle="modal" data-target="#schedularhistory">Scheduler History                        
                            </button>
                            </div>
                    </div>
                </div>
            </div> -->

                <br>
                <!-- <table style="margin-left:20px">
                    <tr style="display: flex;gap:20px">
                        <td>
                            <mat-form-field style="width:170px;">
                                <mat-label>CR No</mat-label>
                                <input matInput formControlName="crno" autocomplete="off" id="ap-0329">
                            </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field style="width:170px;margin-left: 10px;">
                                <mat-label>Invoice Header CR No</mat-label>
                                <input matInput formControlName="invoiceheader_crno" autocomplete="off" id="ap-0330">
                            </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field style="width:170px;margin-left: 10px;">
                                <mat-select placeholder="ECF Type" formControlName="aptype" id="ap-0331">
                                    <mat-option *ngFor="let type of TypeList" [value]="type.id">
                                        {{type.text}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </td>
                        <td class="d-flex align-items-center gap-2">
                            <button type="button" class="btn btn-outline-primary" matTooltip="Select Supplier" 
                                matTooltipClass="custom-tooltipnew" data-toggle="modal" data-target="#ap-0044"
                                style="border-radius:40px;" id="ap-0333">
                                <span class="fa fa-arrow-up"></span>
                            </button>  

                            <mat-form-field style="width: 155px;">
                                <mat-label>Supplier Name</mat-label>
                                <input #supplierInput placeholder="Choose Supplier" matInput readonly formControlName="supplier_id" 
                                       [matAutocomplete]="supp" id="ap-0334">
                                <mat-autocomplete #supp="matAutocomplete" (opened)="supplierScroll()" [displayWith]="displayFnSupplier">
                                    <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                    <ng-container *ngIf="!isLoading">
                                        <mat-option *ngFor="let supplier of supplierList" [value]="supplier" matTooltip="{{supplier.name}}">
                                            {{supplier.name}}
                                        </mat-option>
                                    </ng-container>
                                </mat-autocomplete>
                            </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field style="width: 170px;margin-left: 10px; ">
                                <mat-label>Invoice Amount</mat-label>
                                <input matInput formControlName="invoice_amount" autocomplete="off" type="number" id="ap-0338">
                            </mat-form-field>
                        </td>  -->

                        <!-- <td>
                            <mat-form-field style="width: 170px; margin-left: 10px; " (click)="getRaiserbranch()">
                                <input #raiserbrInput matInput formControlName="raiserbranch_id" [matAutocomplete]="matraiserAutocomplete" 
                                       placeholder="Raiser Branch" id="ap-0335">
                                <mat-autocomplete [panelWidth]="250" #matraiserAutocomplete="matAutocomplete" [displayWith]="displayFnbranchrole" 
                                                  (opened)="raiseBranchScroll()">
                                    <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                    <ng-container *ngIf="!isLoading">
                                        <mat-option *ngFor="let branch of Branchlist" [value]="branch" matTooltip="{{branch.code}}-{{branch.name}}">
                                            {{branch.code}}-{{branch.name}}
                                        </mat-option>
                                    </ng-container>
                                </mat-autocomplete>
                            </mat-form-field>
                        </td> -->
                    <!-- </tr>
                    <tr style="display: flex;gap:20px">
                        <td style="width: 170px;">
                            <mat-form-field style="width:170px;">
                                <mat-select placeholder="Invoice Status" formControlName="invoice_status">
                                    <mat-option *ngFor="let st of commonStatusList" [value]="st.id">
                                        {{st.text}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </td>  

                        <td style="width: 170px;">
                            <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 10px;" color="primary"
                                    (click)="commonSummarySearch()" id="ap-0344"><i matTooltip="Search" class="fa fa-search" aria-hidden="true"></i></button>
                            <button class="btn btn-outline-primary" type="button" style="border-radius:40px;margin-left: 10px;" color="primary" 
                                    (click)="resetcommon()" id="ap-0345">Reset</button>
                        </td>     -->
                        <!-- <td>
                            <mat-form-field  style="width:170px;"  (click)="getraiserdropdown()">
                                <mat-label>Employee</mat-label>
                                <input #raiserInput matInput formControlName="raiser_name" [matAutocomplete]="raisertyperole" 
                                       placeholder="Choose Employee" id="ap-0336">
                                <mat-autocomplete [panelWidth]="400" #raisertyperole="matAutocomplete" [displayWith]="displayFnraiserrole" 
                                                  (opened)="raiserScroll()">
                                    <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                    <ng-container *ngIf="!isLoading">
                                        <mat-option *ngFor="let data of Raiserlist" [value]="data" matTooltip="{{data.full_name}}">
                                            {{data.full_name}}
                                        </mat-option>
                                    </ng-container>
                                </mat-autocomplete>
                            </mat-form-field>
                        </td> -->
                        <!-- <td>
                            <mat-form-field style="width: 170px;margin-left: 10px; ">
                                <mat-label>Invoice No</mat-label>
                                <input matInput formControlName="invoice_no" autocomplete="off" type="text" id="ap-0337">
                            </mat-form-field>
                        </td> -->


                    <!-- </tr>

                </table> -->

        </form> 
    </div>   

<div class="header-adjust">
    <!-- <h3>
        AP Scheduler Summary
    </h3>

    <button type="button" id="ap-0345" class="btn btn-outline-primary" 
    style="border-radius: 50%;" (click)="resetScheduler($event)">
    <i matTooltip="Reset" class="fa fa-refresh"></i>
    </button> -->

                          <div class="ecf-summary-header">
                                 <h3 class="summary-title">AP Scheduler Summary</h3>

                            <div class="summary-actions">
                                    <button class="circle-icon-btn-md" matTooltip="Reset" (click)="overallreset()">
                                    <mat-icon aria-hidden="true">refresh</mat-icon>
                                    </button>
                              </div>
                                </div> 

    <!-- <div class="button-div">
       
    </div> -->
</div>
  

 <lib-vs-cbox-summary 
 [SummaryDetails]="SummarySchedulerData" 
 [SummaryApiObj]="SummaryApiSchedulerecfObjNew"
 [FirstLastbtn]="true" #cboxSummary (dataEvent)="schedularSummarydata($event)">
</lib-vs-cbox-summary>
 <!-- <h3>
    AP Scheduler Summary
</h3>
<div >
    <button class="btn btn-outline-danger" type="button" style="border-radius:40px;margin-left: 300px;margin-top: -60px;" color="primary" 
    (click)="resetcommon()" id="ap-0345">Reset</button>
</div> -->
<!-- <div class="comp-table t-resposive t-bdr-line t-HoverZoom" id="summary-table">
    <table class="table scrolltable" >	        
        <thead>
 
            <tr class="table_header" [formGroup]="filtr_form">

                    <th>S.No</th>
                    <th class="minwidth" style="text-align: center; position: relative; cursor: pointer;" (click)="toggleSearch('crno')">
                         <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                            <span style="width: 80%; text-align: center;">CR No</span>
                            <span style="width: 20%; text-align: right;">
                                <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" class="fa fa-filter"></i>
                            </span>             
                    
                        </div> -->
                        <!-- <mat-form-field *ngIf="isSearchVisible['crno']" appearance="outline" style="width: 150px; margin-top: 5px;">
                            <mat-label>CR No</mat-label>
                            <input matInput formControlName="crno" [(ngModel)]="searchValues['crno']" placeholder="Enter CR No" />
                            <button mat-icon-button matSuffix (click)="commonSummarySearch('crno',1)">
                                <i matTooltip="Search" class="fa fa-search"></i>
                            </button>
                        </mat-form-field> -->

                        <!-- <div *ngIf="iscr_no" class="search-container"  (click)="$event.stopPropagation()">
                            <mat-form-field appearance="outline" style="width: 150px; margin-top: 5px;">
                                <mat-label>CR No</mat-label>
                                <input matInput formControlName="crno" [(ngModel)]="searchValues['crno']" placeholder="Enter CR No" />
                                <button mat-icon-button matSuffix (click)="commonSummarySearch('crno', 1)">
                                    <i matTooltip="Search" class="fa fa-search" style="margin-bottom: 8px;"></i>
                                </button>
                            </mat-form-field>
                        </div>
                    
                    </th>  -->
                    <!-- <th class="minwidth">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                            

                            <span style="width: 80%; text-align: center;">Invoice CR No</span>
  
                            <span style="width: 20%; text-align: right;">
                                <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" 
                                   class="fa fa-filter" (click)="toggleSearch('invoice_crno')"></i>
                            </span>                
                    
                        </div>
                        <mat-form-field *ngIf="isSearchVisible['invoice_crno']" appearance="outline" style="width: 150px; margin-top: 5px;">
                            <mat-label>Invoice CR No</mat-label>
                            <input matInput formControlName="invoice_crno" [(ngModel)]="searchValues['invoice_crno']" placeholder="Enter Invoice CR No" />
                            <button mat-icon-button matSuffix (click)="commonSummarySearch('invoice_crno', 1)">
                                <i matTooltip="Search" class="fa fa-search"></i>
                            </button>
                        </mat-form-field>
                    </th> -->
                    
                    <!-- <th class="max-width" style="text-align: center; position: relative; cursor: pointer;" (click)="toggleSearch('invoice_crno')">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                            <span style="width: 80%; text-align: center;">Invoice CR No</span>
                            <span style="width: 20%; text-align: right;">
                                <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" class="fa fa-filter"></i>
                            </span>
                        </div>
                    
                        <div *ngIf="isinvcr_no" class="search-container"  (click)="$event.stopPropagation()">
                            <mat-form-field appearance="outline" style="width: 150px; margin-top: 5px;">
                                <mat-label>Invoice CR No</mat-label>
                                <input matInput formControlName="invoice_crno" [(ngModel)]="searchValues['invoice_crno']" placeholder="Enter Invoice CR No" />
                                <button mat-icon-button matSuffix (click)="commonSummarySearch('invoice_crno', 1)">
                                    <i matTooltip="Search" class="fa fa-search"></i>
                                </button>
                            </mat-form-field>
                        </div>
                    </th>  
                    
                    <th class="minwidth">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                            <span style="width: 80%; text-align: center;">ECF Type</span>
                            <span style="width: 20%; text-align: center;">
                                <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" 
                                   class="fa fa-filter" aria-hidden="true" (click)="toggleSearch('')"  [matMenuTriggerFor]="ecfMenu"></i>
                            </span>                    
                        </div>
                    
                        <mat-menu #ecfMenu="matMenu"  style="max-height: 200px;">
                            <mat-selection-list #ecfTypeList formControlName="ecftype" [(ngModel)]="searchValues['aptype']" (selectionChange)="onECFTypeSelectionChange()">
                                <mat-list-option *ngFor="let type of TypeList" [value]="type.id">
                                    {{ type.text }}
                                </mat-list-option>
                            </mat-selection-list>
                            
                        </mat-menu>
                    
                    </th> -->

                       <!-- <lib-vs-optiondd-cmp id="matInput-size" [InputFields]="ecftypelist"
                                        [formGroup]="commonForm">
                                    </lib-vs-optiondd-cmp> -->

                    <!-- <th class="minwidth" style="text-align: center; position: relative; cursor: pointer;" (click)="toggleSearch('branch')">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                            <span style="width: 80%; text-align: center;">Branch</span>
                            <span style="width: 20%; text-align: right;">
                                <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" class="fa fa-filter"></i>
                            </span>
                        </div>

                        <div *ngIf="isbranch" class="search-container"  (click)="$event.stopPropagation()">
                            <mat-form-field  appearance="outline" style="width: 200px;" (click)="getRaiserbranch()">
                                <mat-label>Branch
                                </mat-label>
                                <input matInput  #suppInput [matAutocomplete]="matraiserAutocomplete" formControlName="raiserbranch_id" placeholder="Enter Branch" />
                                <mat-autocomplete #matraiserAutocomplete="matAutocomplete"  (opened)="raiseBranchScroll()" [displayWith]="displayFnbranchrole">
                                  <mat-option *ngFor="let branch of Branchlist" [value]="branch" (onSelectionChange)="selectedbranch(branch)">
                                    {{branch.code}}-{{branch.name}}
                                </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                        </div>
                    </th> -->

                    <!-- <mat-form-field style="width: 170px; margin-left: 10px; " (click)="getRaiserbranch()">
                        <input #raiserbrInput matInput formControlName="raiserbranch_id" [matAutocomplete]="matraiserAutocomplete" 
                               placeholder="Raiser Branch" id="ap-0335">
                        <mat-autocomplete [panelWidth]="250" #matraiserAutocomplete="matAutocomplete" [displayWith]="displayFnbranchrole" 
                                          (opened)="raiseBranchScroll()">
                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                            <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let branch of Branchlist" [value]="branch" matTooltip="{{branch.code}}-{{branch.name}}">
                                    {{branch.code}}-{{branch.name}}
                                </mat-option>
                            </ng-container>
                        </mat-autocomplete>
                    </mat-form-field> -->
                    <!-- <th class="minwidth">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;"> -->
                          
                          <!-- Supplier Label -->
                          <!-- <span style="width: 80%; text-align: center;">Supplier</span> -->
                      
                          <!-- Search Icon with Click Event -->
                          <!-- <span style="width: 20%; text-align: right;">
                            <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" 
                               class="fa fa-filter" aria-hidden="true" 
                               (click)="toggleSearch('supplier_id')">
                            </i>
                          </span>
                      
                        </div> -->
                      
                        <!-- Mat Form Field with AutoComplete -->
                        <!-- <mat-form-field *ngIf="isSearchVisible['supplier_id']" appearance="outline" style="width: 200px;" (click)="suppliername_common()">
                          <mat-label>Supplier</mat-label>
                          <input matInput  #suppInput [matAutocomplete]="supp" formControlName="supplier" placeholder="Enter Supplier" />
                          <mat-autocomplete #supp="matAutocomplete"  (opened)="supplierScroll()" [displayWith]="displayFnSupplier">
                            <mat-option *ngFor="let supplier of supplierList" [value]="supplier" (onSelectionChange)="selected(supplier)">
                              {{ supplier.name }}
                            </mat-option>
                          </mat-autocomplete>
                        </mat-form-field>
                    </th> -->
                    
                    <!-- <th class="minwidth" style="text-align: center; position: relative; cursor: pointer;" (click)="toggleSearch('supplier_id')">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                            <span style="width: 80%; text-align: center;">Supplier</span>
                            <span style="width: 20%; text-align: right;">
                                <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" class="fa fa-filter"></i>
                            </span>
                        </div>
                    
                        <div *ngIf="isSupplier" class="search-container"  (click)="$event.stopPropagation()">
                            <mat-form-field  appearance="outline" style="width: 200px;" (click)="suppliername_common()">
                                <mat-label>Supplier</mat-label>
                                <input matInput  #suppInput [matAutocomplete]="supp" formControlName="supplier" placeholder="Enter Supplier" />
                                <mat-autocomplete #supp="matAutocomplete"  (opened)="supplierScroll()" [displayWith]="displayFnSupplier">
                                  <mat-option *ngFor="let supplier of supplierList" [value]="supplier" (onSelectionChange)="selected(supplier)">
                                    {{ supplier.name }}
                                  </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                        </div>
                    </th>   -->
                    <!-- <th  class="minwidth" >Raiser</th> -->
                     <!-- <th class="minwidth" style="text-align: center; position: relative; cursor: pointer;" (click)="toggleSearch('raiser')">
                         <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                             <span style="width: 80%; text-align: center;">Raiser</span>
                             <span style="width: 20%; text-align: right;">
                                 <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" class="fa fa-filter"></i>
                             </span>
                         </div>
                     
                         <div *ngIf="isRaiser" class="search-container"  (click)="$event.stopPropagation()">
                             <mat-form-field  appearance="outline" style="width: 200px;" (click)="getraiserdropdown()">
                                 <mat-label>Raiser</mat-label>
                                 <input matInput  #raiserInput [matAutocomplete]="raisertyperole" formControlName="raiser_name" placeholder="Enter Raiser" />
                                 <mat-autocomplete #raisertyperole="matAutocomplete"  (opened)="raiserScroll()" [displayWith]="displayFnraiserrole">
                                   <mat-option *ngFor="let data of Raiserlist" [value]="data" (onSelectionChange)="selectedraiser(data)">
                                     {{data.full_name}}
                                 </mat-option>
                                 </mat-autocomplete>
                               </mat-form-field>
                         </div>
                     </th> -->
                     <!-- <mat-form-field  style="width:170px;"  (click)="getraiserdropdown()">
                         <mat-label>Employee</mat-label>
                         <input #raiserInput matInput formControlName="raiser_name" [matAutocomplete]="raisertyperole" 
                                placeholder="Choose Employee" id="ap-0336">
                         <mat-autocomplete [panelWidth]="400" #raisertyperole="matAutocomplete" [displayWith]="displayFnraiserrole" 
                                           (opened)="raiserScroll()">
                             <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                             <ng-container *ngIf="!isLoading">
                                 <mat-option *ngFor="let data of Raiserlist" [value]="data" matTooltip="{{data.full_name}}">
                                     {{data.full_name}}
                                 </mat-option>
                             </ng-container>
                         </mat-autocomplete>
                     </mat-form-field> -->

                    <!-- <th  class="minwidth" >Invoice No</th>

                    <th class="minwidth">Invoice Date</th> -->

                    <!-- <th class="minwidth">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                            <span style="min-width: 120px; text-align: center;">Invoice Amount</span>
                    
                            <span style="width: 20%; text-align: right;">
                                <i matTooltip="Search" style="font-size: 20px; cursor: pointer;" 
                                   class="fa fa-filter" (click)="toggleSearch('invoice_amount')"></i>
                            </span>                
                        </div>
                    
                        <mat-form-field *ngIf="isSearchVisible['invoice_amount']" appearance="outline" style="width: 150px; margin-top: 5px;">
                            <mat-label>Invoice Amount</mat-label>
                            <input matInput formControlName="invoice_amt" [(ngModel)]="searchValues['invoice_amount']" placeholder="Enter Invoice Amount" />
                            <button mat-icon-button matSuffix (click)="commonSummarySearch('invoice_amount', 1)">
                                <i matTooltip="Search" class="fa fa-search"></i>
                            </button>
                        </mat-form-field>
                    </th> -->

                    <!-- <th class="minwidth" >Invoice Amount</th> -->

                    <!-- <th>Invoice Date</th> -->
                    <!-- <th class="minwidth" >Invoice Status -->
                        <!-- <button  type="submit" 
                                style=" margin-left: 10px; color:black;border-radius:30px" 
                                color="primary"
                                (click)="openSearchDialog('Invoice Status',searchDialog,'invoice_status', 'checkbox')">
                            <i matTooltip="Search" class="fa fa-search" aria-hidden="true"></i>
                        </button> -->
                    <!-- </th> -->
                    <!-- <th>View Entry</th>
                    <th>Download Covernote</th> -->
                    <!-- <th class="minwidth" >Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let lists of commonSummary; index as i" style="text-align: center;">
                    <td> {{(presentpagecommon - 1)*pagesizecommon +i+1 }} </td>
                    <td>{{lists?.crno}}</td>
                    <td>{{lists?.apinvoiceheader_crno}}</td>
                    <td style="white-space: nowrap;">{{lists?.aptype.text}}</td>
                    <td style="width: 250px;">{{lists?.raiserbranch_branch?.name}} - {{lists?.raiserbranch_branch?.code  }}</td>
                    <td style="width: 250px;">{{lists?.supplier_data?.name}} - {{lists?.supplier_data?.code}}</td>
                    <td>{{lists?.raiser_name}}</td>
                    <td>{{lists?.invoice_no }}</td>
                    <td>{{lists?.invoicedate}}</td>
                    <td style="text-align: right;">{{lists?.invoice_amount|currency:'INR'}}</td> -->
                    <!-- <td style="white-space: nowrap;">{{lists?.invoicedate | date:'dd-MMM-yyyy'}}</td> -->
                    <!-- <td>{{lists?.apinvoicehdr_status?.text}}</td> -->
                    <!-- <td *ngIf="lists?.apinvoicehdr_status?.id == 9 || lists?.apinvoicehdr_status?.id == 13 || lists?.apinvoicehdr_status?.id == 15 ">  -->
                        <!-- (click)="CommonViewEntry(lists?.apinvoiceheader_crno)" -->
                        <!-- <span matTooltip="view entry" class=" fa fa-eye create "
                        style="color: green;cursor: pointer;padding:10px" data-toggle="modal" data-target="#ap-0043" ></span>
                    </td> -->
                    <!-- <td  *ngIf="lists?.apinvoicehdr_status?.id != 9 && lists?.apinvoicehdr_status?.id != 13 && lists?.apinvoicehdr_status?.id != 15"> -</td> -->
<!--      
                    <td style="width: 20px;">
                        <button type="button" class="btn btn-outline-primary"  [disabled]="lists?.apinvoicehdr_status?.id == 51"
                        style="border-radius:40px; margin-top: 12px;" matTooltip="Release Fund"  (click)="Releasefund(lists)">
                        <i class="fa fa-arrow-right" aria-hidden="true"></i>
                        </button>
                    </td>
            
        </tr>
    </tbody>
</table>

<div *ngIf="commonSummary ?.length == 0" style="margin-left: 42%;">
<h3 >Sorry data not found!.. </h3>
</div>
</div> -->
<!-- <div class="row" *ngIf="iscommonsummarypage" style="width:85%">
<div  class="col-sm-3" style="margin-bottom: 5%;font-size: small;text-align:left;right:-225px;">
  
</div>
<div  class="col-sm-9" style="margin-bottom: 5%;font-size: small;text-align:right;left: 18%">
  
    <mat-paginator  
    (page)="handleCommonSearchPageEvent($event)"
    [length]="length_common"
    [pageSize]="pageSize_common"
    [showFirstLastButtons]="showFirstLastButtons"
    [pageSizeOptions]="pageSizeOptions"
    [pageIndex]="pageIndex"
    [hidePageSize]="true"
    aria-label="Select page">
    </mat-paginator>
</div>
</div> -->

</div>

<ng-template #searchDialog let-data>
    <h3 mat-dialog-title>Enter {{ searchField }}</h3>
    <mat-dialog-content>
  
      <mat-form-field *ngIf="searchType === 'input'" style="width: 100%;">
        <mat-label>{{ searchField }}</mat-label>
        <input matInput [(ngModel)]="searchValue" placeholder="Enter Value">
      </mat-form-field>
  
<div *ngIf="searchType === 'checkbox' && searchField === 'ECF Type' ">
    <mat-form-field style="width: 100%;">
        <mat-label>Filter {{ searchField }}</mat-label>
        <input matInput [(ngModel)]="searchQueryECF" (ngModelChange)="updateECFList()" placeholder="Search...">
    </mat-form-field>
    
    <div *ngFor="let item of filteredECFList">
        <mat-checkbox [(ngModel)]="selectedECFTypes[item.id]">
            {{ item.text }}
        </mat-checkbox>
    </div>
</div>


<div *ngIf="searchType === 'checkbox' && searchField === 'Invoice Status' ">
    <mat-form-field style="width: 100%;">
        <mat-label>Filter {{ searchField }}</mat-label>
        <input matInput [(ngModel)]="searchQueryStatus" (ngModelChange)="updateStatusList()" placeholder="Search...">
    </mat-form-field>
    
    <div *ngFor="let item of filteredStatusList">
        <mat-checkbox [(ngModel)]="selectedInvoiceStatus[item.id]">
            {{ item.text }}
        </mat-checkbox>
    </div>
</div>
<mat-form-field *ngIf="searchType === 'autocomplete'" style="width: 100%;">
    <mat-label>Supplier Name</mat-label>
    <input #suppInput placeholder="Choose Supplier" matInput [(ngModel)]="selectedSupplier"  
           (click)="getsuppdd()" [matAutocomplete]="Suppliertype" 
           (input)="filterSuppliers($event.target.value)">
           
           
        <mat-autocomplete #Suppliertype="matAutocomplete" (opened)="supplierScroll()">
            <mat-option *ngFor="let supplier of supplierNameData" [value]="supplier" 
                        (optionSelected)="selectSupplier($event.option.value)">
                {{ supplier.name }}
            </mat-option>
        </mat-autocomplete>
</mat-form-field>



    
    
  
    </mat-dialog-content>
  
    <mat-dialog-actions>
      <button mat-button (click)="closeDialog()">Cancel</button>
      <button mat-button color="primary" (click)="commonSummarySearch('',1)">Search</button>
    </mat-dialog-actions>
</ng-template>

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true" 
     id="schedular">
     <div class="modal-dialog modal-lg" >
         <div class="modal-content">
             <div class="modal-header">
                 <h3>Scheduler Change</h3>
                 <button type="button" class="close" #auditclose data-dismiss="modal" aria-label="Close" id="ap-0416">
                     <span aria-hidden="true">&times;</span>
                 </button>
             </div>

             <div class="modal-body">
                 <form [formGroup]="schedularchangeform">
                 <div class="searchs-expand">
                        <div id="matInput-size">
                            <mat-form-field appearance="outline">
                            <mat-label>Business Start Hours</mat-label>
                              <div style="display: flex">
                                <!--  [value]="startTimeDisplay" (input)="startTimeDisplay = $event.target.value" -->
                                <input style="margin-bottom:20px" readonly  matInput formControlName="start_time" (focus)="closeDropdown('start_time')">
                                <div>
                                <button mat-icon-button [matMenuTriggerFor]="startMenu">
                                  <mat-icon  style="margin-bottom:40px">access_time</mat-icon>
                                </button>
                          
                                <mat-menu #startMenu="matMenu">
                                  <button mat-menu-item *ngFor="let time of timeOptions" (click)="selectTime('start_time', time)">
                                    {{ time }}
                                  </button>
                                </mat-menu>
                                </div>
                              </div>
                            </mat-form-field>
                          </div>
                          
                          <div id="matInput-size">
                            <mat-form-field appearance="outline">
                              <mat-label>Business End Hours</mat-label>
                              <div style="display: flex">
                                <!-- <input matInput [value]="endTimeDisplay" (input)="endTimeDisplay = $event.target.value" (focus)="closeDropdown('end_time')"> -->
                                <input readonly  style="margin-bottom:20px" matInput formControlName="end_time" (focus)="closeDropdown('end_time')">
                               <div>
                                <button mat-icon-button [matMenuTriggerFor]="endMenu">
                                  <mat-icon style="margin-bottom:40px">access_time</mat-icon>
                                </button>
                          
                                <mat-menu #endMenu="matMenu">
                                  <button mat-menu-item *ngFor="let time of timeOptions" (click)="selectTime('end_time', time)">
                                    {{ time }}
                                  </button>
                                </mat-menu>
                                </div>

                              </div>
                            </mat-form-field>
                          </div>
                          
    
                        
                            <div id="matInput-size">
                                <mat-form-field appearance="outline">
                                    <mat-label>Schedular Interval(:Mins)</mat-label>
                                    <input matInput formControlName="schedule_interval" autocomplete="off" >
                                </mat-form-field>
                            </div>
                        </div>                           
                            
                        <div class="searchs-expand">
                            <div id="matInput-size">
                            <mat-form-field appearance="outline">
                                <mat-label>No of Threads</mat-label>
                                <input matInput formControlName="thread_count" autocomplete="off">
                            </mat-form-field>
                        </div>
                        <div id="matInput-size">
                            <mat-form-field appearance="outline">
                                <mat-label>No of Process</mat-label>
                                <input matInput formControlName="process_count" autocomplete="off">
                            </mat-form-field>
                        </div>
                        </div>
  
                 </form>
             </div>

             <div class="modal-footer">
                <button
                 class="btn btn-outline-success"
                  type="submit"
                  style="border-radius:40px;"
                (click)="schedulersubmit()">
                Submit
               </button>
                <button 
                class="btn btn-outline-primary"
                style="border-radius:40px;"
                 type="button" 
                (click)="back()">
                Back
               </button>
             </div>
     </div>
     </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true" 
     id="schedularhistory">
     <div class="modal-dialog modal-xl " >
         <div class="modal-content">
             <div class="modal-header" >
                 <h3>Scheduler History</h3>
                 <button type="button" class="close" #auditclose data-dismiss="modal" aria-label="Close" id="ap-0416">
                     <span aria-hidden="true">&times;</span>
                 </button>
             </div>

             <div class="modal-body">
                <lib-vs-cbox-summary
                [SummaryDetails]="SummaryschedulerData"
                [SummaryApiObj]="SummaryApischedulerObjNew"
                [FirstLastbtn]="true"
              ></lib-vs-cbox-summary>

                 <!-- <table class="table scrolltable table-bordered"  style="text-align:center;margin-top: 30px;width: 95%;margin-left: 30px;" >	        
                    <thead fixed-header>
                     <tr class="table_header " fixed-header>
            
                                <th>S.No</th>
                                <th>Business Start Hours</th>
                                <th>Business End Hours</th>
                                <th>Schedule Interval</th>
                                <th>Thread Count</th>
                                <th>Process Count</th>                            
                                <th>Updated Date</th>
                                <th>Updated By</th>
                                <th>Created By</th>
                                <th>Created Date</th>
                                <th>Status</th>
                               
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let lists of schedularhistorydata; index as i" style="text-align: center;">
                                <td> {{(presentpagecommon_schedular - 1)*pagesizecommon +i+1 }} </td>
                                <td>{{lists?.start_time}}</td>
                                <td>{{lists?.end_time}}</td>
                                <td>{{lists?.schedule_interval}}</td>
                                <td>{{lists?.thread_count}}</td>
                                <td>{{lists?.process_count}}</td>                            
                                <td>{{lists?.updated_date | date:'dd/MM/yyyy'}}</td>
                                <td>{{lists?.updated_by_name}}</td>
                                <td>{{lists?.created_by_name}}</td>
                                <td>{{lists?.created_date | date:'dd/MM/yyyy'}}</td>
                                <td *ngIf="lists?.status == 0">Inactive</td>
                                <td *ngIf="lists?.status == 1">Active</td>
    
                             
                        
                    </tr>
                </tbody>
                </table> -->

                <!-- <div *ngIf="schedularhistorydata?.length == 0">
                <h3 >Sorry data not found!.. </h3>
                </div>

                <div  class="col-sm-9" style="margin-bottom: 5%;font-size: small;text-align:right;left: 18%">
      
                    <mat-paginator  
                    (page)="handlehistorypage($event)"
                    [length]="length_schedularhistory"
                    [pageSize]="pageSize_common_schedular"
                    [showFirstLastButtons]="showFirstLastButtons"
                    [pageSizeOptions]="pageSizeOptions"
                    [pageIndex]="pageIndex"
                    [hidePageSize]="true"
                    aria-label="Select page">
                    </mat-paginator>
                </div>  -->
             </div>
     </div>
     </div>
</div>
</div>