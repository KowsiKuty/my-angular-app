<div class="container" *ngIf="isOldPage">
    <mat-card>
        <form [formGroup]="CampaignFormAllocations">
            <mat-card>
                <div class="row">
                    <div class="col-sm-12">
                        <div>
                            <div class="row">

                                <div class="col-sm-2">
                                    <mat-form-field>
                                        <mat-label>Filter Column</mat-label>
                                        <mat-select matInput formControlName="Zfileds"
                                            (selectionChange)="onSelectChange()">
                                            <mat-option *ngFor="let item of textValues" [value]="item.id">
                                                {{item.text}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2" style="margin-left: 10%;" *ngIf="isShowfilterCol">
                                    <mat-form-field style="    width: 95%;">
                                        <mat-label>Options</mat-label>
                                        <mat-select matInput formControlName="Zfilter"
                                            (selectionChange)="onOptionChange()">
                                            <mat-option *ngFor="let item of filteredDropdownItems" [value]="item.id">
                                                {{ item.iconName }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-sm-2" style="margin-left: 10%;" *ngIf="filtercol1 && isShowfilterCol">
                                    <mat-form-field>
                                        <mat-label>Type Here</mat-label>
                                        <input autocomplete="off" matInput formControlName="Zvalue" />
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2" *ngIf="selectedOption4" style="margin-left: 10%;">

                                    <mat-form-field>
                                        <mat-label>Type Here</mat-label>
                                        <input autocomplete="off" matInput formControlName="Zvalue1">
                                    </mat-form-field>


                                    <mat-form-field>
                                        <mat-label>Type Here</mat-label>
                                        <input autocomplete="off" matInput formControlName="Zvalue2">
                                    </mat-form-field>
                                </div>
                                <form [formGroup]="CampaignFormAllocation">
                                    <div class="col-sm-3" *ngIf="isCityDisplay">
                                        <mat-form-field style="margin-left: 115%;">
                                            <mat-label>City</mat-label>
                                            <input #city_idInput type="text" matInput
                                                (keyup)="CityDD(this.CampaignFormAllocation.value.city_id)"
                                                formControlName="city_id" [matAutocomplete]="city_idDD">
                                            <!-- <mat-icon matPrefix class="iconColor"
                                            *ngIf="this.CampaignFormAllocation.value.city_id?.id">done_all</mat-icon> -->
                                            <!-- <mat-icon matSuffix id="iconInput">search</mat-icon> -->
                                            <mat-autocomplete #city_idDD="matAutocomplete"
                                                [displayWith]="displayFncity_id">
                                                <mat-option *ngFor="let city_id of CampaignObjects.CityList"
                                                    [value]="city_id">
                                                    {{city_id.name}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div col-sm-3 *ngIf="isStateDisplay">
                                        <mat-form-field style="margin-left: 25%;">
                                            <mat-label>State</mat-label>
                                            <input #state_idInput type="text" matInput
                                                (keyup)="StateDD(this.CampaignFormAllocation.value.state_id)"
                                                formControlName="state_id" [matAutocomplete]="state_idDD">
                                            <!-- <mat-icon matPrefix class="iconColor"
                                            *ngIf="this.CampaignFormAllocation.value.state_id?.id">done_all</mat-icon> -->
                                            <!-- <mat-icon matSuffix id="iconInput">search</mat-icon> -->
                                            <mat-autocomplete #state_idDD="matAutocomplete"
                                                [displayWith]="displayFndistrict_id">
                                                <mat-option *ngFor="let state_id of CampaignObjects.StateList"
                                                    [value]="state_id">
                                                    {{state_id.name}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isShowDistrict">
                                        <mat-form-field class="ml-3">
                                            <mat-label>District</mat-label>
                                            <input #district_idInput type="text" matInput
                                                (keyup)="DistrictDD(this.CampaignFormAllocation.value.district_id)"
                                                formControlName="district_id" [matAutocomplete]="district_idDD">
                                            <!-- <mat-icon matPrefix class="iconColor"
                                            *ngIf="this.CampaignFormAllocation.value.district_id?.id">done_all</mat-icon> -->
                                            <!-- <mat-icon matSuffix id="iconInput">search</mat-icon> -->
                                            <mat-autocomplete #district_idDD="matAutocomplete"
                                                [displayWith]="displayFndistrict_id">
                                                <mat-option *ngFor="let district_id of CampaignObjects.DistrictList"
                                                    [value]="district_id">
                                                    {{district_id.name}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isShowpincode">
                                        <mat-form-field class="ml-3">
                                            <mat-label>Pincode</mat-label>
                                            <input #pincode_idInput type="text" matInput
                                                (keyup)="PincodeDD(this.CampaignFormAllocation.value.pincode_id)"
                                                formControlName="pincode_id" [matAutocomplete]="pincode_idDD">
                                            <!-- <mat-icon matPrefix class="iconColor"
                                            *ngIf="this.CampaignFormAllocation.value.pincode_id?.id">done_all</mat-icon> -->
                                            <!-- <mat-icon matSuffix id="iconInput">search</mat-icon> -->
                                            <mat-autocomplete #pincode_idDD="matAutocomplete"
                                                [displayWith]="displayFnpincode_id">
                                                <mat-option *ngFor="let pincode_id of CampaignObjects.PincodeList"
                                                    [value]="pincode_id">
                                                    {{pincode_id.no}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isSourceCol">
                                        <mat-form-field id="longInput">
                                            <mat-label>Source</mat-label>
                                            <mat-chip-list #chipListDist>
                                                <mat-chip *ngFor="let Dist of chipSelectedDist" [selectable]=true
                                                    [removable]=true (removed)="removedDist(Dist)">
                                                    {{Dist.name}}
                                                    <mat-icon matChipRemove>cancel</mat-icon>
                                                </mat-chip>
                                                <input #DistInput [formControl]="Source_id" [matAutocomplete]="Dist"
                                                    placeholder="Select Source" class="matformfieldinputstyle"
                                                    (keyup)="getDist(Source_id.value)" [matChipInputFor]="chipListDist"
                                                    required [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                    [matChipInputAddOnBlur]=true>
                                            </mat-chip-list>
                                            <mat-icon matPrefix class="iconColor"
                                                *ngIf="chipSelectedDistid?.length>0">done_all</mat-icon>
                                            <mat-icon matSuffix id="iconInput">search</mat-icon>
                                            <mat-autocomplete #Dist="matAutocomplete"
                                                (optionSelected)="DistSelected($event)">
                                                <mat-option *ngFor="let Dist of DistList" [value]="Dist">
                                                    {{Dist.name}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>

                                    </div>
                                </form>

                                <div class="col-sm-2" style="margin-left: 8%;
                                margin-right: 1%;
                                margin-top: 2%;
                                color: lightseagreen;">
                                    <mat-icon style="font-size: 25px;
                               " (click)="onAddChip()"> add_circle_outline </mat-icon>
                                </div>

                            </div>


                        </div>
                    </div>


                </div>

            </mat-card>
        </form>
        <mat-card style="margin-top: 1%;">

            <mat-chip-list>
                <mat-chip *ngFor="let value of formValues" [removable]="true" (removed)="removeFromChips(value)">
                    {{ value.Zfileds }} {{ value.Zfilter }} {{ value.Zvalue }} {{value.state_id}}
                    {{value.district_id}}{{value.source}}{{value.city_id}}{{value.pincode_id}}
                    <mat-icon matChipRemove>cancel</mat-icon>
                </mat-chip>
            </mat-chip-list>

        </mat-card>
    </mat-card>
    <mat-card>
        <table>
            <tr>
                <td *ngIf="this.CampaignObjects.SelectFilterCampaign?.length > 0">
                    Lead Count:
                    <button mat-mini-fab id="buttonsSubmit">
                        {{CampaignObjects?.Count}}
                    </button>
                </td>
                <td style="display: flex;" *ngIf="this.CampaignObjects.SelectFilterCampaign?.length > 0">
                    <button mat-stroked-button type="button" id="buttonsWhite" (click)="ShowOrHideProduct()">Start Campaign</button>

                </td>
            </tr>
        </table>
        <form [formGroup]="CampaignFormAllocation">
        <div class="col-sm-12 col-md-12 col-lg-12"
                    *ngIf="showProduct && this.CampaignObjects.SelectFilterCampaign?.length > 0">

                    <div class="mt-2">

                        <mat-label>Campaign Name</mat-label><br>
                        <mat-form-field appearance="outline" class="matformfieldstyle" id="longInput">
                            <input class="matformfieldinputstyle" autocomplete="off" matInput placeholder="Name"
                                formControlName="name">
                        </mat-form-field>
                    </div>
                    <div class="mt-2">
                        <mat-label>Product </mat-label><br>
                        <mat-form-field id="longInput">
                            <mat-chip-list #chipListprod>
                                <mat-chip *ngFor="let prod of chipSelectedprod" [selectable]=true [removable]=true
                                    (removed)="removedprod(prod)">
                                    {{prod.name}}
                                    <mat-icon matChipRemove>cancel</mat-icon>
                                </mat-chip>
                                <input #prodInput [formControl]="product_id" [matAutocomplete]="prod"
                                    placeholder="Select Product" class="matformfieldinputstyle"
                                    (keyup)="getprod(product_id.value)" [matChipInputFor]="chipListprod"
                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]=true>
                            </mat-chip-list>
                            <mat-icon matSuffix id="iconInput">search</mat-icon>
                            <mat-autocomplete #prod="matAutocomplete" (optionSelected)="prodSelected($event)">
                                <mat-option *ngFor="let prod of prodList" [value]="prod">
                                    {{prod.name}}
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>

                    <button class="ml-2" mat-stroked-button type="button" id="buttonsSubmit" (click)="CampaignSubmitNew();">
                        Submit </button>


                </div>
                </form>
    </mat-card>




</div>