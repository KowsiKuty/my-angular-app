<div class="container mt-1">
    <mat-card>
        <h2>Product</h2>
        <div class="row ml-2">
            <div class="col-sm-12 col-md-12 col-lg-12">
            <form [formGroup]="productSummarySearch">
                <table>
                    <tr>
                        <td> 
                            <!-- <mat-label>Code / Name  </mat-label><br> -->
                            <mat-form-field>
                                <input type="text" matInput autocomplete="off" placeholder="Code"
                                    formControlName="codename">
                            </mat-form-field> 
                        </td>
                        <td>

                            <!-- <mat-label class="ml-4">Category</mat-label><br> -->
                            <mat-form-field class="ml-4">
                                <input #catInput placeholder="Select Category" type="text" matInput
                                    (keyup)="catDD(this.productSummarySearch.value.category_id)" formControlName="category_id"
                                    [matAutocomplete]="cat">
                                <mat-autocomplete #cat="matAutocomplete" [displayWith]="displayFncat">
                                    <mat-option *ngFor="let cat of ProductObjects.categoryList" [value]="cat">
                                        {{cat.name}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
    
    
                        </td>
    
                        <td>
    
                            <!-- <mat-label class="ml-4">SubCategory</mat-label><br> -->
                            <mat-form-field class="ml-4">
                                <input #subcatInput placeholder="Select Category" type="text" matInput
                                    (keyup)="subcatDD(this.productSummarySearch.value.subcategory_id, this.productSummarySearch.value.category_id?.id)"
                                    formControlName="subcategory_id" [matAutocomplete]="subcat">
                                <mat-autocomplete #subcat="matAutocomplete" [displayWith]="displayFnsubcat">
                                    <mat-option *ngFor="let sub of ProductObjects.subcategoryList" [value]="sub">
                                        {{sub.name}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
    
    
                        </td>
                        <td>
                            <button class="ml-2" mat-stroked-button type="button" id="buttonsSubmit" aria-label="Search"
                                (click)="ProductSearch('')">
                                <mat-icon>search</mat-icon>
                            </button>
                        </td>
                        <td>
                            <button class="ml-2" mat-stroked-button type="button" id="buttonsWhite"
                                (click)="resetProduct()">Clear</button>

                        </td>
                        <td>
                            <button class="ml-2" mat-stroked-button type="button" id="buttonsWhite"
                            
                                (click)="AddProduct()">Add</button>

                        </td>
                </table>
            </form>
            </div>
        


        <div class="col-sm-12 col-md-12 col-lg-12">

            <table class="table table-bordered" id="tableGlobal">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Sub Category </th> 
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let type of ProductObjects.ProductList; let proindex = index">
                        <td>{{(ProductObjects?.presentpageProduct - 1)*10+proindex+1}}</td>
                        <td><span id="hyperlink" (click)="productView(type)" > ({{type?.code}}) {{type?.name}} </span> </td>
                        <td>{{type?.category_id?.name}}</td>
                        <td>{{type?.subcategory_id?.name}}</td> 
                    </tr>
                </tbody>
            </table>
            <div *ngIf="ProductObjects.ProductList?.length==0 || ProductObjects.ProductList == undefined || ProductObjects.ProductList == '' ; else paginationpro"
                class="NodataAlign text-center">No Records Found...</div>
            <ng-template #paginationpro>
                <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 5%;">
                    <button type="button" mat-icon-button [disabled]="ProductObjects.has_previousProduct == false"
                        color="primary" (click)="ProductSearch('previous')">
                        <mat-icon>arrow_back</mat-icon>
                    </button> {{ProductObjects?.presentpageProduct}}
                    <button type="button" mat-icon-button [disabled]="ProductObjects.has_nextProduct === false"
                        color="primary" (click)="ProductSearch('next')">
                        <mat-icon>arrow_forward</mat-icon>
                    </button>
                </div>
            </ng-template>


        </div>
    </div>




    </mat-card>

</div>