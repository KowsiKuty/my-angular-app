<div >
    <h3 style="margin-left: 30px;font-size:25px;font-family:Times New Roman;font-weight:bold;color:blue">Asset Maker Summary</h3><hr>
    <div style="margin-left: 15px;">
        <form [formGroup]="assetmakersum" (ngSubmit)="searchdata()">
        <div class="row">
           

                <div class="col-md-3">
                    <mat-form-field class="example-full-width" style="margin-left: 5%;width:220px">
                        <input class="toolbar-search" type="text" matInput autocomplete="off" #inputassetids formControlName="assetid" [matAutocomplete]="assetid">
                        <mat-placeholder>Asset Id</mat-placeholder>
                        <mat-autocomplete #assetid="matAutocomplete" #assetids (opened)="autocompleteid()">
                            <mat-option *ngIf="isLoading">Loading..</mat-option>
                            <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let d of assetidlist" [value]="d.assetdetails_id" (focusout)="assetidselect(d)">{{d.assetdetails_id}}</mat-option>
                            </ng-container>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="example-full-width" style="margin-left: 3%;">
                        <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="assetvalue">
                        <mat-placeholder>Asset Value</mat-placeholder>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field style="margin-left: 3%;">
                    <input type='text' matInput autocomplete="off" formControlName="crno" [matTooltip]="assetmakersum.get('crno').value">
                    <mat-label>CR No</mat-label>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field>
                        <mat-label>Cap Date</mat-label>
                        <input [matDatepicker]="picker" [max]="date | date:'yyyy-MM-dd'" matInput formControlName="capdate">
                        <mat-datepicker-toggle matSuffix [for]="picker" ></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>
            </div>
            <div class="row" style="margin-left:3px">
                <div class="col-md-3">
                    <mat-form-field style="width:220px">
                        <mat-label>Category</mat-label>
                        <input type="text" #inputcategorys matInput autocomplete="off" [matAutocomplete]="category" formControlName="category">
                        <mat-autocomplete #categorys #category="matAutocomplete" (opened)="autocompletecategory()">
                            <mat-option *ngIf="isLoading">Loading..</mat-option>
                            <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let d of categorylist" [value]="d['subcategory_id'].name" (focusout)="categoryselect(d)">{{d['subcategory_id'].name}}</mat-option>
                            </ng-container>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field  style="width:220px">
                        <mat-label>Branch</mat-label>
                        <input type="text" matInput autocomplete="off" #inputbranchs [matAutocomplete]="branch" formControlName="branch">
                        <mat-autocomplete #btanchs #branch="matAutocomplete" (opened)="autocompletecategorybranch()">
                            <mat-option *ngIf="isLoading">Loading..</mat-option>
                            <ng-container *ngIf="!isLoading">
                
                <mat-option *ngFor="let d of branchlist" [value]="d.name" (focusout)="branchselect(d)">{{d.name}}</mat-option>
                            </ng-container>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field> 
                        <mat-label>From Date</mat-label>
                        <input [max]="previousDate" [matDatepicker]="fromdate"  matInput formControlName="fromdate" (dateChange)="fromdateSelection($event.value)">
                        <mat-datepicker-toggle matSuffix [for]="fromdate"></mat-datepicker-toggle>
                        <mat-datepicker #fromdate></mat-datepicker>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field>
                        <mat-label>To Date</mat-label>
                        <input formControlName="todate" [matDatepicker]="todate" matInput [min]="select" [max]="previousDate">
                        <mat-datepicker-toggle matSuffix [for]="todate"></mat-datepicker-toggle>
                        <mat-datepicker #todate></mat-datepicker>
                    </mat-form-field>
                </div>
                
                </div>
                <div style="margin-left: 10px;gap: 10px;" class="row">
                    <button mat-raised-button type="button" style="border-radius: 20px;" class="btn btn-primary prepareexcel" color="primary" (click)="Download_maker_prepare()"
                    >
                    Prepare Excel For Download
                    <mat-icon *ngIf="first"><mat-spinner color="accent" diameter="20">
                        </mat-spinner></mat-icon>
                    <mat-icon *ngIf="!first" inline=true style="color:black">download</mat-icon>
                </button>
                <button mat-raised-button type="button" class="btn btn-primary prepareexcel" color="primary" (click)="download_maker_file()" style="border-radius: 20px;"
                >
                Download
            </button>
            <div class="col-md-3">
                  
                <button class="btn btn-primary" type="submit" style="border-radius:40px;margin-left: 4px; width:40px;height: 40px;"
                    color="primary"><i class="fa fa-search" aria-hidden="true"></i></button>
                <button class="btn btn-primary" (click)="resets()" type="reset" style="border-radius:40px;margin-left: 4px; width:80px;height: 40px;"
                    color="primary">Reset</button>
               <!-- <button type="button" class="btn btn-outline-primary" data-toggle="modal"
                    data-target="#exampleModal"
                    style="border-radius:40px;margin-left: 4px; width:40px;height: 40px;">
                    <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                </button>-->
                
            </div>
                <div class="col-md-2">
                    <button type="button" class="btn btn-outline-success" style="border-radius:40px;margin-left: 10px"
                        [routerLink]='"/fa/assetmaker"'><span class="fa fa-plus"></span>Add</button>
                </div>
                </div>
            </form>
                    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel"
                                        style="font-size:1.2vw;font-weight: bolder;">Depreciation setting</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">

                                    <div>

                                        <form>
                                            <table>
                                                <div>



                                                    <tr>
                                                        <td>

                                                            <mat-form-field style="width: 175px;">
                                                                <mat-label>Depreciating Type</mat-label>
                                                                <input matInput placeholder="Depreciating Type"
                                                                    autocomplete="off" required>
                                                            </mat-form-field>
                                                        </td>
                                                    </tr>
                                                </div>
                                            </table>

                                        </form>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-success">Submit</button>

                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            
        <!--</div>-->
    </div>
    <div class="Container" style="margin-left: 25px;">

        <div class="table-responsive table-hover" style="width:98%;margin-top: 1%;font-size:14px">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>CR No.</th>
                        <th>Asset Transaction ID</th>
                        <th>Product Name</th>
                        <th>Asset Sub-Category</th>
                        <th>Cap Date</th>
                        <th>Asset Value</th>
                        <th>Vendor Name</th>
                        <th>Branch Name</th>
                        <th> Request For</th>
                        <th>Rejected Reason</th>
                        <th>Status</th>


                    </tr>
                </thead>
                
                <tbody>
                    <tr *ngFor="let assetcat of assetcatslist; index as i">
                        <th scope="row">{{ (presentpageloc-1)*pageSize+i+1 }}</th>
                        <td>{{assetcat.crnum}}</td><!-- <td>{{ assetcat.area_occupied}}</td> -->
                        <td>{{assetcat.assetdetails_id}}</td><!-- <td>{{ assetcat.area_occupied}}</td> -->
                       <td>{{assetcat['product_id'].name}}</td> <!-- <td>{{ assetcat.area_occupied}}</td> -->
                       <td>{{assetcat['subcat']['name']?assetcat['subcat']['name']:'-'}}</td>
                       <td>{{assetcat.date | date:"dd-MMM-yyyy"}}</td>
                       <td>{{assetcat.assetdetails_value}}</td> <!-- <td>{{ assetcat.area_occupied}}</td> -->
                       <td>{{assetcat.vendorname}}</td>
                       <td>{{assetcat['branch_id'].name}}</td>
                        <td class="text-center">{{assetcat.requestfor}}</td>
                       <td class="text-center"><button type="button" (click)="clickreason(assetcat)" style="border: none;background: none;color: rgb(119, 119, 190);"><span [matTooltip]="assetcat.reason">Reason</span></button></td>
                        <td>
                            {{assetcat.assetdetails_status}}
                        </td>
                        <!--     
    <td>
         <button mat-icon-button matTooltip="Delete" class="iconbutton"
         (click)="deletelanlord(landlord)"
    color="primary">
    <mat-icon style="color: gray;" aria-label="Delete">delete</mat-icon>
    </button></td> -->
                    </tr>
                    <tr *ngIf="assetcatslist.length==0">
                        <td colspan="11">No Records Found..</td>
                    </tr>
                </tbody>
            </table>
            <!-- <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 5%;">
    <button mat-icon-button [disabled]="has_previous === false" color="primary"
    (click)="previousClick()">
    <mat-icon >arrow_back</mat-icon>
    </button>
    {{presentpage}}
    <button mat-icon-button [disabled]="has_next === false" color="primary" 
    (click)="nextClick()">
    <mat-icon >arrow_forward</mat-icon>
    </button>
    </div> -->
    <div style="text-align: center;margin-top: 20px;">
        <b>Reason:&nbsp;</b>{{reason}}
    </div>
            <div class="row">
                <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 100px;">
                    <button mat-icon-button [disabled]="!has_previousasset" color="primary"
                        (click)=" previousClick()">
                        <mat-icon>arrow_back</mat-icon>
                    </button>
                    {{presentpageloc}}
                    <button mat-icon-button [disabled]="!has_nextasset" color="primary" (click)=" nextClick()">
                        <mat-icon>arrow_forward</mat-icon>
                    </button>
                </div>
            </div>
        </div>
        <button type="button" routerLink="/fa/fa" class="btn btn-outline-success" style="border-radius:30px;height:40px;margin-left:10px"><span
            class="fa fa-arrow-left">Go Back</span></button>
    </div>
<br>
