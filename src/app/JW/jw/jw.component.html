<div style="background-color: #F6F6F6">
    <mat-card style="margin:20px 12px 20px 20px;" class="mat-elevation-z0">
    <nav>
        <div class="nav nav-tabs" style="margin-top: 10px;">
            <span class="nav-item nav-link" data-toggle="tab" (click)="JVSubModule(sub)" role="tab"
                *ngFor="let sub of JV_Sub_Menu_List">
                {{sub.name}}
            </span>
        </div>
    </nav>

    <!-- -- JV SUMMARY ---->
     
    <div *ngIf="jvsummaryForm">
        
        <!-- <div class="col-md-12"> -->
            <form [formGroup]="jvSearchForm">
                <p style="color:black;font-size: 22px;font-weight: 500;margin-top: 20px;margin-left: 30px;">
                    JW Summary Search
                </p>

                <!-- <div class="row"> -->
                    <!-- <div class="col-md-3">
                        <mat-label>CR Number</mat-label><br>
                        <mat-form-field  class="matformfieldstyle" appearance="outline">
                            <input class="matformfieldinputstyle" type="text" matInput autocomplete="off" placeholder="CR Number" formControlName="crno">
                        </mat-form-field>
                    </div> -->

                    <table>
                        <tr>
                          <td>
                            <mat-form-field class="example-full-width" style="margin-left: 35px;">
                                <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="jecrno">
                                <mat-placeholder>CR Number</mat-placeholder>
                            </mat-form-field>
                          
                        </td>

                    <!-- <div class="col-md-3">
                        <mat-label>Type</mat-label><br>
                        <mat-form-field class="matformfieldstyle" appearance="outline">
                            <mat-select  class="matformfieldinputstyle" placeholder="Type" formControlName="type">
                                <mat-option *ngFor="let type of TypeList" [value]="type.id" matTooltip="{{type.text}}">
                                    {{type.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div> -->
                  <td>
                    <mat-form-field class="example-full-width" style="margin-left: 50px;">
                        <mat-label>Type</mat-label>
                        <mat-select  formControlName="jetype" >
                            <mat-option *ngFor="let type of TypeList" [value]="type.id" matTooltip="{{type.text}}">
                                {{type.text}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </td>

                    <!-- <div class="col-md-3">
                        <mat-label>Ref Number</mat-label><br>
                        <mat-form-field  class="matformfieldstyle" appearance="outline">
                            <input class="matformfieldinputstyle" type="text" matInput autocomplete="off" placeholder="Ref Number" formControlName="refno">
                        </mat-form-field>
                    </div> -->
                    <td>
                        <mat-form-field class="example-full-width" style="margin-left: 50px;">
                            <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="jerefno">
                            <mat-placeholder>Ref Number</mat-placeholder>
                        </mat-form-field>
                      
                    </td>

                   <td>
                        
                       
                        <mat-form-field class="example-full-width" style="margin-left: 50px;"  (click)="getbranchdropdown()">
                            <mat-label > Branch </mat-label>
                            <input #branchInput  matInput
                                formControlName="jebranch" [matAutocomplete]="branchtyperole" 
                                placeholder="Choose Branch">
                            <!-- <mat-icon matSuffix class="maticonsize">unfold_more</mat-icon> -->
                            <mat-autocomplete [panelWidth]="400" #branchtyperole="matAutocomplete"
                                [displayWith]="displayFnbranchrole" (opened)="branchScroll()">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let branch of Branchlist" [value]="branch" matTooltip=" {{branch.code}}-{{branch.name}}">
                                        {{branch.code}}-{{branch.name}}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                     
                       
                        <mat-form-field class="example-full-width" style="margin-left: 35px;"  (click)="getraiserdropdown()">
                            <mat-label>JW Maker Name</mat-label>
                            <input #raiserInput matInput
                                formControlName="created_by" [matAutocomplete]="raisertyperole" 
                                placeholder="Choose JW Maker">
                            <!-- <mat-icon matSuffix class="maticonsize">unfold_more</mat-icon> -->
                            <mat-autocomplete [panelWidth]="400" #raisertyperole="matAutocomplete"
                                [displayWith]="displayFnraiserrole" (opened)="raiserScroll()">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let data of Raiserlist" [value]="data" matTooltip = "{{data.full_name}}">
                                        {{data.full_name}}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                    </td>

                    <!-- <div class="col-md-3">
                        <mat-label >Txn Date</mat-label><br>
                        <mat-form-field  class="matformfieldstyle"
                            appearance="outline">
            
                            <input matInput [matDatepicker]="picker1" 
                                class="matformfieldinputstyle" autocomplete="off"
                                formControlName="date" placeholder="Txn Date">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                    </div> -->

                    <!-- <div class="col-md-3">
                        <mat-label>Amount</mat-label><br>
                        <mat-form-field  class="matformfieldstyle" appearance="outline">
                            <input class="matformfieldinputstyle"  matInput autocomplete="off" placeholder="" formControlName="amount"
                            (keypress)="numberOnlyandDot($event)" >Amount
                        </mat-form-field>
                    </div> -->

                    <td>
                        <mat-form-field class="example-full-width" style="margin-left: 50px;">
                            <input class="toolbar-search" matInput autocomplete="off" formControlName="jeamount"
                            (keypress)="numberOnlyandDot($event)">
                            <mat-placeholder>Amount</mat-placeholder>
                        </mat-form-field>
                      
                    </td>

                    <!-- <div class="col-md-3">
                        <mat-label>Status</mat-label><br>
                        <mat-form-field class="matformfieldstyle" appearance="outline">
                            <mat-select  class="matformfieldinputstyle" placeholder="Status" formControlName="status">
                                <mat-option *ngFor="let status of StatusList" [value]="status.id" matTooltip=" {{status.text}}">
                                    {{status.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                       
                       
                    </div> -->

                    <td>
                        <mat-form-field class="example-full-width" style="margin-left: 50px;">
                            <mat-label>Status</mat-label>
                            <mat-select  formControlName="jestatus" >
                                <mat-option *ngFor="let status of StatusList"  [value]="status.id" matTooltip="{{status.text}}">
                                    {{status.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </td>
                    <td>
                        <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 50px;" color="primary"
                        (click)="jvsummarysearch('')"><i matTooltip="Search" class="fa fa-search" aria-hidden="true"></i></button>
                    </td>
                    <td>
                        <button class="btn btn-outline-danger" type="button" style="border-radius:40px;margin-left: -125px;"
                         color="primary" (click)="jvreset()" matTooltip="Reset">Reset</button>
                    </td>
                    <td>

                        <button type="button" class="btn btn-outline-success" matTooltip="JW Creation"
                        style="border-radius:40px;margin-left:-45px;" (click)="createjv()"><span
                        class="fa fa-plus"></span></button>
                       
                    </td>
                    <td>
                        
                        <button type="button" class="btn btn-outline-info" matTooltip="JW Bulk Upload"
                        style="border-radius:40px;margin-left:5px;" (click)="uploadjv()"><span
                        class="fa fa-plus"></span></button>
                    </td>

                     <td>
                        <button type="button" class="btn btn-outline-info" matTooltip="Summary Download"
                        style="border-radius:40px;margin-left:12px;" (click)="downloadjw(true)"><span
                        class="fa fa-download"></span></button>
                    </td>

                     <td>
                        
                        <button type="button" class="btn btn-outline-info" matTooltip="Report Download"
                        style="border-radius:40px;margin-left:13px;" data-target="#reportjw" data-toggle="modal"><span
                        class="fa fa-download"></span></button>
                    </td>
                    <!-- <div class="col-md-3">
                        <div style="margin-top: 12px;">
                            <button mat-fab style="background-color: white;margin-left: 5px" aria-label="Search"  (click)="jvsummarysearch()" matTooltip="Search">
                                <mat-icon>search</mat-icon>
                            </button>
                            <button mat-fab type="submit"  (click)="jvreset()"
                            style="border-radius:40px;margin-left: 15px;background-color: white;" matTooltip="Reset">Clear</button>
                            <button mat-fab style="margin-left: 20px;background-color: blue;color: white;" (click)="createjv()"
                            matTooltip="JV Creation">
                                <mat-icon >add</mat-icon>
                            </button>
                            <button mat-fab style="margin-left: 20px;background-color:darkorchid;color: white;" (click)="uploadjv()"
                            matTooltip="JV Bulk Upload">
                                 <mat-icon >add</mat-icon>
                             </button>
                             top:-59px; right:-220px; -->
                        <!-- </div>
                    </div>  -->



                <!-- </div> -->
             </tr>
            </table>

                </form>
           <!-- </div> -->



           <p style="color:black;font-size: 22px;font-weight: 500;margin-left: 30px;margin-top: 20px;">
            JW Summary
          </p>

          <!-- <div  style="margin-top: 2%;margin-left: 35px; width: 90%;">
            <table class="table table-bordered table-responsive padsize" style="text-align:center;" >	
                
                <thead>
                    <tr class="table_header tableset " style="text-align: center;margin-left: 3%;"> -->

          <!-- <div style="margin-left: 15px;">
            <table class="table"style="margin-top: 10px;max-width: 100%;" id ='commonstyle'>
                <thead class="table_header" >
                    <tr style="white-space: nowrap;text-align: center;background-color:#EDF8FA;"> -->
                        <div class="table-responsive" style="margin-top: 1%;width: 98%;margin-left: 30px;">
                            <table class="table scrolltable table-bordered" fixed-header>
                                <thead>
                                    <tr class="table_header" fixed-header style="text-align:center;">
                        <th>S.No</th>
                        <th>CR Number</th>
                        <th>Type</th>
                        <th>Ref Number</th>
                        <th>Raiser Code and Name</th>
                        <th>Branch Name and Code</th>
                        <th>Transaction Date</th>
                        <th>Total Amount</th>
                        <!-- <th>Attachment</th> -->
                        <th>Status</th>
                        <th >Entries</th>
                        <!-- <th>Transaction</th> -->
                        <th>View</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of jvList;index as i" style="text-align: center;">
                        <td>{{(presentpagejwsum - 1)*jvpagesize +i+1 }}</td>
                        <td>{{data?.jecrno}}</td>
                        <td>{{data?.jetype}}</td>
                        <td>{{data?.jerefno}}</td>
                        <td>{{data?.created_by?.code}}-{{data?.created_by?.name}}</td>
                        <td>{{data?.jebranch?.name}}-{{data?.jebranch?.code}}</td>
                        <td>{{data?.jetransactiondate | date:'dd/MM/yyyy'}}</td>
                        <td>{{data?.jeamount|currency:'INR'}}</td>
                        <!-- <td  style="text-align:center">
                            <span matTooltip="view Attached File" class=" fa fa-eye create "
                            style="color: black;cursor: pointer;" data-target="#showattachmentpopup" data-toggle="modal"></span>
                        </td> -->
                        <td>{{data?.jestatus}}</td>
                        <td style="text-align:center" *ngIf="data?.jestatus == 'Approved'">
                            <span matTooltip="View Entries" class=" fa fa-eye create "
                            style="color: green;cursor: pointer;" data-target="#showentrydetails" data-toggle="modal" (click)="getjvcrno(data?.jecrno)"></span>
                        </td>
                        <td style="text-align:center" *ngIf="data?.jestatus != 'Approved'">-</td>
                        <!-- <td style="text-align:center">
                            <span matTooltip="view Transaction" class=" fa fa-eye create "
                            style="color: black;cursor: pointer;" data-target="#showtrandetails" data-toggle="modal"></span>
                        </td> -->
                        <td style="text-align: center;">
                            <span matTooltip="View" class=" fa fa-eye create "
                            style="color: green;cursor: pointer;" (click)="showjvsummaryviews(data)" ></span>  
                        </td>
                        <td *ngIf="data?.jestatus == 'Returned'" style="text-align: center;"> 
                            <mat-icon style="color: green;" aria-label="Edit"  (click)="showjvsummaryedit(data)">edit</mat-icon>                            
                        </td>
                        <td *ngIf="data?.jestatus != 'Returned'" style="text-align: center;">- </td>
                        <td  *ngIf="data?.jestatus != 'Approved' && data?.jestatus != 'Rejected' && data?.jestatus != 'Deleted'">
                            <button mat-icon-button type="button" matTooltip="Delete" style="margin-top:-15px">
                                <mat-icon style="color: green;" aria-label="Edit" (click)="delete(data.id)"  >
                                    delete</mat-icon>
                            </button>
                        </td>
                        <td  *ngIf="data?.jestatus == 'Approved' || data?.jestatus == 'Rejected' || data?.jestatus == 'Deleted'">
                            <button mat-icon-button type="button" matTooltip="Delete" [disabled]="true" style="margin-top:-15px;">
                                <mat-icon style="color: grey;" aria-label="Edit" >
                                    delete</mat-icon>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <!-- ----To add paginatrion--- -->
            <div *ngIf="!isjwsumpage" class="NodataAlign" style="margin-left: 35%;">No Records Found...</div>

            <div class="row" *ngIf="isjwsumpage" style="width: 90%;">
    
                <div class="col-md-3" style="margin-bottom: 10px;font-size: small;font-weight:bold;margin-top: 15px;">
                     Page: {{presentpagejwsum}}
                </div>
                <div class="col-md-9" style="margin-bottom: 0%;font-size: small;right:10px">
           
                <mat-paginator  
                                    (page)="handlePageEventjwsum($event)"
                                    [length]="length_jwsum"
                                    [pageSize]="pageSize_jwsum"
                                    [showFirstLastButtons]="showFirstLastButtons"
                                    [pageSizeOptions]="pageSizeOptions"
                                    [pageIndex]="pageIndexjwsum"
                                    [hidePageSize]="true"
                                    aria-label="Select page">
                </mat-paginator>
                </div>
            </div>
            
            <!-- <div *ngIf="jvList ?.length == 0" style="margin-left: 42%;">
                <h3 >Sorry data not found!.. </h3>
            </div>
            <div class="row" *ngIf="issummarypage">
                <div  class="col-sm-3" style="margin-bottom: 5%;font-size: small;text-align:left;right:-225px;">
                    <p style="color:black;font-size: 18px;font-weight: 500;margin-left: -225px;">
                        Total Count:{{jwtotalcount}}
                    </p> 
                </div>
                <div class="col-sm-9" style="font-size: small;text-align: right; margin-bottom: 50px;">
                    <button mat-icon-button [disabled]="has_pageprevious === false" color="primary"
                        (click)="previousClickjv()">
                        <mat-icon>arrow_back</mat-icon>
                    </button>
                    {{jvpresentpage}}
                    <button mat-icon-button [disabled]="has_pagenext === false" color="primary"
                        (click)="nextClickjv()">
                        <mat-icon>arrow_forward</mat-icon>
                    </button>
                </div>
            </div> -->
            </div>

        </div>





    <!-- ---------- -->

    <div *ngIf="jvcreateForm">
        <app-jw-creation (onSubmit)="jvcreatesubmit()" (onCancel)="jvcreatecancel()">
        </app-jw-creation>
    </div>

    <!-- ----------- -->

    <!-- -- JV Approval SUMMARY ---->
     
    <div *ngIf="jvapprovalsummaryForm">
        
        <!-- <div class="col-md-12"> -->
            <form [formGroup]="jvapprovalSearchForm">
                <p style="color:black;font-size: 22px;font-weight: 500;margin-top: 20px;margin-left: 30px;">
                    JW Approval Search
                </p>

                <!-- <div class="row"> -->
                    <!-- <div class="col-md-3">
                        <mat-label>CR Number</mat-label><br>
                        <mat-form-field  class="matformfieldstyle" appearance="outline">
                            <input class="matformfieldinputstyle" type="text" matInput autocomplete="off" placeholder="CR Number" formControlName="crno">
                        </mat-form-field>
                    </div> -->
                    <table>
                        <tr>
                          <td>
                            <mat-form-field class="example-full-width" style="margin-left: 35px;">
                                <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="jecrno">
                                <mat-placeholder>CR Number</mat-placeholder>
                            </mat-form-field>
                          
                        </td>

                    <!-- <div class="col-md-3">
                        <mat-label>Type</mat-label><br>
                        <mat-form-field class="matformfieldstyle" appearance="outline">
                            <mat-select  class="matformfieldinputstyle" placeholder="Type" formControlName="type">
                                <mat-option *ngFor="let type of TypeList" [value]="type.id" matTooltip="{{type.text}}">
                                    {{type.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div> -->
                    <td>
                        <mat-form-field class="example-full-width" style="margin-left: 50px;">
                            <mat-label>Type</mat-label>
                            <mat-select  formControlName="jetype" >
                                <mat-option *ngFor="let type of TypeList" [value]="type.id" matTooltip="{{type.text}}">
                                    {{type.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </td>
    

                    <!-- <div class="col-md-3">
                        <mat-label>Ref Number</mat-label><br>
                        <mat-form-field  class="matformfieldstyle" appearance="outline">
                            <input class="matformfieldinputstyle" type="text" matInput autocomplete="off" placeholder="Ref Number" formControlName="refno">
                        </mat-form-field>
                    </div> -->
                    <td>
                        <mat-form-field class="example-full-width" style="margin-left: 50px;">
                            <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="jerefno">
                            <mat-placeholder>Ref Number</mat-placeholder>
                        </mat-form-field>
                      
                    </td>

                    <td>
                        
                       
                        <mat-form-field class="example-full-width" style="margin-left: 50px;"  (click)="getbranchdropdown()">
                            <mat-label >Branch</mat-label>
                            <input #branchInput  matInput formControlName="jebranch" [matAutocomplete]="branchtype" placeholder="Choose Branch">
                            <!-- <mat-icon matSuffix class="maticonsize">unfold_more</mat-icon> -->
                            <mat-autocomplete [panelWidth]="400" #branchtype="matAutocomplete"
                                [displayWith]="displayFnbranch" (opened)="branchScroll()">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let branch of Branchlist" [value]="branch" matTooltip="{{branch.code}}-{{branch.name}}">
                                        {{branch.code}}-{{branch.name}}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                    </td>
                </tr>
                <tr>

                  <td>
                      
                       
                        <mat-form-field class="example-full-width" style="margin-left: 35px;"  
                             (click)="getraiserappdropdown()">
                             <mat-label>JW Maker Name</mat-label>
                            <input #raiserappInput matInput
                                formControlName="created_by" [matAutocomplete]="raiserapptyperole" 
                                placeholder="Choose JW Maker">
                            <!-- <mat-icon matSuffix class="maticonsize">unfold_more</mat-icon> -->
                            <mat-autocomplete [panelWidth]="400" #raiserapptyperole="matAutocomplete"
                                [displayWith]="displayFnappraiserrole" (opened)="raiserappScroll()">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let data of Raiserlist" [value]="data" matTooltip=" {{data.full_name}}">
                                        {{data.full_name}}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                   </td>


                    <!-- <div class="col-md-3">
                        <mat-label >Txn Date</mat-label><br>
                        <mat-form-field  class="matformfieldstyle"
                            appearance="outline">
            
                            <input matInput [matDatepicker]="picker1" 
                                class="matformfieldinputstyle" autocomplete="off"
                                formControlName="date" placeholder="Txn Date">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                    </div> -->

                    <!-- <div class="col-md-3">
                        <mat-label>Amount</mat-label><br>
                        <mat-form-field  class="matformfieldstyle" appearance="outline">
                            <input class="matformfieldinputstyle"  matInput autocomplete="off" placeholder="Amount" formControlName="amount"
                            (keypress)="numberOnlyandDot($event)" >
                        </mat-form-field>
                    </div> -->

                    <td>
                        <mat-form-field class="example-full-width" style="margin-left: 50px;">
                            <input class="toolbar-search"  matInput autocomplete="off" formControlName="jeamount"  (keypress)="numberOnlyandDot($event)" >
                            <mat-placeholder>Amount</mat-placeholder>
                        </mat-form-field>
                      
                    </td>

                    <!-- <div class="col-md-3">
                        <mat-label>Status</mat-label><br>
                        <mat-form-field class="matformfieldstyle" appearance="outline">
                            <mat-select  class="matformfieldinputstyle" placeholder="Status" formControlName="status">
                                <mat-option *ngFor="let status of StatusList" [value]="status.id" matTooltip=" {{status.text}}">
                                    {{status.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                       
                    </div> -->

                    <td>
                        <mat-form-field class="example-full-width" style="margin-left: 50px;">
                            <mat-label>Status</mat-label>
                            <mat-select  formControlName="jestatus" >
                                <mat-option *ngFor="let status of StatusList" [value]="status.id" matTooltip="{{status.text}}">
                                    {{status.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </td>
                    <td>
                        <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 50px;" color="primary"
                        (click)="jvapproversearch('')"><i matTooltip="Search" class="fa fa-search" aria-hidden="true"></i></button>
                    </td>
                    <td>
                        <button class="btn btn-outline-primary" type="button" style="border-radius:40px;margin-left: -125px;"
                         color="primary" (click)="clearjvapprover()">Reset</button>
                    </td>

                     <td>
                        <button type="button" class="btn btn-outline-info" matTooltip="Report Download"
                        style="border-radius:40px;margin-left:-45px;" (click)="approvaldownloadjw(true)"><span
                        class="fa fa-download"></span></button>
                    </td>
                    <!-- <div class="col-md-3">
                        <div style="margin-top: 12px;">
                            <button mat-fab style="background-color: white;margin-left: 5px" aria-label="Search" matTooltip="Search"  
                            (click)="searchjvapprover()">
                                <mat-icon>search</mat-icon>
                            </button>
                            <button mat-fab type="submit"  
                            style="border-radius:40px;margin-left: 15px;background-color: white;color: black;" matTooltip="Reset"
                            (click)="clearjvapprover()">Clear</button>
                          
                        </div>
                    </div> -->
                 

                 </tr>
                </table>

                <!-- </div> -->

                </form>
           <!-- </div> -->



           <p style="color:black;font-size: 22px;font-weight: 500;margin-left: 30px;margin-top: 20px;">
            JW Approval Summary
          </p>

          <!-- <div  style="margin-top: 2%;margin-left: 35px; width: 80%;">
            <table class="table table-bordered table-responsive padsize" style="text-align:center;" >	
                
                <thead>
                    <tr class="table_header tableset " style="text-align: center;margin-left: 3%;"> -->

          <!-- <div style="margin-left: 15px;">
            <table class="table"style="margin-top: 10px;max-width: 100%;" id ='commonstyle'>
                <thead class="table_header" >
                    <tr style="white-space: nowrap;text-align: center;background-color:#EDF8FA;"> -->

                        <div class="table-responsive" style="margin-top: 1%;width: 98%;margin-left: 30px;">
                            <table class="table scrolltable table-bordered" fixed-header>
                                <thead>
                                    <tr class="table_header" fixed-header style="text-align:center;">
                        <th>S.No</th>
                        <th>CR Number</th>
                        <th>Type</th>
                        <th>Ref Number</th>
                        <th>Raiser Code and Name</th>
                        <th>Branch Name and Code</th>
                        <th>Transaction Date</th>
                        <th>Total Amount</th>
                        <!-- <th>Attachment</th> -->
                        <th>Status</th>
                        <!-- <th>Transaction</th> -->
                        <th>View</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let list of jvappList;index as i" style="text-align: center;">
                        <td>{{(presentpagejwappsum - 1)*jvapppagesize +i+1 }}</td>
                        <td>{{list?.jecrno}}</td>
                        <td>{{list?.jetype}}</td>
                        <td>{{list?.jerefno}}</td>
                        <td>{{list?.created_by?.code}}-{{list?.created_by?.name}}</td>
                        <td>{{list?.jebranch?.name}}-{{list?.jebranch?.code}}</td>
                        <td>{{list?.jetransactiondate | date:'dd-MMM-yyyy'}}</td>
                        <td>{{list?.jeamount|currency:'INR'}}</td>
                        <td>{{list?.jestatus}}</td>
                       
                    <td style="text-align: center;">
                        <span matTooltip="View" class=" fa fa-eye create "
                        style="color: green;cursor: pointer;" (click)="showjvview(list)"></span>
                    </td>
                </tr>
                </tbody>
            
            </table>
            <!-- ----To add pagination--- -->

            <div *ngIf="!isjwappsumpage" class="NodataAlign" style="margin-left: 35%;">No Records Found...</div>

            <div class="row" *ngIf="isjwappsumpage" style="width: 90%;">
    
                <div class="col-md-3" style="margin-bottom: 10px;font-size: small;font-weight:bold;margin-top: 15px;">
                     Page: {{presentpagejwappsum}}
                </div>
                <div class="col-md-9" style="margin-bottom: 0%;font-size: small;right:10px">
           
                <mat-paginator  
                                    (page)="handlePageEventjwappsum($event)"
                                    [length]="length_jwappsum"
                                    [pageSize]="pageSize_jwappsum"
                                    [showFirstLastButtons]="showFirstLastButtons"
                                    [pageSizeOptions]="pageSizeOptions"
                                    [pageIndex]="pageIndexjwappsum"
                                    [hidePageSize]="true"
                                    aria-label="Select page">
                </mat-paginator>
                </div>
            </div>
            
            <!-- <div *ngIf="jvappList ?.length == 0" style="margin-left: 42%;">
                <h3 >Sorry data not found!.. </h3>
            </div>
            <div class="row" *ngIf="isappsummarypage">
                <div  class="col-sm-3" style="margin-bottom: 5%;font-size: small;text-align:left;right:-225px;">
                    <p style="color:black;font-size: 18px;font-weight: 500;margin-left: -225px;">
                        Total Count:{{jwapptotalcount}}
                    </p> 
                </div>
                <div class="col-sm-9" style="font-size: small;text-align: right; margin-bottom: 50px;">
                    <button mat-icon-button [disabled]="has_apppageprevious === false" color="primary"
                        (click)="previousClickjvapp()">
                        <mat-icon>arrow_back</mat-icon>
                    </button>
                    {{jvapppresentpage}}
                    <button mat-icon-button [disabled]="has_apppagenext === false" color="primary"
                        (click)="nextClickjvapp()">
                        <mat-icon>arrow_forward</mat-icon>
                    </button>
                </div>
            </div> -->
            </div>

        </div>


    <!-- -------- -->

    <div *ngIf="jvuploadForm">
        <app-jw-upload (onSubmit)="jvcreatesubmit()" (onCancel)="jvcreatecancel()">
        </app-jw-upload>
    </div>

    <!-- ------ -->
    <div *ngIf="showjvapproverview">
        <app-jw-approvalview (onSubmit)="jvapprovesubmit()" (onCancel)="jvapprovecancel()">
        </app-jw-approvalview>
    </div>

    <div *ngIf="showjvsummaryview">
        <app-jwsummary-view (onSubmit)="jvsummarysubmit()" (onCancel)="jvsummarycancel()">
        </app-jwsummary-view>
    </div>




</mat-card>
</div>




<div >
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true"
      id="showattachmentpopup">
      <div class="modal-dialog modal-xl " style="width: 70%;">
        <div class="modal-content">
          <div class="modal-header" style="background: rgba(23, 204, 23, 0.288);">
            <h2 class="modal-title" style="color:black ;text-align: center;font-weight: bold;">JW Attachments</h2>
            <button type="button" class="close" data-dismiss="modal" #closedbuttons aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div style="margin-left: 50px;margin-right: 80%;margin-top: 2%; width: 80%;">
            <div class="container">
              <div class="row">
                <div class="table-responsive" style="width:100%;margin-top: 1%;">
                    <table class="table table-bordered" fixed-header style="width: 99%;margin-top: 10px;">
                        <thead class="table_header" style="text-align: left;">

                      <tr>
                        <th style="text-align: center;">S.No</th>
                        <th style="text-align: center;">File Name</th>
                        <th style="text-align: center;">Download File</th>
                        <th style="text-align: center;">Delete File</th>


                      </tr>
                    </thead>
                    <tbody>
                      <tr  *ngFor="let attach of filedatas; index as i">
                        <td style="text-align: center;">{{i+1}}</td>
                        <td style="text-align: center;">-</td>
                        
                       
                        <td style="text-align: center;">
                          <button class="btn btn-outline-primary" type="submit"
                           style="border-radius:40px;margin-left: 15px;" color="primary"
                           >
                            <i matTooltip="Download" class="fa fa-download" aria-hidden="true"></i>
                          </button>
                        </td>
                        <td>
                            <mat-icon style="color: black;cursor: pointer;"
                                >delete</mat-icon>
                        </td>
                      </tr>
                    </tbody>
                  </table>

                </div>
                <tr>
                    <td>

                        <button type="button" class="btn btn-light" style="border-radius:7px;margin-left:450px;
                        border-color: black; margin-bottom: 20px;
                        background-color: white;" (click)="fileback()">Back</button>

                    </td>
                </tr>
              </div>
            </div>


          </div>
        </div>
      </div>
    </div>
  </div>



  <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true"
    id="showentrydetails">
    <div class="modal-dialog modal-xl " style="width: 93%;">
        <div class="modal-content">
            <div class="modal-header"  style="background: rgba(23, 204, 23, 0.288);">
                <h2 class="modal-title" style="color:black ;text-align: center;font-weight: bold;">Entry Details</h2>
                <button type="button" class="close" (click)="entryback()" data-dismiss="modal" #closeentry aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div style="margin-left: 50px;margin-right: 80%;margin-top: 2%; width: 90%;">
                <div class="container">
                    <div class="row">
                        <div class="table-responsive" style="width:100%;margin-top: 1%;">
                            <table class="table table-bordered" fixed-header style="width: 99%;margin-top: 10px;">
                                <thead class="table_header">
                                    <tr>
                                        <td colspan="3"><label style=" font-weight: 900;">CR NO-</label>{{jvcrno}}</td>
                                        <td><label style=" font-weight: 900;">OF Date-</label>{{ofdate | date:'dd-MMM-yyyy'}}</td>
                                        <td colspan="3"><label style=" font-weight: 900;">Transaction Date-</label>{{transactiondate |
                                            date:'dd-MMM-yyyy'}}</td>
                                    </tr>
                                </thead>
                                
                                <thead class="table_header" style="text-align: left;">


                                    <tr style="text-align:center">

                                        <th style="text-align: center;">S.No</th>
                                        <th style="text-align: center;">Credit/Debit</th>
                                        <th style="text-align: center;">GL No</th>
                                        <th style="text-align: center;">GL Description</th>
                                        <th style="text-align: center;">Remarks</th>
                                        <th style="text-align: center;">Amount</th>
                
                

                                    </tr>
                                </thead>
                                <tbody >
                                    
                                        <tr *ngFor="let detail of entrylist | slice:entpage:entpagenext index as i" style="text-align:center">
                                            <td>{{(presententrysum - 1)*jvpagesize +i+1 }}</td>
                                            <td>{{detail.type}}</td>
                                            <td>{{detail.gl}}</td>
                                            <td>{{detail.glnodescription}}</td>
                                            <td>{{detail.glremarks}}</td>
                                            <td>{{detail.amount}}</td>
                  
                                        </tr>
                                        <tr>
                                        <th class="totaldisplay" colspan="4" style="text-align: end;">Total Debit:&nbsp;{{debitsum | currency:'INR'}}</th>
                                        <th class="totaldisplay" colspan="1" style="text-align: end;">Total Credit:&nbsp;{{creditsum | currency:'INR'}}</th>
                                        <th class="totaldisplay" colspan="2" style="text-align: end;">Total Count:&nbsp;{{totalentrycount}}</th>
                                        </tr>
                                  
                                </tbody>
                            </table>
                            <div *ngIf="entrylist ?.length == 0" style="margin-left: 42%;">
                                <h3 >Sorry data not found!.. </h3>
                            </div>
                           <div style="text-align:center;margin-bottom: 1%;"  *ngIf="isenrtrypage">

                                   <div class="row" *ngIf="isenrtrypage" style="width: 90%;">
    
                <div class="col-md-3" style="margin-bottom: 10px;font-size: small;font-weight:bold;margin-top: 15px;">
                     Page: {{presententrysum}}
                </div>
                <div class="col-md-9" style="margin-bottom: 0%;font-size: small;right:10px">
           
                <mat-paginator  
                                    (page)="handleentryPageEvent($event)"
                                    [length]="length_jventrysum"
                                    [pageSize]="pageSize_jwsum"
                                    [showFirstLastButtons]="showFirstLastButtons"
                                    [pageSizeOptions]="pageSizeOptions"
                                    [pageIndex]="pageIndexjwsum"
                                    [hidePageSize]="true"
                                    aria-label="Select page">
                </mat-paginator>
                </div>
            </div>
                            </div>
                            
                           
                        </div>
                        <!-- <tr> -->
                            <td>
        
                                <button type="button" class="btn btn-light" style="border-radius:7px;margin-left:450px;
                                border-color: black; margin-bottom: 20px;
                                background-color: white;" (click)="entryback()">Back</button>
        
                            </td>
                        <!-- </tr> -->
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>





  <!-- <div >
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true"
      id="showentrydetails">
      <div class="modal-dialog modal-xl " style="width: 70%;">
        <div class="modal-content">
          <div class="modal-header"  style="background: #21cbe5;">
            <h2 class="modal-title" style="color:black ;text-align: center;font-weight: bold;">Entry Details</h2>
            <button type="button" class="close" data-dismiss="modal" #closeentry aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div style="margin-left: 50px;margin-right: 80%;margin-top: 2%; width: 90%;">
            <div class="container">
              <div class="row">
                <div class="table-responsive" style="width:100%;margin-top: 1%;">
                    <table class="table table-bordered" fixed-header style="width: 99%;margin-top: 10px;">
                        <thead class="table_header">
                            <tr>
                                <td colspan="3"><label style=" font-weight: 900;">CR NO-</label>{{jvcrno}}</td>
                                <td><label style=" font-weight: 900;">OF Date-</label>{{ofdate | date:'dd/MM/yyyy'}}</td>
                                <td colspan="3"><label style=" font-weight: 900;">Transaction Date-</label>{{transactiondate |
                                    date:'dd/MM/yyyy'}}</td>
                            </tr>
                        </thead>
                        <thead class="table_header" style="text-align: left;">

                      <tr>
                        <th style="text-align: center;">S.No</th>
                        <th style="text-align: center;">Credit/Debit</th>
                        <th style="text-align: center;">GL No</th>
                        <th style="text-align: center;">GL Description</th>
                        <th style="text-align: center;">Remarks</th>
                        <th style="text-align: center;">Amount</th>


                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let detail of entrylist;index as i">
                          <td>{{i+1}}</td>
                          <td>{{detail.type}}</td>
                          <td>{{detail.gl}}</td>
                          <td>{{detail.glnodescription}}</td>
                          <td>{{detail.glremarks}}</td>
                          <td>{{detail.amount}}</td>

                      </tr>
                    </tbody>
                  </table>

                </div>
                <tr>
                    <td>

                        <button type="button" class="btn btn-light" style="border-radius:7px;margin-left:450px;
                        border-color: black; margin-bottom: 20px;
                        background-color: white;" (click)="entryback()">Back</button>

                    </td>
                </tr>
              </div>
            </div>


          </div>
        </div>
      </div>
    </div>
  </div> -->





  <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true"
    id="showtrandetails">
    <div class="modal-dialog modal-xl " style="width: 93%;">
        <div class="modal-content">
            <div class="modal-header" style="background: rgba(23, 204, 23, 0.288);">
                <h2 class="modal-title" style="color:black ;text-align: center;">Transaction Details</h2>
                <button type="button" class="close" data-dismiss="modal" #closedbuttons aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div style="margin-left: 50px;margin-right: 80%;margin-top: 2%; width: 90%;">
                <div class="container">
                    <div class="row">
                        <div class="table-responsive" id="styleScroll"
                            style="margin-top: 2%;width: 95%;margin-left: 5px;">

                            <table class="table scrolltable table-bordered" fixed-header>
                                <thead class="table_header" style='font-family:"Times New Roman";font-size: 14px;'>

                                    <tr>

                                        <th>S.No</th>
                                        <th>Status</th>
                                        <th>From Date</th>
                                        <th>Remarks</th>
                                        <th>Employee Name</th>
                                        <th>Approver Name</th>
                                        <th>Approved By</th>
                                       


                                    </tr>
                                </thead>
                                <tbody style='font-family:"Times New Roman"'>
                                    <tr *ngFor="let dtl of tranrecords; index as i">
                                       
                                    </tr>
                                </tbody>
                            </table>
                            <div *ngIf="tranrecords ?.length == 0" style="margin-left: 42%;">
                                <h3 style="font-family: 'Times New Roman', Times, serif;">Sorry data not found!.. </h3>
                            </div>
                            
                            
                            <div>
                              <tr>
                              <h3 style="color: blue;font-family: 'Times New Roman', Times, serif;">Employee Name : </h3> &nbsp;&nbsp;&nbsp;&nbsp;
                           
                              <h3 style="color: blue;font-family: 'Times New Roman', Times, serif;margin-left: 50px;">Branch Code : </h3>&nbsp;&nbsp;&nbsp;&nbsp;
                            
                              <h3 style="color: blue;font-family: 'Times New Roman', Times, serif;margin-left: 50px;">Designation : </h3>
                            </tr>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true"
    id="reportjw">
    <div class="modal-dialog modal-lg ">
        <div class="modal-content">
            <div class="modal-header"  style="background: rgba(23, 204, 23, 0.288);">
                <h2 class="modal-title" style="color:black ;text-align: center;font-weight: bold;">JW Report</h2>
                <button type="button" class="close" data-dismiss="modal" (click)="jvreportback()" #closejvreport aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <form [formGroup]="jvreportForm" >
                    <mat-form-field>
                        <mat-label>From Date</mat-label>
                        <input
                        matInput
                        [matDatepicker]="picker1"
                        placeholder="From Date"
                        formControlName="from_date"
                        (dateChange)="onFromDateChange($event)"
                        />
                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                    </mat-form-field>

                    <mat-form-field  style="margin-left: 15px;">
                        <mat-label>To Date</mat-label>
                        <input
                        matInput
                        [matDatepicker]="picker2"
                        placeholder="To Date"
                        formControlName="to_date"
                        [matDatepickerFilter]="toDateFilter"
                        [disabled]="!jvreportForm.get('from_date')?.value"
                       />
                        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>
                    </mat-form-field>

                    <button
                        class="btn btn-outline-primary"
                        type="button"
                        style="border-radius:40px;margin-left: 15px;"
                        color="primary"
                        (click)="reportjvpopup()"
                        [disabled]="!jvreportForm.get('from_date')?.value"
                    >
                        <i matTooltip="Search Report" class="fa fa-search" aria-hidden="true"></i>
                    </button>

                    <button class="btn btn-outline-primary"
                        type="button"
                        style="border-radius:40px;margin-left: 15px;"
                        color="primary" (click)="resetForm()">
                        <i matTooltip="Reset Report" class="fa fa-refresh"></i>
                    </button>
                </form>

                
            </div>

            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-outline-success" style="border-radius:40px;" >Submit</button> -->

                <button type="button" class="btn btn-outline-primary" style="border-radius:40px;" (click)="jvreportback()">Back</button>
            </div>
        </div>
    </div>
</div>

<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
    <p style="color: white">Please Wait. </p>
</ngx-spinner>