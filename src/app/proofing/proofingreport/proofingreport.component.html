<div class="container" style="margin-left: -1%;">
<!-- <div  style="margin-top: 2%;">
    <h1 style="font-size: 23px;font-family: 'Times New Roman', Times, serif;margin-left: 2%;">Partially Report</h1>
</div> -->
<div style="margin-left:2%">
    <form [formGroup]="reportForm">
        <div class="row">
            <!-- <div class="col-md-3">
                <mat-label>Account Number</mat-label>
                <mat-form-field class="matformfieldstyle datewidth" appearance="outline"> -->
                    <!-- <mat-label>Account Number</mat-label> -->
                    <!-- <input  matInput  class="matformfieldinputstyle" formControlName="accountno" [matAutocomplete]="account">
                    <mat-autocomplete #account="matAutocomplete" [displayWith]="acc_show">
                        <mat-option  *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                        <ng-container *ngIf="!isLoading">
                            <mat-option (mouseenter)="open()" *ngFor="let acc of AccountList" (click)="CallByaccount(acc)"
                             [value]="acc" matTooltip="{{acc?.account_number}}">{{acc.name}}--{{acc.account_number}}
                            </mat-option>
                        </ng-container>
                    </mat-autocomplete>
                </mat-form-field>
            </div> -->
           
            <!-- <div class="col-md-3">
                <mat-form-field appearance="outline">
                    <mat-label>From Date</mat-label>
                    <input  matInput  formControlName="fromdate" [matDatepicker]="pick" required disabled>
                    <mat-datepicker-toggle [for]="pick" matSuffix> <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon></mat-datepicker-toggle>
                    <mat-datepicker #pick  startView="multi-year"></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field appearance="outline">
                    <mat-label>ToDate</mat-label>
                    <input  matInput  formControlName="todate" [matDatepicker]="pick" required disabled>
                    <mat-datepicker-toggle [for]="pick" matSuffix> <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon></mat-datepicker-toggle>
                    <mat-datepicker #pick  startView="multi-year"></mat-datepicker>
                </mat-form-field>
            </div> -->
            <!-- <div class="col-md-3" style="margin-left: -2%;">
                <mat-label>From Date</mat-label><br>
                <mat-form-field class="matformfieldstyle datewidth" appearance="outline">
                    <input readonly matInput [matDatepicker]="picker1" formControlName="fromdate"
                        (dateChange)="fromDatechange($event.value)" class="matformfieldinputstyle">
                    <mat-datepicker-toggle matSuffix class="maticonsize" [for]="picker1">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-md-3" style="margin-left: -2%;">
                <mat-label>To Date</mat-label><br>
                <mat-form-field class="matformfieldstyle datewidth" appearance="outline">
                    <input readonly matInput [min]="from_Date" [max]="currentDate" [matDatepicker]="picker2"formControlName="todate"
                        (dateChange)="toDatechange($event.value)" class="matformfieldinputstyle">
                    <mat-datepicker-toggle matSuffix class="maticonsize" [for]="picker2">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
            </div> -->
          
            <div class="col-md-3">
                <mat-label>Ref Number</mat-label>

                <mat-form-field class="matformfieldstyle datewidth" appearance="outline">
                    <!-- <mat-label>Ref Number</mat-label> -->
                    <input type="text" class="matformfieldinputstyle" matInput formControlName="refnos">
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-label>Risk Type</mat-label>
                <mat-form-field class="matformfieldstyle datewidth" appearance="outline">
                    <!-- <mat-label>Risk Type</mat-label> -->
                    <!-- <input type="text" class="matformfieldinputstyle" matInput formControlName="risktype" required> -->
                    <mat-select class="matformfieldinputstyle" matInput formControlName="risktype" >
                        <mat-option value="0">High</mat-option>
                        <mat-option value="2">Medium</mat-option>
                        <mat-option value="1">Low</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-3" style="margin-left: -2%;">
                <mat-label>Filter1</mat-label><br>
                <mat-form-field class="matformfieldstyle" appearance="outline" style="width: 88%;">
                <mat-select class="matformfieldinputstyle" matInput formControlName="Filter1"
                    (selectionChange)="mapfilterchange()">
                    <mat-option *ngFor="let ddlist of MapFilter" [value]="ddlist">{{ddlist.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            </div>
            <div class="col-md-3">
                <button mat-fab color="primary" class="btn btn-outline-dark" type="submit" id="downloadexcel"
                style="border-radius:40px;margin-left: 20px;margin-top: 1rem;" matTooltip="Download"
                (click)="downloadexlsearch()"> <span class="fa fa-download">
                </span></button>
                <button matTooltip="search"  mat-fab style="background-color: white;margin-top: 1rem;margin-left: 10px;" (click)="reportsummary(1)"
                            aria-label="Search">
                            <mat-icon>search</mat-icon>
                        </button>
    
                        <button mat-fab matTooltip="clear"
                            style="border-radius:40px;margin-left: 15px;background-color: white;color: black;margin-top: 1rem;"
                            (click)="ClearAll($event)">Clear
                        </button>
                        
            </div>
            <!-- <div class="col-md-3" style="margin-top: 1rem;">
                <button mat-fab [matMenuTriggerFor]="menu" matTooltip="download list"  
                style="border-radius:40px;margin-left:15px;background-color: white;"><mat-icon>get_app</mat-icon></button>
                <mat-menu #menu="matMenu">
                    <button mat-menu-item style="font-size: 12px;" (click)="downloadxl(1)">OverAll Partially</button>
                    <button mat-menu-item style="font-size: 12px;" (click)="downloadxl(2)">Labelled</button>
                    <button mat-menu-item style="font-size: 12px;" (click)="downloadxl(3)">UnLabelled</button> -->
                    <!-- <button mat-menu-item style="font-size: 12px;" (click)="downloadxl(4)">Partially & unmapped</button> -->
<!--                     
                  </mat-menu>
            </div> -->
            <!-- <div class="col-md-3">
                <button mat-fab color="primary" class="btn btn-outline-dark" type="submit" *ngIf="displaydownload==true"
                style="border-radius:40px;margin-left: 20px;margin-top: 1rem;" matTooltip="Download"
                (click)="downloadexlsearch()"> <span class="fa fa-download">
                </span></button>
            </div> -->
            <button type="button" routerLink="/proofing/proofingtransaction" class="btn btn-outline-success" style="border-radius:30px;height:40px;margin-top: 1.5rem;"><span
                class="fa fa-arrow-left back-button">Go Back</span></button>
    
        </div>
        
        
        <!-- </div> -->

        <!-- <div class="row">
            <div class="col-md-3 text-right">
                <button mat-raised-button color="primary" (click)="downloadexlsearch()">
                    <mat-icon>arrow_downward</mat-icon> Download Report
                </button>
            </div>
        </div> -->
    </form>
</div>

<!-- <div class="col-md-2">
    <button mat-fab color="primary" class="btn btn-outline-dark" type="submit" *ngIf="displaydownload==true"
    style="border-radius:40px;margin-left: 20px;margin-top: 1rem;" matTooltip="Download"
    (click)="downloadexlsearch()"> <span class="fa fa-download">
    </span></button>
</div> -->
<div class="col-sm-12 col-lg-12" style="margin-left:5px">
    <table class="table table-responsive table-bordered">
        <thead class="table_header">
            <tr>
                <th class="texthead">SI NO</th>
                <!-- <td>Account No</td> -->
                <th class="texthead">Refrence No</th>
                <!-- <td>Refrence No</td> -->
                <th class="texthead">Account Name</th>
                <th class="texthead">Account Number</th>
                <th class="texthead">Account Risk</th>
                <th>Date</th>
                <th class="texthead">Label Name</th>
                <th  class="texthead">Debit Amount</th>
                <th class="texthead">Debit Count</th>
                
                <th class="texthead">Credit Amount</th>
                <th class="texthead">Credit Count</th>
                <th class="texthead">Closing Blance</th>
            </tr>
        </thead>
        <tbody >
            <tr *ngFor="let data of ReportSummary; let i =index">
                
                <th >{{(presentpage-1) *10 +i+1}}</th>
                <td>{{data?.reference_no}}</td>
                <td>{{data?.account?.name}}</td>
                <td class="textalign">{{data?.account?.account_number}}</td>
                <td>{{((data?.account?.account_risk == 1)?"Low":'') || ((data?.account?.account_risk == 0)?"High":'') || ((data?.account?.account_risk == 2)?"Medium":'')}}</td>
                <td class="texthead">{{data?.date |  date:'dd-MMM-yyyy'}}</td>
                <td>{{data?.label_id}}</td>
                <td class="textalign">{{data?.debitamount |currency:"INR":'symbol':'0.2-6'}}</td>
                <td class="textalign">{{data?.debitcount }}</td>
                <td class="textalign">{{data?.creditamount | currency:"INR":'symbol':'0.2-6'}}</td>
                <td class="textalign">{{data?.creditcount}}</td>
                <td class="textalign">{{data?.net_value | currency:"INR":'symbol':'0.2-6'}}</td>
            </tr>
            <tr *ngIf="ReportSummary.length==0;" class="text-center">
                <td colspan="12">No Records Found..</td></tr>
        </tbody>
        
    </table>
    

    <div class="row" *ngIf="ReportSummary.length>0" >
        <div class="col-sm-12" style="font-size: small;text-align: right;">
            <button mat-icon-button [disabled]="has_previous === false" color="primary"
                (click)="previous_page()">
                <mat-icon >arrow_back</mat-icon>
            </button>
            {{presentpage}}
            <button mat-icon-button [disabled]="has_next === false" color="primary"
                (click)="next_page()">
                <mat-icon >arrow_forward</mat-icon>
            </button>
        </div>
        </div>   
</div>

</div>
