<section class="screen-padding screen-lm">
  <div *ngIf="connectionsummary">
    <div class="comp-header">
      <p routerLink="/proofing/proofingtransaction" class="comp-header-p">
        <i class="fa fa-arrow-left back-button"></i>
        <span>Connection File Upload</span>
      </p>
    </div>

    <div class="filter-aling">
      <lib-vs-search-cmp
        class="npm-mat-edit"
        [SearchArr]="uploadsearch"
        [Outputtype]="searchvar"
        (dataoutput)="searchupload($event)"
        [ButtonArr]="fileviewbutton"
      >
        <!-- <button
    type="button"
    routerLink="/proofing/proofingtransaction"
    matTooltip="Back"
    class="btn btn-outline-success"
    style="border-radius: 40px"
  >
    <i class="fa fa-arrow-left">Go Back</i>
  </button> -->
      </lib-vs-search-cmp>
      <!-- <button
        type="button"
        class="btn btn-outline-success"
        matTooltip="Connection File Upload Create"
        [matTooltipPosition]="'above'"
        matTooltipClass="custom-tooltip"
        (click)="createfileupload()"
        style="border-radius: 25px; cursor: pointer"
      >
        <i class="fa fa-plus"></i>
      </button> -->
    </div>

    <div>
      <lib-vs-cbox-summary
        [SummaryDetails]="fileuploadsummaryData"
        [SummaryApiObj]="fileuploadsummaryObjNew"
      >
      </lib-vs-cbox-summary>
    </div>

    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <form [formGroup]="fileuploadForm" (ngSubmit)="uploadDocument()">
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <p class="modal-title mb-0" id="exampleModalLabel">
                Connection-File-Upload
              </p>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                #closeaddpopup
                aria-label="Close"
                (click)="closepopup()"
              >
                <i aria-hidden="true">&times;</i>
              </button>
            </div>

            <div class="modal-body">
              <div class="filter-aling-popup">
                <div>
                  <lib-vs-dynamicform-cmp
                    class="npm-mat-edit"
                    [InputFields]="fileupoladfield"
                    (dataEvent)="file_type_click($event)"
                    [ResetForm]="restformfile"
                  ></lib-vs-dynamicform-cmp>
                </div>
                <div style="display: grid; place-items: center">
                  <div
                    style="
                      display: flex;
                      flex-direction: column;
                      gap: 16px;
                      box-shadow: 0 0 4px rgba(0, 0, 0, 0.276);
                      width: 400px;
                      padding: 20px;
                      border-radius: 8px;
                    "
                  >
                    <div style="width: 100%">
                      <div class="img-upload-div" style="width: 100%">
                        <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                        <p>Upload your file here</p>
                      </div>
                    </div>
                    <div>
                      <input
                        style="padding: 4px"
                        class="form-control"
                        type="file"
                        id="formFile"
                        [formControl]="uploadfile"
                        [accept]="acceptfiles[templateText]"
                        (change)="fileChange($event, 'notbulk')"
                      />
                      <!-- <div class="d-flex gap-2"> -->
                      <!-- formControlName="images" -->

                      <!-- If jpgUrls is not defined, show the upload icon -->
                      <!-- <button type="button" class="btn btn-primary mt-3">Upload</button>
                <button type="button" class="btn btn-primary mt-3" *ngIf="jpgUrls" (click)="deleteFile()">
                  Remove
                </button> -->
                      <!-- </div> -->
                    </div>
                  </div>
                </div>
                <!-- <app-file-upload
          [Id]="this.id"
          #fileupload
          (onCancel)="backtosummary()"
        ></app-file-upload> -->
              </div>
            </div>
            <div class="modal-footer" #closeaddpopup>
              <button
                type="submit"
                class="btn btn-outline-success"
                matTooltip="File Upload"
              >
                <i class="fa fa-upload"></i>
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div
      class="modal fade"
      id="map"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="width: 100%">
          <div class="modal-header">
            <p class="modal-title" id="exampleModalLabel">Connection Map</p>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              #closeaddpopups
              aria-label="Close"
              (click)="closepopup()"
            >
              <i aria-hidden="true">&times;</i>
            </button>
          </div>

          <div class="modal-body">
            <div class="npm-mat-edit">
              <lib-vs-dynamicform-cmp
                [InputFields]="inputaccount"
                (dataEvent)="glnochoose($event)"
                [ResetForm]="ifscvar"
              ></lib-vs-dynamicform-cmp>
            </div>
          </div>
          <div class="modal-footer" #closeaddpopups>
            <button type="button" matTooltip="Back"  (click)="closepopup()" data-dismiss="modal" class="btn btn-outline-dark">Back</button>
            <button
              type="submit"
              class="btn btn-outline-success"
              matTooltip="File Upload"
              (click)="mapp_connection()"
              style="border-radius: 40px"
            >
              Submit
            </button>

          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="file_view">
    <div class="comp-header">
      <p (click)="searchback()" class="comp-header-p">
        <i class="fa fa-arrow-left back-button"></i>
        <span>Connection File View</span>
      </p>
    </div>
    <div class="filter-aling">
      <lib-vs-search-cmp
        class="npm-mat-edit"
        [SearchArr]="transsearch"
        (dataoutput)="searchtransupload($event)"
      >
      </lib-vs-search-cmp>

      <!-- <div style="margin-left: 300px">
        <button
          type="button"
          (click)="searchback()"
          matTooltip="Back"
          class="btn btn-outline-success"
          style="border-radius: 40px"
        >
          <i class="fa fa-arrow-left">Go Back</i>
        </button>
      </div> -->
    </div>

    <div>
      <lib-vs-cbox-summary
        [SummaryDetails]="transsummaryData"
        [SummaryApiObj]="viewsummary"
      >
      </lib-vs-cbox-summary>
    </div>
  </div>
</section>
