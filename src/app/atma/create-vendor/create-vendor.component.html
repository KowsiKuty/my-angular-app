<div style="padding: 10px">
  <form [formGroup]="vendorAddForm" autocomplete="off">
    <div class="stepper-div">
      <mat-horizontal-stepper [linear]="isLinear" #stepper>
        <mat-step [stepControl]="firstFormGroup">
          <ng-template matStepLabel>Vendor Creation</ng-template>
          <div class="container-01">
            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Vendor Name</mat-label>
                <input
                  matInput
                  placeholder="Vendor Name"
                  type="text"
                  (keypress)="namevalidation($event)"
                  formControlName="name"
                  autocomplete="off"
                  required
                />
              </mat-form-field>
            </div>

            <lib-vs-dynamicform-cmp
              class="package-width"
              [formGroup]="vendorAddForm"
              [InputFields]="relationcat"
              
            ></lib-vs-dynamicform-cmp>
            <!-- (dataEvent)="relationcatdata($event)" -->
            <!-- <mat-form-field style="width: 250px" (click)="categoryname()">
              <mat-label>Relationship Category</mat-label>
              <input
                #categoryInput
                placeholder="Select Category"
                matInput
                formControlName="group"
                [matAutocomplete]="categorytype"
                required
              />
              <mat-autocomplete
                #categorytype="matAutocomplete"
                [displayWith]="displayFncategory"
              >
                <mat-option *ngIf="isLoading" class="is-loading"
                  >Loading...</mat-option
                >
                <ng-container *ngIf="!isLoading">
                  <mat-option *ngFor="let group of groupList" [value]="group"
                    >{{ group.text }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field> -->

            <lib-vs-dynamicform-cmp
              class="package-width"
              [InputFields]="relationsubcat"
              [formGroup]="vendorAddForm"
            ></lib-vs-dynamicform-cmp>
            <!-- (dataEvent)="relationsubcatdata($event)" -->
            <!-- <mat-form-field style="width: 250px" (click)="subcategoryname()">
              <mat-label>Relationship Subcategory</mat-label>
              <input
                #subcategoryInput
                placeholder="Select Subcategory"
                matInput
                formControlName="custcategory_id"
                [matAutocomplete]="subcategory"
                required
              />
              <mat-autocomplete
                #subcategory="matAutocomplete"
                [displayWith]="displayFnsubcategory"
              >
                <mat-option *ngIf="isLoading" class="is-loading"
                  >Loading...</mat-option
                >
                <ng-container *ngIf="!isLoading">
                  <mat-option
                    *ngFor="let custcategory of custcategoryList"
                    [value]="custcategory"
                    >{{ custcategory.name }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field> -->

            <lib-vs-dynamicform-cmp
              class="package-width"
              [formGroup]="vendorAddForm"
              [InputFields]="orgtypefield"
             
            ></lib-vs-dynamicform-cmp>
            <!-- (dataEvent)="orgtypedata($event)" -->
            <!-- <mat-form-field style="width: 250px" (click)="orgtypename()">
              <mat-label>Organization Type</mat-label>
              <input
                #orgtypesInput
                placeholder="Select orgtype"
                matInput
                formControlName="orgtype"
                [matAutocomplete]="orgtype"
                required
              />
              <mat-autocomplete
                #orgtype="matAutocomplete"
                [displayWith]="displayFnorgtypes"
              >
                <mat-option *ngIf="isLoading" class="is-loading"
                  >Loading...</mat-option
                >
                <ng-container *ngIf="!isLoading">
                  <mat-option *ngFor="let orgtype of orgtypeList" [value]="orgtype"
                    >{{ orgtype.text }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field> -->

            <lib-vs-dynamicform-cmp
              class="package-width"
              [formGroup]="vendorAddForm"
              [InputFields]="relatypefield"
             
            ></lib-vs-dynamicform-cmp>
            <!-- (dataEvent)="relatypedata($event)" -->
            <!-- <mat-form-field style="width: 250px" (click)="typename()">
              <mat-label>Relationship Type</mat-label>
              <input
                #typesInput
                placeholder="Select vendortype"
                matInput
                formControlName="classification"
                [matAutocomplete]="ventype"
                required
              />
              <mat-autocomplete
                #ventype="matAutocomplete"
                [panelWidth]="'auto'"
                [displayWith]="displayFntypes"
              >
                <mat-option *ngIf="isLoading" class="is-loading"
                  >Loading...</mat-option
                >
                <ng-container *ngIf="!isLoading">
                  <mat-option *ngFor="let type of typeList" [value]="type"
                    >{{ type.text }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field> -->

            <lib-vs-dynamicform-cmp
              class="package-width"
              [formGroup]="vendorAddForm"
              [InputFields]="comfield"
              
            ></lib-vs-dynamicform-cmp>
            <!-- (dataEvent)="comdata($event)" -->
            <!-- <mat-form-field style="width: 250px" (click)="compositename()">
              <mat-label>GST Category</mat-label>
              <input
                #gstInput
                placeholder="Select gstcategory"
                matInput
                formControlName="composite"
                [matAutocomplete]="gstcat"
                required
              />
              <mat-autocomplete
                #gstcat="matAutocomplete"
                [displayWith]="displayFngst"
              >
                <mat-option *ngIf="isLoading" class="is-loading"
                  >Loading...</mat-option
                >
                <ng-container *ngIf="!isLoading">
                  <mat-option
                    *ngFor="let composite of compositeList"
                    [value]="composite"
                    >{{ composite.text }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field> -->

            <lib-vs-dynamicform-cmp
              class="package-width"
              [formGroup]="vendorAddForm"
              [InputFields]="classifycrityfield"
              
            ></lib-vs-dynamicform-cmp>
            <!-- (dataEvent)="classifycritydata($event)" -->
            <!-- <mat-form-field style="width: 250px" (click)="classifyname()">
              <mat-label>Criticality Classification</mat-label>
              <input
                #classifyInput
                placeholder="Select classification"
                matInput
                formControlName="type"
                [matAutocomplete]="classify"
                required
              />
              <mat-autocomplete
                #classify="matAutocomplete"
                [displayWith]="displayFnclassify"
              >
                <mat-option *ngIf="isLoading" class="is-loading"
                  >Loading...</mat-option
                >
                <ng-container *ngIf="!isLoading">
                  <mat-option
                    *ngFor="let classification of classificationList"
                    [value]="classification"
                    >{{ classification.text }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field> -->

            <lib-vs-dynamicform-cmp
              class="package-width"
              [formGroup]="vendorAddForm"
              [InputFields]="riskcatfield"
              (dataEvent)="getriskcat($event)"
            ></lib-vs-dynamicform-cmp>
            <!--  -->
            <!-- <mat-form-field style="width: 250px" (click)="riskname()">
              <mat-label>Risk Category</mat-label>
              <input
                #riskInput
                placeholder="Select risk"
                matInput
                formControlName="risk_type"
                [matAutocomplete]="risk"
                required
              />
              <mat-autocomplete #risk="matAutocomplete" [displayWith]="displayFnrisk">
                <mat-option *ngIf="isLoading" class="is-loading"
                  >Loading...</mat-option
                >
                <ng-container *ngIf="!isLoading">
                  <mat-option
                    *ngFor="let risk of riskcatList"
                    [value]="risk"
                    (click)="getriskcat(risk)"
                  >
                    {{ risk.text }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field> -->

            <div *ngIf="riskcatid == 3" class="if-content">
              <label>High Risk Options</label>
              <span
                type="button"
                data-toggle="modal"
                (click)="riskoption()"
              >
              <!-- data-target="#riskList" -->
                <mat-icon>visibility</mat-icon>
              </span>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>PAN Number</mat-label>
  
                <input
                  matInput
                  placeholder="panno"
                  formControlName="panno"
                  [ngModel]="inputPanValue"
                  (ngModelChange)="inputPanValue = $event.toUpperCase()"
                  (keyup)="validationPAN($event)"
                  (keydown.space)="$event.preventDefault()"
                  maxlength="10"
                  autocomplete="off"
                />
              </mat-form-field>
            </div>

            <div *ngIf="showthepandatafield" id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label> PAN Holder Name</mat-label>
                <input
                  type="text"
                  matInput
                  placeholder="panno holder name"
                  formControlName="pannoholdername"
                  [ngModel]="inputPanNameValue"
                  (keyup)="validationPANname($event)"
                  (ngModelChange)="inputPanNameValue = $event.toUpperCase()"
                  (keypress)="namevalidation($event)"
                  autocomplete="off"
                  required
                />
              </mat-form-field>
            </div>

            <div *ngIf="showthepandatafield" id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>DOB</mat-label>
                <input
                  matInput
                  #autocomplete
                  readonly
                  [matDatepicker]="picker5"
                  placeholder="Contract From"
                  formControlName="pannodob"
                  [(ngModel)]="panHolderDOB"
                  (dateChange)="
                    autocomplete.value = fromDOBSelection($event.value)
                  "
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker5"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker5></mat-datepicker>
              </mat-form-field>
            </div>

            <div *ngIf="showthepandatafield" id="matInput-size" class="imp-check-flex">
              <mat-form-field appearance="outline">
                <mat-label>PAN Holder Father's Name</mat-label>
                <input
                  type="text"
                  matInput
                  placeholder="panno holder name"
                  formControlName="pannoholderfathername"
                  [ngModel]="inputPanFathersNameValue"
                  (keyup)="validationPANfathername($event)"
                  (ngModelChange)="
                    inputPanFathersNameValue = $event.toUpperCase()
                  "
                  (keypress)="namevalidation($event)"
                  autocomplete="off"
                />
              </mat-form-field>

              <input
                style="width: 20px; height: 20px"
                type="checkbox"
                formControlName="pannovalidate"
                (click)="panvalidateclick()"
                data-md-icheck
                [checked]="Panvalidate"
                (change)="Panvalidate = !Panvalidate"
                [ngClass]="{
                  error: !isValidationSuccessful,
                  success: isValidationSuccessful
                }"
              />
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Aadhar Number</mat-label>
                <input
                  matInput
                  placeholder="Aadhar Number"
                  formControlName="adhaarno"
                  autocomplete="off"
                  (keypress)="numberOnly($event)"
                  maxlength="12"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Company Reg No</mat-label>
                <input
                  matInput
                  placeholder="Company RegNo"
                  formControlName="comregno"
                  type="text"
                  (keypress)="namevalidation($event)"
                  autocomplete="off"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Website</mat-label>
                <input
                  type="text"
                  matInput
                  placeholder="Website"
                  formControlName="website"
                  autocomplete="off"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Reason for no contract </mat-label>
                <!-- <label *ngIf="this.reasonfornocontract===true" class="aadhaarno" >*</label> -->
                <input
                  matInput
                  placeholder="Contract Reason"
                  formControlName="nocontract_reason"
                  type="text"
                  (keypress)="addressvalidation($event)" [required]="reasonfornocontract"
                  autocomplete="off"
                />
              </mat-form-field>
            </div>

            <section class="example-section">
              <label style="text-align: center" for="contract"
                >Contract
                <mat-checkbox
                  class="example-margin increased-checkbox"
                  formControlName="activecontract"
                  (change)="onClick($event)"
                  style="margin-left: 5px"
                ></mat-checkbox>
              </label>
            </section>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Contract From</mat-label>
                <input
                  matInput
                  #autocomplete
                  readonly
                  [matDatepicker]="picker2"
                  placeholder="Contract From"
                  formControlName="contractdate_from"
                  [(ngModel)]="fromdate"
                  (dateChange)="
                    autocomplete.value = fromDateSelection($event.value)
                  "
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker2"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Contract To</mat-label>
                <input
                  matInput
                  readonly
                  (dateChange)="toDateSelection($event.value)"
                  [matDatepicker]="picker3"
                  placeholder="Contract To"
                  formControlName="contractdate_to"
                  [(ngModel)]="todate"
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker3"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker3></mat-datepicker>
              </mat-form-field>
            </div>

            <!-- <lib-vs-sep-dates-cmp
              class="package-grid-width"
              [DateInput]="frtodatevendor"
              (fromdate)="fromdatevendorfun($event)"
              (todate)="todatevendorfun($event)"
            ></lib-vs-sep-dates-cmp> -->

      
            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Renewal Date</mat-label>
                <input
                  matInput
                  readonly
                  [matDatepicker]="picker4"
                  placeholder="Renewal Date"
                  formControlName="renewal_date"
                  [(ngModel)]="renewaldate"
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker4"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker4></mat-datepicker>
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Renewal Trigger Email days</mat-label>
                <input
                  matInput
                  placeholder="Renewal Trigger Email days"
                  formControlName="emaildays"
                  autocomplete="off"
                  (keypress)="numberOnly($event)"
                  maxlength="10"
                  required
                />
              </mat-form-field>
            </div>

            <section class="example-section">
              <label style="text-align: center" for="msme"
                >MSME
                <mat-checkbox
                  class="example-margin"
                  formControlName="msme"
                  (change)="Msmecheck($event)"
                ></mat-checkbox
              ></label>
            </section>
            <!-- 
            <label class="container" for="msme" onchange="Msmecheck($event)">
              <input type="checkbox" formControlName="msme" />MSME
              <span class="checkmark"></span>
            </label> -->

            <lib-vs-dynamicform-cmp *ngIf="msme_type == true"
            class="package-width"
            [formGroup]="vendorAddForm"
            [InputFields]="msme_type_field"
           
            ></lib-vs-dynamicform-cmp>
            
            <!-- (dataEvent)="msme_type_data($event)" -->

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>MSME Reg No</mat-label>
                <input
                  #long
                  matInput
                  formControlName="msme_reg_no"
                  required
                  placeholder="MSME Reg No"
                  (keydown.Tab)="onTabKey($event)"
                />
              </mat-form-field>
            </div>

            <!-- <div class="col-md-3">
              <mat-form-field
                style="width: 100px"
                [class.disabled]="!isMsmeChecked || isMsmeRegNoEmpty()"
              >
                <mat-label>Aproximate Spend</mat-label>
                <input
                  matInput
                  placeholder="Aproximate Spend"
                  formControlName="aproxspend"
                  autocomplete="off"
                  (keypress)="numberOnly($event)"
                  maxlength="10"
                  [disabled]="!isMsmeChecked || isMsmeRegNoEmpty()"
                />
              </mat-form-field>
            </div> -->

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Aproximate Spend</mat-label>
                <input
                  matInput
                  placeholder="Aproximate Spend"
                  formControlName="aproxspend"
                  autocomplete="off"
                  (keypress)="numberOnly($event)"
                  maxlength="10"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Actual Spend</mat-label>
                <input
                  matInput
                  placeholder="Actual Spend"
                  formControlName="actualspend"
                  autocomplete="off"
                  (keypress)="numberOnly($event)"
                  maxlength="10"
                />
              </mat-form-field>
            </div>

            <lib-vs-dynamicform-cmp
              class="package-width"
              [formGroup]="vendorAddForm"
              [InputFields]="headerfield"
              
            ></lib-vs-dynamicform-cmp>
            <!-- (dataEvent)="headerdata($event)" -->
            <!-- <mat-form-field style="width: 250px" (click)="rmname()">
              <mat-label>Header Name</mat-label>
              <input
                #rmInput
                placeholder="Select Header"
                matInput
                formControlName="rm_id"
                [matAutocomplete]="rmemp"
                required
              />
              <mat-autocomplete
                #rmemp="matAutocomplete"
                [displayWith]="displayFnRm"
                (opened)="autocompleteRMScroll()"
              >
                <mat-option *ngIf="isLoading" class="is-loading"
                  >Loading...</mat-option
                >
                <ng-container *ngIf="!isLoading">
                  <mat-option *ngFor="let employee of employeeList" [value]="employee"
                    >{{ employee.full_name }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field> -->

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Remarks</mat-label>
                <input
                  matInput
                  placeholder="Remarks"
                  formControlName="remarks"
                  autocomplete="off"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Partner/Director Count</mat-label>
                <input
                  matInput
                  placeholder="Partner Count"
                  formControlName="director_count"
                  autocomplete="off"
                  (click)="directorCount()"
                  maxlength="15"
                />
              </mat-form-field>
            </div>

            <div>
              <!-- (click)="addDirectorName()" -->
              <button 
                type="button"
                class="btn btn-outline-primary"
                style="border-radius: 40px"
                matTooltip="Add Partner/Director"
                (click)="popupopen()"  
              >
                Add
              </button>
            </div>
            <!-- data-toggle="modal"
            data-target="#exampleModal" -->
            <!-- Modal -->
            <div
              class="modal fade"
              id="exampleModal"
              tabindex="-1"
              aria-labelledby="exampleModalLabel"
              aria-hidden="true"
            >
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">
                      Partner/Director
                    </h5>
                    <button
                      type="button"
                      class="close"
                      data-dismiss="modal"
                      aria-label="Close"
                      #closeaddpopup
                    >
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div
                      [formGroup]="vendorAddForm.controls.director"
                      class="modal-btn-div"
                    >
                      <mat-form-field appearance="outline">
                        <mat-label>Partner/Director Name </mat-label>
                        <input
                          matInput
                          formControlName="name"
                          #name
                          type="text"
                          (keypress)="namevalidation($event)"
                          autocomplete="off"
                        />
                      </mat-form-field>
                      <button
                        type="button"
                        class="btn btn-outline-primary"
                        style="border-radius: 40px"
                        [disabled]="addButton"
                        (click)="addDirectorName()"
                      >
                        +
                      </button>
                    </div>
                    <lib-vs-cbox-summary    [SummaryDetails]="SummaryvendorcreateData"
          [SummaryApiObj]="SummaryApivendorcreatemodifyObjNew"
          [unnecessary]="[]"></lib-vs-cbox-summary>
                    <!-- <table class="table" style="width: 100%">
                      <thead class="table_header">
                        <tr style="text-align: left">
                          <th>SI.No</th>
                          <th>Director Name</th>
                          <th>Action</th>
                        </tr>
                      </thead>
                      <tbody style="text-align: left">
                        <tr
                          *ngFor="
                            let directorName of directorNameList;
                            index as i
                          "
                        >
                          <td>{{ i + 1 }}</td>
                          <td>{{ directorName.name }}</td>
                          <td>
                            <mat-icon
                              style="color: gray; cursor: pointer"
                              (click)="directorNameDelete(i)"
                              >delete</mat-icon
                            >
                          </td>
                        </tr>
                      </tbody>
                    </table> -->
                  </div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-outline-secondary"
                      style="border-radius: 40px"
                      data-dismiss="modal"
                      (click)="closedpopup()"
                    >
                      Close
                    </button>
                    <button
                      type="button"
                      class="btn btn-outline-primary"
                      style="border-radius: 40px"
                      (click)="closedpopup()"
                    >
                      Save
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

        

          <div class="btn-div">
            <button
            type="button"
            class="btn btn-outline-primary"
            [routerLink]="'/atma/vendor'"
            skipLocationChange
            style="border-radius: 40px"
          >
            Cancel
          </button>
            <button
              class="btn btn-outline-primary"
              style="border-radius: 40px"
              matStepperNext
            >
              Next
            </button>
            
          </div>
        </mat-step>

        <mat-step [stepControl]="secondFormGroup">
          <ng-template matStepLabel>Address</ng-template>
          <div [formGroup]="vendorAddForm.controls.address">
            <div class="container-02">
              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Line1</mat-label>
                  <input
                    matInput
                    placeholder="Line1"
                    formControlName="line1"
                    autocomplete="off"
                    type="text"
                    (keypress)="addressvalidation($event)"
                    required
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Line2</mat-label>
                  <input
                    matInput
                    placeholder="Line2"
                    type="text"
                    (keypress)="addressvalidation($event)"
                    formControlName="line2"
                    autocomplete="off"
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Line3</mat-label>
                  <input
                    matInput
                    placeholder="Line3"
                    formControlName="line3"
                    type="text"
                    (keypress)="addressvalidation($event)"
                    autocomplete="off"
                  />
                </mat-form-field>
              </div>
              <!-- [formGroup]="vendorAddForm" -->
              <lib-vs-dynamicform-cmp
                class="package-width"
                [formGroup]="vendorAddForm.controls.address"
                [InputFields]="pincodefield"
                (dataEvent)="pincodedata($event)"
              ></lib-vs-dynamicform-cmp>

              <!-- (dataEvent)="pincodedata($event)" -->
              
              <!-- <mat-form-field style="width: 250px" (click)="pincodename()">
                    <mat-label>Pin Code</mat-label>
                    <input
                      #pinCodeInput
                      placeholder="Select PinCode"
                      maxlength="6"
                      matInput
                      formControlName="pincode_id"
                      autocomplete="off"
                      [matAutocomplete]="pintype"
                      required
                    />
                    <mat-autocomplete
                      #pintype="matAutocomplete"
                      [displayWith]="displayFnpin"
                      (opened)="pinCodeScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let pin of pinCodeList"
                          (focusout)="pinCode(pin)"
                          [value]="pin"
                        >
                          {{ pin.no }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field> -->
                  <!-- [formGroup]="vendorAddForm" -->
              <lib-vs-dynamicform-cmp
                class="package-width"
                [formGroup]="vendorAddForm.controls.address"
                [InputFields]="cityfield"
                (dataEvent)="citydata($event)"
              ></lib-vs-dynamicform-cmp>
              <!--  -->
              <!-- <mat-form-field style="width: 250px" (click)="cityname()">
                    <mat-label>City</mat-label>
                    <input
                      #cityInput
                      matInput
                      formControlName="city_id"
                      autocomplete="off"
                      placeholder=" Select City"
                      [matAutocomplete]="autocit"
                      required
                    />
                    <mat-autocomplete
                      #autocit="matAutocomplete"
                      [displayWith]="displaycit"
                      (opened)="cityScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let city of cityList"
                          (focusout)="citys(city)"
                          [value]="city"
                          >{{ city.name }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field> -->
                  <!-- [formGroup]="vendorAddForm" -->
              <lib-vs-dynamicform-cmp
                class="package-width"
                [formGroup]="vendorAddForm.controls.address"
                [InputFields]="districtfield"
                (dataEvent)="districtdata($event)"
              ></lib-vs-dynamicform-cmp>
              <!-- (dataEvent)="districtdata($event)" -->

              <!-- <mat-form-field style="width: 250px" (click)="districtname()">
                    <mat-label>District</mat-label>
                    <input
                      #districtInput
                      matInput
                      formControlName="district_id"
                      placeholder=" Select District"
                      autocomplete="off"
                      [matAutocomplete]="autodis"
                      required
                    />
                    <mat-autocomplete
                      #autodis="matAutocomplete"
                      [displayWith]="displaydis"
                      (opened)="districtScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let district of districtList"
                          (focusout)="districts(district)"
                          [value]="district"
                          >{{ district.name }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field> -->
                  <!-- [formGroup]="vendorAddForm" -->
              <lib-vs-dynamicform-cmp
                class="package-width"
                [formGroup]="vendorAddForm.controls.address"
                [InputFields]="statefield"
                (dataEvent)="statedata($event)"
              ></lib-vs-dynamicform-cmp>
              <!-- (dataEvent)="statedata($event)" -->
              <!-- <mat-form-field style="width: 250px" (click)="statename()">
                    <mat-label>State</mat-label>
                    <input
                      #stateInput
                      placeholder="Select State"
                      matInput
                      formControlName="state_id"
                      autocomplete="off"
                      [matAutocomplete]="statetype"
                      required
                    />
                    <mat-autocomplete
                      #statetype="matAutocomplete"
                      [displayWith]="displayFnstate"
                      (opened)="stateScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let state of stateList"
                          (focusout)="states(state)"
                          [value]="state"
                        >
                          {{ state.name }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field> -->
            </div>
          </div>
          <div class="btn-div">

            <button
              class="btn btn-outline-primary"
              style="border-radius: 40px"
              matStepperPrevious
            >
              Back
            </button>
            <button
            type="button"
            class="btn btn-outline-primary"
            [routerLink]="'/atma/vendor'"
            skipLocationChange
            style="border-radius: 40px"
          >
            Cancel
          </button>
            <button
              class="btn btn-outline-primary"
              style="border-radius: 40px"
              matStepperNext
            >
              Next
            </button>
          </div>
        </mat-step>

        <mat-step [stepControl]="thirdFormGroup">
          <ng-template matStepLabel>Contact</ng-template>
          <div [formGroup]="vendorAddForm.controls.contact">
            <div class="container-03">
              <!-- <mat-form-field style="width: 250px" (click)="designationname()">
                    <mat-label>Designation</mat-label>
                    <input
                      #designationInput
                      placeholder="Select Designation"
                      matInput
                      formControlName="designation_id"
                      autocomplete="off"
                      [matAutocomplete]="desg"
                      required
                    />
                    <mat-autocomplete
                      #desg="matAutocomplete"
                      [displayWith]="displayFnDesg"
                      (opened)="designationScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let designation of designationList"
                          [value]="designation"
                          title="{{ designation.name }}"
                          >{{ designation.name }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field> -->
             
                  <div id="matInput-size">
                    <mat-form-field appearance="outline">
                      <mat-label>Name</mat-label>
                      <input
                        matInput
                        placeholder="Name"
                        type="text"
                        (keypress)="namevalidation($event)"
                        autocomplete="off"
                        formControlName="name"
                        required
                      />
                    </mat-form-field>
                  </div>
                  <!-- [formGroup]="vendorAddForm" -->
              <lib-vs-dynamicform-cmp
              class="package-width"
              [formGroup]="vendorAddForm.controls.contact"
              [InputFields]="designationfield"
              ></lib-vs-dynamicform-cmp>
              <!-- (dataEvent)="designationdata($event)" -->

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Date Of Birth</mat-label>
                <input
                  matInput
                  readonly
                  [matDatepicker]="picker1"
                  autocomplete="off"
                  [max]="futureDays"
                  placeholder="Date Of Birth"
                  formControlName="dob"
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker1"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Email</mat-label>
                <input
                  type="email"
                  matInput
                  formControlName="email"
                  autocomplete="off"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Landline 1</mat-label>
                <input
                  matInput
                  placeholder="Landline"
                  formControlName="landline"
                  autocomplete="off"
                  (keypress)="numberOnly($event)"
                  maxlength="10"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Landline 2</mat-label>
                <input
                  matInput
                  placeholder="Landline2"
                  formControlName="landline2"
                  (keypress)="numberOnly($event)"
                  maxlength="10"
                  autocomplete="off"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Mobile</mat-label>
                <input
                  matInput
                  placeholder="Mobile"
                  formControlName="mobile"
                  autocomplete="off"
                  pattern="\d{10}"
                  (keypress)="numberOnly($event)"
                  maxlength="10"
                />
              </mat-form-field>
            </div>

            <div id="matInput-size">
              <mat-form-field appearance="outline">
                <mat-label>Mobile 2</mat-label>
                <input
                  matInput
                  placeholder="Mobile2"
                  formControlName="mobile2"
                  autocomplete="off"
                  pattern="\d{10}"
                  (keypress)="numberOnly($event)"
                  maxlength="10"
                />
              </mat-form-field>
            </div>
            </div>
          </div>
          <div class="btn-div">
            <button
              class="btn btn-outline-primary"
              style="border-radius: 40px"
              matStepperPrevious
            >
              Back
            </button>
            <button
            type="button"
            class="btn btn-outline-primary"
            [routerLink]="'/atma/vendor'"
            skipLocationChange
            style="border-radius: 40px"
          >
            Cancel
          </button>
            <button
              class="btn btn-outline-primary"
              style="border-radius: 40px"
              matStepperNext
            >
              Next
            </button>
          </div>
        </mat-step>

        <mat-step [stepControl]="fourthFormGroup">
          <ng-template matStepLabel>Profile</ng-template>
          <div [formGroup]="vendorAddForm.controls.profile">
            <div class="container-04">
              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Year</mat-label>
                  <input
                    matInput
                    placeholder="Year"
                    formControlName="year"
                    autocomplete="off"
                    (keypress)="numberOnly($event)"
                    maxlength="10"
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Associate Year</mat-label>
                  <input
                    matInput
                    placeholder="Associate Year"
                    formControlName="associate_year"
                    autocomplete="off"
                    (keypress)="numberOnly($event)"
                    maxlength="10"
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Award Details</mat-label>
                  <input
                    matInput
                    placeholder="Award Details"
                    formControlName="award_details"
                    autocomplete="off"
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Permanent Employee</mat-label>
                  <input
                    matInput
                    placeholder="Permanent Employee"
                    formControlName="permanent_employee"
                    (keypress)="numberOnly($event)"
                    (change)="totalFromPermanentEmployee($event)"
                    [(ngModel)]="permanentEmployee"
                    autocomplete="off"
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Temporary Employee</mat-label>
                  <input
                    matInput
                    placeholder="Temporary Employee"
                    formControlName="temporary_employee"
                    (keypress)="numberOnly($event)"
                    (change)="totalFromTemporaryEmployee($event)"
                    [(ngModel)]="temporaryEmployee"
                    autocomplete="off"
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Total Employee</mat-label>
                  <input
                    matInput
                    placeholder="Total Employee"
                    [readonly]="true"
                    formControlName="total_employee"
                    (keypress)="numberOnly($event)"
                    [(ngModel)]="totalEmployee"
                    autocomplete="off"
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Branch Count</mat-label>
                  <input
                    matInput
                    placeholder="Branch Count"
                    formControlName="branch"
                    autocomplete="off"
                    (keypress)="numberOnly($event)"
                    maxlength="10"
                    required
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Factory Count</mat-label>
                  <input
                    matInput
                    placeholder="Factory Count"
                    formControlName="factory"
                    autocomplete="off"
                    (keypress)="numberOnly($event)"
                    maxlength="10"
                  />
                </mat-form-field>
              </div>

              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label>Remarks</mat-label>
                  <input
                    matInput
                    placeholder="Remarks"
                    type="text"
                    (keypress)="addressvalidation($event)"
                    formControlName="remarks"
                    autocomplete="off"
                  />
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="btn-div">
            <button
              class="btn btn-outline-primary"
              style="border-radius: 40px"
              matStepperPrevious
            >
              Back
            </button>
            <button
              type="button"
              class="btn btn-outline-primary"
              [routerLink]="'/atma/vendor'"
              skipLocationChange
              style="border-radius: 40px"
            >
              Cancel
            </button>
            <button
              type="submit"
              style="border-radius: 40px"
              class="btn btn-outline-primary"
              (click)="submitForm()"
            >
              Submit
            </button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>
    </div>
  </form>

  <div class="modal" tabindex="-1" role="dialog" id="riskList">
    <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
      <div class="modal-content" id="mycontainer">
        <div class="modal-header">
          <p class="modal-title" style="text-align: center">
            High Risk Options
          </p>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
            #closeaddpopup
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="riskform">
            <div class="table-responsive">
              <table
                class="table table scrolltable table-bordered"
                style="width: 99%"
              >
                <thead class="table_header" fixed-header>
                  <tr>
                    <th>S.No</th>
                    <th>Risk List</th>
                    <th>Select</th>
                  </tr>
                </thead>

                <tbody>
                  <tr
                    *ngFor="let vendorrisklist of riskoptionList; index as i"
                    style="text-align: left"
                  >
                    <!-- <td> {{(this.currentpage - 1)*pageSize +i+1 }} </td> -->
                    <!-- <tr> -->
                    <td>{{ i + 1 }}</td>
                    <td>{{ vendorrisklist.risk_name }}</td>
                    <td>
                      <input
                        type="checkbox"
                        id="checkbox{{ i }}"
                        name="checkbox{{ i }}"
                        [checked]="selectedriskopt.includes(vendorrisklist.id)"
                        [disabled]="
                          (isOthersSelected &&
                            vendorrisklist.risk_name !== 'Others') ||
                          (isOtherOptionDisabled &&
                            vendorrisklist.risk_name === 'Others')
                        "
                        (change)="handleCheckboxChange(vendorrisklist)"
                      />
                    </td>

                    <!-- <td *ngIf="vendorSummaryList ?.length == 0" colspan="10"> No Records found</td> -->
                  </tr>
                </tbody>
              </table>

              <tr *ngIf="isriskremarks">
                <mat-form-field style="width: 224%">
                  <mat-label>Remarks</mat-label>
                  <input
                    matInput
                    placeholder="Remarks"
                    type="text"
                    formControlName="risk_remarks"
                    autocomplete="off"
                    required
                  />
                </mat-form-field>
              </tr>

              <!-- <div style="margin-bottom: 5%;font-size: small;text-align:right;">
                        <button mat-icon-button [disabled]="has_previous === false" color="primary" (click)="previousClick()">
                            <mat-icon>arrow_back</mat-icon>
                        </button> {{presentpage}}
                        <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClick()">
                            <mat-icon>arrow_forward</mat-icon>
                        </button>
                    </div> -->
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
          <button type="button" class="btn btn-success" data-dismiss="modal" (click)="closedpopup()">
            Save
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal" tabindex="-1" id="risktransaction">
    <div class="modal-dialog">
      <div class="modal-content" id="mycontainer">
        <div class="modal-header">
          <h3 class="modal-title" style="text-align: center">
            High Risk Transaction History
          </h3>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="table-responsive">
            <table
              class="table table scrolltable table-bordered"
              style="width: 99%"
            >
              <thead class="table_header" fixed-header>
                <tr>
                  <th>S.No</th>
                  <th>Created Date</th>
                  <th>Risk Category</th>
                  <th>Risk Option</th>
                  <th>Remarks</th>
                  <th>Name</th>
                </tr>
              </thead>

              <tbody>
                <tr
                  *ngFor="
                    let risktransaction of risktransactionList;
                    index as i
                  "
                  style="text-align: left"
                >
                  <!-- <td> {{(this.currentpage - 1)*pageSize +i+1 }} </td> -->
                  <!-- <tr> -->
                  <td>{{ i + 1 }}</td>
                  <td>{{ risktransaction.created_date }}</td>
                  <td>{{ risktransaction.risktype_id.text }}</td>
                  <td>{{ risktransaction.riskcategory_id.risk_name }}</td>
                  <td>{{ risktransaction.risk_remarks }}</td>
                  <td>{{ risktransaction.created_by }}</td>

                  <td *ngIf="risktransactionList?.length == 0" colspan="10">
                    No Records found
                  </td>
                </tr>
              </tbody>
            </table>

            <!-- <div style="margin-bottom: 5%;font-size: small;text-align:right;">
                        <button mat-icon-button [disabled]="has_previous === false" color="primary" (click)="previousClick()">
                            <mat-icon>arrow_back</mat-icon>
                        </button> {{presentpage}}
                        <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClick()">
                            <mat-icon>arrow_forward</mat-icon>
                        </button>
                    </div> -->
          </div>
        </div>
        <div class="modal-footer">
          <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
          <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
        </div>
      </div>
    </div>
  </div>
</div>

<ngx-spinner
  bdColor="rgba(51, 51, 51, 0.8)"
  size="default"
  [fullScreen]="true"
  type="ball-spin-clockwise"
>
  <p style="color: white">Please Wait.</p>
</ngx-spinner>
