<div style="padding: 10px 20px 40px 30px">
  <div class="d-flex align-items-center gap-2 mb-3">
    <button
      type="button"
      (click)="goback()"
      skipLocationChange
      style="
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        border: none;
        background-color: transparent;
      "
    >
      <mat-icon>arrow_back</mat-icon>
    </button>
    <h2 class="mb-0" routerLink="/atma/vendorView">Branch Details</h2>
  </div>

  <section class="card-container-bView">
    <div class="card-view">
      <h3>General</h3>
      <div class="card-content">
        <p>
          <b>Supplier Name</b>
          <span>{{ name }}</span>
        </p>
        <p>
          <b>Supplier Code</b>
          <span>{{ branchcode }}</span>
        </p>
        <p>
          <b>Limit Days</b>
          <span>{{ limitDays }}</span>
        </p>
        <p>
          <b>Credit Terms</b>
          <span>{{ creditTerms }}</span>
        </p>
        <p>
          <b>GST No</b>
          <span>{{ gstNumber }}</span>
        </p>
        <p>
          <b>Pan No</b>
          <span>{{ panNumber }}</span>
        </p>
      </div>
    </div>
    <div class="card-view">
      <h3>Contact</h3>
      <div class="card-content">
        <p>
          <b>Name</b>
          <span>{{ contactName }}</span>
        </p>

        <p>
          <b>Email</b>
          <span>{{ contactEmail }}</span>
        </p>

        <p>
          <b>DOB</b>
          <span>{{ contactDOB | date : "dd-MMM-yyyy" }}</span>
        </p>

        <p>
          <b>Wedding Date</b>
          <span>{{ contactWeddingDate | date : "dd-MMM-yyyy" }}</span>
        </p>

        <p>
          <b>Designation</b>
          <span>{{ contactDesignation }}</span>
        </p>

        <!-- <p >
                Type
                <span style="color: black; margin-left: 81px"
                  ><span>:</span>&nbsp;&nbsp;{{ contactType }}
                </span>
              </p> -->

        <p>
          <b>Line1</b>
          <span>{{ contactLine1 }}</span>
        </p>

        <p>
          <b>Line2</b>
          <span>{{ contactLine2 }}</span>
        </p>

        <p>
          <b>Mobile1</b>
          <span>{{ contacMobile1 }}</span>
        </p>

        <p>
          <b>Mobile2</b>
          <span>{{ contacMobile2 }}</span>
        </p>
      </div>
    </div>

    <div class="card-view">
      <h3>Address</h3>
      <div class="card-content">
        <p>
          <b>Line 1</b>
          <span>{{ addressLine1 }}</span>
        </p>
        <p>
          <b>Line 2</b>
          <span>{{ addressLine2 }}</span>
        </p>
        <p>
          <b>Line 3</b>
          <span>{{ addressLine3 }}</span>
        </p>
        <p>
          <b>City</b>
          <span>
            {{ addressCity }}
          </span>
        </p>
        <p>
          <b>District</b>
          <span>
            {{ addressDistrict }}
          </span>
        </p>
        <p>
          <b>State</b>
          <span>{{ addressState }}</span>
        </p>
        <p>
          <b>Pincode</b>
          <span>{{ addressPincode }} </span>
        </p>
      </div>
    </div>

    <!-- <div class="col-lg-4 col-sm-6 mb-30 pb-5"> -->
    <!-- <a class="card">
                      <div class="card" style="height: 117%;">
                          <h3 class="card-title">Address</h3>
                          <p > <span style="color: black;">
                                  {{addressLine1}},{{addressLine2}},{{addressLine3}}
                              </span></p>
                          <p > <span style="color: black;">
                                  {{addressCity}},{{addressDistrict}},
                              </span></p>
                          <p class="card-text "> <span style="color: black;">
                                  {{addressState}},{{addressPincode}}
                              </span></p>
                      </div> -->
    <!-- </a> -->
    <!-- </div> -->
  </section>

  <section class="filter-container">

   <div id="matInput-size">
     <mat-form-field appearance="outline">
       <mat-label>Add</mat-label>
       <input
         type="text"
         aria-label="Number"
         matInput
         [formControl]="myControl"
         [matAutocomplete]="auto"
       />
       <mat-autocomplete #auto="matAutocomplete">
         <mat-option
           (onSelectionChange)="tabchange($event)"
           *ngFor="let option of filteredOptions | async"
           [value]="option"
         >
           {{ option }}
         </mat-option>
       </mat-autocomplete>
       <!-- <mat-label>Add</mat-label>
                   <mat-select>
                       <mat-option (onSelectionChange)="tabchange($event)"
                           *ngFor="let tab of tabList" [value]="tab">{{tab}}
                       </mat-option>
                   </mat-select> -->
     </mat-form-field>
   </div>
   
    <div *ngIf="isActivity" class="mt-1">
      <div *ngIf="vendor_flag">
        <button
          type="button"
          class="btn btn-outline-success"
          (click)="addActivity()"
          style="border-radius: 40px"
        >
          <!-- data-toggle="modal"
        data-target="#branchViewMainModal" -->
          <i class="fa fa-plus"></i>
        </button>
      </div>
    </div>
    <div *ngIf="ispayment" class="mt-1">
      <div *ngIf="vendor_flag">
        <button
          type="button"
          class="btn btn-outline-success"
          style="border-radius: 40px"
          (click)="branchpayadd()"
        >
          <!-- data-toggle="modal"
        data-target="#branchViewMainModal" -->
          <i class="fa fa-plus"></i>
        </button>
      </div>
    </div>
    <div *ngIf="isCatalog" class="mt-1">

   

      <button 
      *ngIf="vendor_flag && value !== 0"
      type="button"
      class="btn btn-outline-success"
      (click)="addCatalog()"
      style="border-radius: 40px"
    >
      <!-- data-toggle="modal"
    data-target="#catalogModal" -->
      <i class="fa fa-plus"></i>
      </button>

    </div>
  </section>

  <div *ngIf="isCatalog" style="margin-top: 20px;">
    
    <form [formGroup]="catalogpopupformgrp" style="margin-left: -20px;">
                    
      <div>


          <mat-radio-group aria-label="Select an option" formControlName="radio_btn_status">
              &nbsp;&nbsp;

              <mat-radio-button *ngFor="let n of radiocheck" [value]="n.value"
                  (click)="popupdata(n)" style="margin-left: 10px;">
                  {{n.display}}
              </mat-radio-button>
          </mat-radio-group>
      
      </div>

      <div *ngIf="vendor_flag && value === 0" style="margin: 15px;">
        <button type="button" class="buttonsize btn btn-outline-success"
        (click)="downloadFileXLSXbulkTemplate()" style="border-radius:40px;">
        <i class="fa fa-download"></i> Sample Template</button>
  
  
        <input type="file" (change)="onFileSelectedBulkUpload($event)" id="file"
        style="width:250px;margin-left:50px;" accept=".xlsx, .xls, .csv" />
  
        <button *ngIf="bulk_upload" type="button" class="buttonsize btn btn-outline-success" (click)="UploadCsv()"
        style="border-radius:40px;margin-left: 50px;">
        <i class="fa fa-upload"></i> Bulk Upload</button>

        <button *ngIf="bulk_edit" type="button" class="buttonsize btn btn-outline-success" (click)="BulkUpdate()"
        style="border-radius:40px;margin-left: 50px;">
        <i class="fa fa-upload"></i> Bulk Update</button>

        <button *ngIf="show_success_preview" type="button" class="buttonsize btn btn-outline-success"
        (click)="previewpopup()" style="border-radius:40px;margin-left: 50px;">
        <i class="fa fa-eye"></i> Preview</button>

        <button *ngIf="show_error_download" type="button" class="buttonsize btn btn-outline-success"
        (click)="downloadFileXLSXErrorFile()" style="border-radius:40px;margin-left: 50px;">
        <i class="fa fa-download"></i> Error File</button>
      </div>

    </form>

      <form
      [formGroup]="catalogAddForm"
      style="
        display: flex;
        align-items: flex-start;
        justify-content: flex-start;
        gap: 10px;
        margin-top: 10px;
      "
    >
      <lib-vs-dynamicform-cmp
        class="package-width"
        [InputFields]="catalogsearchdrop"
        (dataEvent)="prod($event)"
      ></lib-vs-dynamicform-cmp>

      <lib-vs-dynamicform-cmp
      class="package-width"
      [InputFields]="productfield"
      (dataEvent)="productdata($event)"
    ></lib-vs-dynamicform-cmp>

    <lib-vs-dynamicform-cmp
    class="package-width"
    [InputFields]="makefield"
    (dataEvent)="makedata($event)"
     ></lib-vs-dynamicform-cmp>

    <lib-vs-dynamicform-cmp
    class="package-width"
    [InputFields]="modelfield"
    (dataEvent)="modaldata($event)"
    ></lib-vs-dynamicform-cmp>

    <!-- <lib-vs-depdropdown-cmp
      class="package-grid-width-cus"
      [ParentObj]="ParentObj"
      (dataEventParent)="selectedvalues($event)"
      (dataEventChild)="selectedvaluess($event)"
      [ChildObj]="ChildObj"
    ></lib-vs-depdropdown-cmp> -->
      <!-- <mat-form-field
      (click)="catlogname()"
      appearance="outline"
      style="width: 250px"
    >
      <mat-label>Catalogue Name</mat-label>
      <input
        #productInput
        placeholder="Select product"
        matInput
        formControlName="product_name"
        [matAutocomplete]="producttype"
        required
      />
      <mat-autocomplete
        #producttype="matAutocomplete"
        [displayWith]="displaydis"
        (opened)="productScroll()"
      >
        <mat-option *ngIf="isLoading" class="is-loading"
          >Loading...</mat-option
        >
        <ng-container *ngIf="!isLoading">
          <mat-option
            size="5"
            *ngFor="let product of productList"
            (onSelectionChange)="prod(product)"
            [value]="product"
            title="{{ product.name }}"
            >{{ product.name }}
          </mat-option>
        </ng-container>
      </mat-autocomplete>
    </mat-form-field> -->

      <button
        class="btn btn-outline-primary mt-2"
        (click)="catalogsearch()"
        type="submit"
        style="border-radius: 40px"
        color="primary"
      >
        <i class="fa fa-search" aria-hidden="true"></i>
      </button>

      <button
        class="btn btn-outline-primary mt-2"
        style="border-radius: 40px"
        color="primary"
        (click)="Reset()"
      >
        Reset
      </button>


      </form>
    
  </div>

  <div *ngIf="activitySummary">
    <!-- <div *ngIf="isActivity">
              <button type="button" class="btn btn-outline-success" (click)="addActivity()"
                  style="border-radius:40px;margin-left: 50px"><span class="fa fa-plus"></span>
                  Add</button>
          </div> -->
    <!-- <div>
      <div *ngIf="isActivityForm">
        <app-branchactivity
          (onCancel)="activityCancel()"
          (onSubmit)="activitySubmit()"
        ></app-branchactivity>
      </div>
    </div> -->

    <div *ngIf="isActivity">
      <div *ngIf="vendor_flag">
        <!-- <button
              type="button"
              class="btn btn-outline-success"
              (click)="addActivity()"
              style="border-radius: 40px; margin-left: 50px; margin-bottom: 5px"
            >
              <span class="fa fa-plus"></span> Add
            </button> -->
      </div>

      <!-- <h2>Summary</h2> -->
      <lib-vs-cbox-summary
        [SummaryDetails]="SummaryactivityData"
        [SummaryApiObj]="SummaryApiactivityObjNew"
        [unnecessary]="[]"
      ></lib-vs-cbox-summary>
      <!-- <div class="table-responsive" style="width: 80%;margin-top: 1%;overflow-x: hidden;"> -->
      <!-- <table class="table"> -->
      <!-- <thead class="table_header">
                          <tr> -->
      <!-- <th>S.No</th> -->
      <!-- <th>Activity Name</th> -->
      <!-- <th>Department</th>
  
                              <th>Activity Type</th>
                              <th>Description</th>
                              <th>Activity Status</th>
                              <th>Header Name</th>
                              <th>Action</th> -->
      <!-- <th>Delete</th> -->
      <!-- </tr>
                      </thead> -->
      <!-- <tbody> -->
      <!-- <tr *ngFor="let activity of activityList; index as i">
                              <td> {{(presentpage - 1)*pageSize +i+1 }} </td> -->
      <!-- <td (click)="activityView(activity)" style="cursor: pointer;color:blue;">{{ activity.name}} -->
      <!-- </td> -->
      <!-- <td (click)="activityView(activity)" style="cursor: pointer;color:blue;" > -->
      <!-- {{activity.service_branch.name}} -->
      <!-- {{ activity.service_branch.name ? activity.service_branch.name : 'DEPARTMENT-UNMAPPED'}} -->
      <!-- </td> -->
      <!-- <td>{{ activity.type}}</td>
                              <td>{{ activity.description}}</td>
                              <td>{{ activity.activity_status}}</td>
                              <td>{{ activity.rm}}</td> -->
      <!-- /////9186 -->
      <!-- <td *ngIf=" vendor_flag==true">
                                      <button *ngIf="activity.modify_ref_id>0" mat-icon-button matTooltip=" Edit"
                                          class="iconbutton" (click)="activityUpdate(activity)" [disabled]="true"
                                          color="primary">
                                          <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                                      </button>
                                      <button *ngIf="activity.modify_ref_id=='-1'" mat-icon-button matTooltip=" Edit"
                                          class="iconbutton" (click)="activityUpdate(activity)" color="primary">
                                          <mat-icon style="color:green;" aria-label="Edit">edit</mat-icon>
                                      </button>
                                  </td>
                                  <td *ngIf=" vendor_flag==false">
                                      <button mat-icon-button matTooltip=" Edit" class="iconbutton"
                                          (click)="activityUpdate(activity)" [disabled]="true" color="primary">
                                          <mat-icon style="color:gray;" aria-label="Edit">edit</mat-icon>
                                      </button>
                                  </td> -->
      <!-- <td *ngIf=" vendor_flag==true">
                                      <button *ngIf="activity.modify_ref_id>0" mat-icon-button class="iconbutton"
                                          [disabled]="true" (click)="activityDelete(activity)" color="primary">
                                          <mat-icon style="color: gray;">delete</mat-icon>
                                      </button>
                                      <button *ngIf="activity.modify_ref_id=='-1'" mat-icon-button class="iconbutton"
                                          (click)="activityDelete(activity)" color="primary">
                                          <mat-icon style="color:green;">delete</mat-icon>
                                      </button>
                                  </td>
                                  <td *ngIf=" vendor_flag==false">
                                      <button mat-icon-button class="iconbutton" (click)="activityDelete(activity)"
                                          color="primary" [disabled]="true">
                                          <mat-icon class="disabled_icon">delete</mat-icon>
                                      </button>
                                  </td> -->
      <!-- //////////////////// -->
      <!-- </tr>
                      </tbody> -->
      <!-- </table> -->
      <!-- <div *ngIf="activityList ?.length == 0" style="margin-left: 42%;">
                      <h3>Sorry data not found!.. </h3>
                  </div> -->
      <!-- <div class="row" *ngIf="isActivityPagination">
                      <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 5%;">
                          <button mat-icon-button [disabled]="has_previous === false" color="primary"
                              (click)="previousClickActivity()">
                              <mat-icon>arrow_back</mat-icon>
                          </button> {{presentpage}}
                          <button mat-icon-button [disabled]="has_next === false" color="primary"
                              (click)="nextClickActivity()">
                              <mat-icon>arrow_forward</mat-icon>
                          </button>
                      </div>
                  </div> -->

      <div *ngIf="activity_modify">
        <h2>Modification Summary</h2>
        <lib-vs-cbox-summary
          [SummaryDetails]="SummaryactivitymodifyData"
          [SummaryApiObj]="SummaryApiactivitymodifyObjNew"
          [unnecessary]="[]"
        ></lib-vs-cbox-summary>
        <!-- <table class="table">
          <thead class="table_header">
          
            <tr>
              <th>S.No</th>
        
              <th>Department</th>
              <th>Activity Type</th>
              <th>Description</th>
              <th>Activity Status</th>
              <th>Header Name</th>
              <th>Status</th>
              <th>Action</th>
           
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let j of activity_data; index as i">
              <td>{{ i + 1 }}</td>
              <td
                *ngIf="j.modify_status == 1"
                (click)="activityView(j)"
                style="cursor: pointer; color: blue"
              >
                {{ j.service_branch.name }}
              </td>
      
              <td *ngIf="j.modify_status == 2 || j.modify_status == 0">
                {{
                  j.service_branch.name
                    ? j.service_branch.name
                    : "DEPARTMENT-UNMAPPED"
                }}
              </td>
          
              <td>{{ j.type }}</td>
              <td>{{ j.description }}</td>
              <td>{{ j.activity_status }}</td>
              <td>{{ j.rm }}</td>
              <td *ngIf="j.modify_status == 1">Create</td>
              <td *ngIf="j.modify_status == 2">Update</td>
              <td *ngIf="j.modify_status == 0">Delete</td>
             
              <td>
                <span *ngIf="j.modify_ref_id != j.id && j.modify_status == 1">
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    class="iconbutton"
                    (click)="activityUpdate(j)"
                    color="primary"
                    [disabled]="true"
                  >
                    <mat-icon style="color: gray" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>
                <span *ngIf="j.modify_ref_id == j.id && j.modify_status == 1">
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    class="iconbutton"
                    (click)="activityUpdate(j)"
                    color="primary"
                  >
                    <mat-icon style="color: green" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>
                <span *ngIf="j.modify_status == 2 && j.modify_ref_id != true">
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    class="iconbutton"
                    (click)="activityUpdate(j)"
                    color="primary"
                  >
                    <mat-icon class="enabled_icon" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>
                <span *ngIf="j.modify_status == 2 && j.modify_ref_id == true">
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    class="iconbutton"
                    (click)="activityUpdate(j)"
                    color="primary"
                    [disabled]="true"
                  >
                    <mat-icon class="disabled_icon" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>
              </td>
      
            </tr>
          </tbody>
        </table>
        <div *ngIf="activity_data?.length == 0" style="margin-left: 42%">
          <h3>Sorry data not found!..</h3>
        </div> -->
      </div>
    </div>
  </div>

  <!-- <div *ngIf="istax"> -->

  <!-- <button type="button" class="btn btn-outline-success"
              style="border-radius:40px;margin-left: 50px;margin-bottom: 5px;" (click)="taxadd()"><span
                  class="fa fa-plus"></span> Add
          </button>
      </div> -->
  <!-- tax -->
  <div>
    <span *ngIf="Branchtaxadd">
      <app-branch-tax
        (onCancel)="branchtaxaddcancl()"
        (onSubmit)="branchtaxaddsbt()"
      ></app-branch-tax>
    </span>
  </div>
  <div>
    <span *ngIf="branchtax_RMView">
      <app-branchtaxmodification
        (onCancel)="branchtaxaddcancl()"
      ></app-branchtaxmodification>
    </span>
  </div>
  <div>
    <span *ngIf="taxedit">
      <app-branch-tax
        (onCancel)="taxeditcancel()"
        (onSubmit)="taxeditsubt()"
      ></app-branch-tax>
    </span>
  </div>
  <div>
    <span *ngIf="istax">
      <div class="row col-md-10">
        <div *ngIf="vendor_flag" class="col-md-12 text-right">
          <button
            type="button"
            class="btn btn-outline-success"
            (click)="taxadd()"
            style="border-radius: 40px; margin-left: 50px; margin-bottom: 5px"
          >
            <i class="fa fa-plus"></i>
          </button>
        </div>
      </div>
      <!-- <h2>Summary</h2> -->
      <div class="col-md-12 col-lg-12 col-sm-12">
        <table class="table table-hover">
          <thead>
            <tr class="header_cls">
              <!-- <th>S.No</th>
                              <th>Supplier Branch</th>
                              <th>PAN No.</th>
                              <th>Tax</th>
                              <th>Sub Tax</th>
                              <th>Tax Rate</th>
                              <th>View</th>
                              <th>Action</th> -->
              <th>S.No</th>
              <!-- <th>Supplier Branch</th> -->
              <th>PAN No</th>
              <th>Tax</th>
              <th>Sub Tax</th>
              <!-- <th>Tax Rate</th> -->
              <th>View</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let tax of products; index as i">
              <td>{{ i + 1 }}</td>
              <!-- <td>{{ tax.branch_id.name}}</td> -->
              <td>{{ tax.panno }}</td>
              <td>{{ tax.tax.name }}</td>
              <td>{{ tax.subtax.name }}</td>
              <!-- <td>{{tax.taxrate.rate}}</td> -->

              <td>
                <button
                  mat-icon-button
                  matTooltip="view"
                  class="iconbutton"
                  (click)="RMView_branchtax({ new_data: tax })"
                  color="primary"
                >
                  <mat-icon class="enabled_icon" aria-label="view"
                    >visibility</mat-icon
                  >
                </button>
              </td>
              <td>
                <span *ngIf="vendor_flag == true">
                  <button
                    *ngIf="tax.modify_ref_id > 0"
                    mat-icon-button
                    matTooltip=" Edit"
                    class="iconbutton"
                    (click)="Taxedit(tax)"
                    [disabled]="true"
                    color="primary"
                  >
                    <mat-icon style="color: gray" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                  <button
                    *ngIf="tax.modify_ref_id == '-1'"
                    mat-icon-button
                    matTooltip=" Edit"
                    class="iconbutton"
                    (click)="Taxedit(tax)"
                    color="primary"
                  >
                    <mat-icon style="color: green" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>
                <span *ngIf="vendor_flag == false">
                  <button
                    mat-icon-button
                    matTooltip=" Edit"
                    class="iconbutton"
                    (click)="Taxedit(tax)"
                    [disabled]="true"
                    color="primary"
                  >
                    <mat-icon style="color: gray" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>

                <button
                  *ngIf="tax.isexcempted == 'Y'"
                  mat-icon-button
                  matTooltip="attachment"
                  (click)="downattach(tax)"
                  class="iconbutton"
                  color="primary"
                >
                  <mat-icon class="enabled_icon" aria-label="attachment"
                    >photo_album</mat-icon
                  >
                </button>
                <button
                  *ngIf="tax.isexcempted == 'N'"
                  mat-icon-button
                  matTooltip="attachment"
                  class="iconbutton"
                  color="primary"
                >
                  <mat-icon class="disabled_icon" aria-label="attachment"
                    >photo_album</mat-icon
                  >
                </button>

                <span *ngIf="vendor_flag == true">
                  <button
                    *ngIf="tax.modify_ref_id > 0"
                    mat-icon-button
                    class="iconbutton"
                    [disabled]="true"
                    (click)="delete_tax(tax.id)"
                    color="primary"
                  >
                    <mat-icon class="disabled_icon">delete</mat-icon>
                  </button>
                  <button
                    *ngIf="tax.modify_ref_id == '-1'"
                    mat-icon-button
                    class="iconbutton"
                    (click)="delete_tax(tax.id)"
                    color="primary"
                  >
                    <mat-icon class="enabled_icon">delete</mat-icon>
                  </button>
                </span>
                <span *ngIf="vendor_flag == false">
                  <button
                    mat-icon-button
                    class="iconbutton"
                    (click)="delete_tax(tax.id)"
                    color="primary"
                    [disabled]="true"
                  >
                    <mat-icon class="disabled_icon">delete</mat-icon>
                  </button>
                </span>
              </td>
            </tr>
          </tbody>
        </table>

        <div style="margin-bottom: 5%; font-size: small; text-align: right">
          <button
            mat-icon-button
            [disabled]="has_previous_tax === false"
            color="primary"
            (click)="previousClick()"
          >
            <mat-icon>arrow_back </mat-icon>
          </button>
          {{ presentpage }}
          <button
            mat-icon-button
            [disabled]="has_next_tax === false"
            color="primary"
            (click)="nextClick()"
          >
            <mat-icon>arrow_forward </mat-icon>
          </button>
        </div>
      </div>

      <div *ngIf="tax_modify">
        <h2>Modification Summary</h2>
        <table class="table">
          <thead class="table_header">
            <tr>
              <!-- <th>S.No</th>
                              <th>Supplier Branch</th>
                              <th>PAN No.</th>
                              <th>Tax</th>
                              <th>Sub Tax</th>
                              <th>Tax Rate</th>
                              <th>Status</th>
                              <th>Action</th> -->
              <th>S.No</th>
              <!-- <th>Supplier Branch</th> -->
              <th>PAN No</th>
              <th>Tax</th>
              <th>Sub Tax</th>
              <!-- <th>Tax Rate</th> -->
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let j of tax_data; index as i">
              <td>{{ i + 1 }}</td>
              <!-- <td>{{ j.branch_id.name}}</td> -->
              <td>{{ j.panno }}</td>
              <td>{{ j.tax.name }}</td>
              <td>{{ j.subtax.name }}</td>
              <!-- <td>{{j.subtax.id}}</td> -->

              <td *ngIf="j.modify_status == 1">Create</td>
              <td *ngIf="j.modify_status == 2">Update</td>
              <td *ngIf="j.modify_status == 0">Delete</td>
              <td>
                <span *ngIf="j.modify_ref_id != j.id && j.modify_status == 1">
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    class="iconbutton"
                    (click)="Taxedit(j)"
                    color="primary"
                    [disabled]="true"
                  >
                    <mat-icon style="color: gray" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>
                <span *ngIf="j.modify_ref_id == j.id && j.modify_status == 1">
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    class="iconbutton"
                    (click)="Taxedit(j)"
                    color="primary"
                  >
                    <mat-icon style="color: green" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>
                <span *ngIf="j.modify_status == 2 && j.modify_ref_id != true">
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    class="iconbutton"
                    (click)="Taxedit(j)"
                    color="primary"
                  >
                    <mat-icon class="enabled_icon" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>
                <span *ngIf="j.modify_status == 2 && j.modify_ref_id == true">
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    class="iconbutton"
                    (click)="Taxedit(j)"
                    color="primary"
                    [disabled]="true"
                  >
                    <mat-icon class="disabled_icon" aria-label="Edit"
                      >edit</mat-icon
                    >
                  </button>
                </span>

                <button
                  mat-icon-button
                  matTooltip="attachment"
                  class="iconbutton"
                  color="primary"
                >
                  <mat-icon style="color: gray" aria-label="attachment"
                    >photo_album</mat-icon
                  >
                </button>

                <span *ngIf="j.modify_status != 0">
                  <button
                    mat-icon-button
                    class="iconbutton"
                    (click)="delete_tax(j.id)"
                    color="primary"
                  >
                    <mat-icon class="enabled_icon">delete</mat-icon>
                  </button>
                </span>
                <span *ngIf="j.modify_status == 0">
                  <button
                    mat-icon-button
                    class="iconbutton"
                    (click)="delete_tax(j.id)"
                    color="primary"
                    [disabled]="true"
                  >
                    <mat-icon class="disabled_icon">delete</mat-icon>
                  </button>
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        <div *ngIf="tax_data?.length == 0" style="margin-left: 42%">
          <h3>Sorry data not found!..</h3>
        </div>
      </div>
    </span>
  </div>
  <!-- tax -->

  <div *ngIf="ispayment">
    <!-- <h2>Summary</h2> -->
    <!-- <div *ngIf="vendor_flag">
        <button
          type="button"
          class="btn btn-outline-success"
          style="border-radius: 40px; margin-left: 50px; margin-bottom: 5px"
          (click)="branchpayadd()"
        >
          <span class="fa fa-plus"></span> Add
        </button>
      </div> -->
    <lib-vs-cbox-summary
      [SummaryDetails]="SummarypaymentData"
      [SummaryApiObj]="SummaryApipaymentObjNew"
      [unnecessary]="[]"
    ></lib-vs-cbox-summary>
    <div *ngIf="payment_modify">
      <h2>Modification Summary</h2>
      <lib-vs-cbox-summary
        [SummaryDetails]="SummarypaymentmodifyData"
        [SummaryApiObj]="SummaryApipaymentmodifyObjNew"
        [unnecessary]="[]"
      ></lib-vs-cbox-summary>
      <!-- <table class="table">
        <thead class="table_header">
          <tr>
            <th>S.No</th>
            <th>Supplier Branch</th>
            <th>Paymode</th>
            <th>Bank</th>
            <th>Account Number</th>
            <th>Beneficiary Name</th>
            <th>Status</th>
            <th>Edit</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let j of payment_data; index as i">
            <td>{{ i + 1 }}</td>
            <td>{{ j.supplier }}</td>
            <td>{{ j.paymode_id.name }}</td>
            <td>{{ j.bank_id.name }}</td>
            <td>{{ j.account_no }}</td>
            <td>{{ j.beneficiary }}</td>
            <td *ngIf="j.modify_status == 1">Create</td>
            <td *ngIf="j.modify_status == 2">Edit</td>
            <td *ngIf="j.modify_status == 0">Delete</td>
            <td *ngIf="j.modify_status == 3">Active/Inactive</td>
            <td>
              <span *ngIf="j.modify_ref_id != j.id && j.modify_status == 1">
                <button
                  mat-icon-button
                  matTooltip="Edit"
                  class="iconbutton"
                  (click)="editbranch(j)"
                  color="primary"
                  [disabled]="true"
                >
                  <mat-icon style="color: gray" aria-label="Edit"
                    >edit</mat-icon
                  >
                </button>
              </span>
              <span *ngIf="j.modify_ref_id == j.id && j.modify_status == 1">
                <button
                  mat-icon-button
                  matTooltip="Edit"
                  class="iconbutton"
                  (click)="editbranch(j)"
                  color="primary"
                >
                  <mat-icon style="color: green" aria-label="Edit"
                    >edit</mat-icon
                  >
                </button>
              </span>
              <span *ngIf="j.modify_status == 2 && j.modify_ref_id != true">
                <button
                  mat-icon-button
                  matTooltip="Edit"
                  class="iconbutton"
                  (click)="editbranch(j)"
                  color="primary"
                >
                  <mat-icon class="enabled_icon" aria-label="Edit"
                    >edit</mat-icon
                  >
                </button>
              </span>
              <span *ngIf="j.modify_status == 2 && j.modify_ref_id == true">
                <button
                  mat-icon-button
                  matTooltip="Edit"
                  class="iconbutton"
                  (click)="editbranch(j)"
                  color="primary"
                  [disabled]="true"
                >
                  <mat-icon class="disabled_icon" aria-label="Edit"
                    >edit</mat-icon
                  >
                </button>
              </span>
            </td>

            <td>
              <span *ngIf="j.modify_status != 0">
                <td align="center">
                  <span
                    *ngIf="j.is_active == true"
                    class="material-icons editlink active"
                    title="Click to inactive"
                    role="button"
                    tabindex="0"
                    (click)="activeto_inactive(j)"
                    >wb_sunny
                  </span>

                  <span
                    *ngIf="j.is_active == false"
                    class="material-icons editlink inactive"
                    title="Click to active"
                    (click)="activeto_inactive(j)"
                    role="button"
                    tabindex="0"
                    >wb_sunny
                  </span>
                </td>
              </span>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="payment_data?.length == 0" style="margin-left: 42%">
        <h3>Sorry data not found!..</h3>
      </div> -->
    </div>
  </div>
  <!-- <div>
    <div *ngIf="paymentaddform">
      <app-branch-payment
        (onCancel)="paymentaddcancel()"
        (onSubmit)="paymentaddsumbmit()"
      >
      </app-branch-payment>
    </div>
  </div> -->
  <!-- <div>
    <span *ngIf="payment_RMView">
      <app-paymentmodification
        (onCancel)="paymentaddcancel()"
      ></app-paymentmodification>
    </span>
  </div> -->
  <!-- <div>
    <span *ngIf="paymenteditform">
      <app-paymentedit
        (onCancel)="paymentcancel()"
        (onSubmit)="paymentsumbmit()"
      ></app-paymentedit>
    </span>
  </div> -->
  <div *ngIf="ispayment">
    <!-- <div class="col-md-12 col-lg-12 col-sm-12"> -->
    <!-- <table class="table   table-condensed table-hover "> -->
    <!-- <thead>
                      <tr class="header_cls">
                          <th>S.No</th>
                          <th>Supplier Branch</th>
                          <th>Paymode</th>
                          <th>Bank</th>
                          <th>Account Number</th>
                          <th>Beneficiary Name</th>
                          <th>View</th>
                          <th>Edit</th>
                          <th>Action</th>
                      </tr>
                  </thead> -->
    <!-- <tbody>
                      <tr *ngFor="let branch of getBranchList; index as i"> -->
    <!-- <td scope="row">{{ (presentpage_payment-1)*pageSize+i+1 }}</td>
                          <td>{{branch.supplierbranch_id.name}}</td>
                          <td>{{ branch.paymode_id.name }}</td>
                          <td>{{ branch.bank_id.name }}</td>
                          <td>{{ branch.account_no }}</td>
                          <td>{{ branch.beneficiary }}</td>
                          <td>
                              <button mat-icon-button matTooltip="view" class="iconbutton"
                                  (click)="RMView_branchpayment({'new_data':branch})" color="primary">
                                  <mat-icon class="enabled_icon" aria-label="view">visibility</mat-icon>
                              </button>
                          <td *ngIf=" vendor_flag==true">
  
                              <button *ngIf="branch.modify_ref_id>0" mat-icon-button matTooltip=" Edit" class="iconbutton"
                                  (click)="editbranch(branch)" [disabled]="true" color="primary">
                                  <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                              </button>
                              <button *ngIf="branch.modify_ref_id=='-1'" mat-icon-button matTooltip=" Edit"
                                  class="iconbutton" (click)="editbranch(branch)" color="primary">
                                  <mat-icon style="color:green;" aria-label="Edit">edit</mat-icon>
                              </button>
  
  
                          </td>
                          <td *ngIf=" vendor_flag==false">
                              <button mat-icon-button matTooltip=" Edit" class="iconbutton" (click)="editbranch(branch)"
                                  [disabled]="true" color="primary">
                                  <mat-icon style="color:gray;" aria-label="Edit">edit</mat-icon>
                              </button>
                          </td> -->
    <!-- 
                          <td *ngIf=" vendor_flag==true">
                             
  
                              <span  *ngIf="branch.modify_ref_id=='-1'">
                                  <button mat-icon-button class="iconbutton"   (click)="deletebranchpay(branch)"
                                      color="primary">
                                      <mat-icon class="enabled_icon">delete</mat-icon>
                                  </button>
                              </span>
                              <span *ngIf="branch.modify_ref_id>=0">
                                  <button mat-icon-button class="iconbutton" (click)="deletebranchpay(branch)"
                                      color="primary" [disabled]="true">
                                      <mat-icon class="disabled_icon">delete</mat-icon>
                                  </button>
                              </span>
                          </td> 
                          <td *ngIf=" vendor_flag==false">
                              <button mat-icon-button  class="iconbutton"
                                      (click)="deletebranchpay(branch)" color="primary" [disabled]="true">
                                      <mat-icon class="disabled_icon">delete</mat-icon>
                              </button>          
                          </td> -->

    <!-- <td align="center " *ngIf=" vendor_flag==true">
                              <span *ngIf="branch.modify_ref_id>0">
                                  <span *ngIf='branch.is_active==true' class="material-icons editlink  active"
                                      title="Click to inactive" role="button"  tabindex="0">wb_sunny
                                  </span>
  
                                  <span *ngIf='branch.is_active==false' 
                                      class="material-icons editlink  inactive" title="Click to active" role="button"
                                      tabindex="0">wb_sunny
                                  </span>
                              </span>
                              <span *ngIf="branch.modify_ref_id=='-1'">
                                  <span *ngIf='branch.is_active==true' class="material-icons editlink  active"
                                      title="Click to inactive" role="button" tabindex="0"
                                      (click)="activeto_inactive(branch)">wb_sunny
                                  </span>
  
                                  <span *ngIf='branch.is_active==false' class="material-icons editlink  inactive"
                                      title="Click to active" (click)="activeto_inactive(branch)" role="button"
                                      tabindex="0">wb_sunny
                                  </span>
                              </span>
  
                          </td>
                          <td align="center " *ngIf=" vendor_flag==false">
                              <span *ngIf='branch.is_active==true' class="material-icons editlink  active"
                                  title="Click to inactive" role="button"  tabindex="0">wb_sunny
                              </span>
  
                              <span *ngIf='branch.is_active==false'
                                  class="material-icons editlink  inactive" title="Click to active" role="button"
                                  tabindex="0">wb_sunny
                              </span>
                          </td> -->

    <!-- </tr>
                      <tr *ngIf="getBranchList ?.length == 0">
                          <td colspan="9">No Records Found.</td>
                      </tr>
                  </tbody>
              </table> -->
    <!-- <div class="row" *ngIf="isPaymentPagination">
                  <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 5%;">
                      <button mat-icon-button [disabled]="has_previous_payment === false" color="primary"
                          (click)="previousClickbranch()">
                          <mat-icon>arrow_back</mat-icon>
                      </button>
                      {{presentpage_payment}}
                      <button mat-icon-button [disabled]=" has_next_payment === false" color="primary"
                          (click)="nextClickbranch()">
                          <mat-icon>arrow_forward</mat-icon>
                      </button>
                  </div>
              </div> -->

    <!-- </div> -->
  </div>

  <div *ngIf="isCatalog">
    <!-- <h1>{{value}}</h1> -->
    <lib-vs-cbox-summary *ngIf="value === 1"
      [SummaryDetails]="SummarycatalogData"
      [SummaryApiObj]="SummaryApicatlogObjNew"
      [unnecessary]="[]"
    ></lib-vs-cbox-summary>
    <lib-vs-cbox-summary *ngIf=" vendor_flag == false && value === 0"
      [SummaryDetails]="SummarybulkcatalogData1"
      [SummaryApiObj]="SummaryApibulkcatlogObjNew"
      [unnecessary]="[]"
    ></lib-vs-cbox-summary>
    <lib-vs-cbox-summary *ngIf="vendor_flag && value === 0"
      [SummaryDetails]="SummarybulkcatalogData"
      [SummaryApiObj]="SummaryApibulkcatlogObjNew"
      [unnecessary]="[]"
    ></lib-vs-cbox-summary>
    <!-- <div class="table-responsive" style="width: 100%;margin-top: 1%;overflow-x: hidden;"> -->
    <!-- <table class="table">
            <thead class="table_header">
                <tr>
                    <th>S.No</th>
                    <th>Details Name</th>
                    <th>Product</th>
                    <th>Item Name</th>  
                    <th>Category </th>
                    <th>Sub Category</th>
                    <th>From Date</th>
                    <th>To Date</th>
                    <th>View</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let catalog of getCatalogList; index as i">
                    <th scope="row">{{ (catalogpage-1)*pageSize+i+1 }}</th>
                    <td>{{ catalog.detailname }}</td>
                    <td>{{ catalog.productname.name }}</td>
                    <td>{{ catalog.name}}</td>
                    <td>{{ catalog.category.name }}</td>
                    <td>{{ catalog.subcategory.name}}</td>
                    <td>{{ catalog.fromdate | date:'dd-MMM-yyyy' }}</td>
                    <td>{{ catalog.todate | date:'dd-MMM-yyyy' }}</td>
                    <td>
                        <button mat-icon-button matTooltip="view" class="iconbutton"
                            (click)="RMView_catelog({'new_data':catalog})" color="primary">
                            <mat-icon class="enabled_icon" aria-label="view">visibility</mat-icon>
                        </button>
                    </td>
                    <td *ngIf=" vendor_flag==true">
                        <button *ngIf="catalog.modify_ref_id>0" mat-icon-button matTooltip=" Edit"
                            class="iconbutton" (click)="catalogEdit(catalog)" [disabled]="true" color="primary">
                            <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                        </button>
                        <button *ngIf="catalog.modify_ref_id=='-1'" mat-icon-button matTooltip=" Edit"
                            class="iconbutton" (click)="catalogEdit(catalog)" color="primary">
                            <mat-icon style="color:green;" aria-label="Edit">edit</mat-icon>
                        </button>
                    </td>
                    <td *ngIf=" vendor_flag==false">
                        <button mat-icon-button matTooltip=" Edit" class="iconbutton" (click)="catalogEdit(catalog)"
                            [disabled]="true" color="primary">
                            <mat-icon style="color:gray;" aria-label="Edit">edit</mat-icon>
                        </button>
                    </td>
                    <td *ngIf=" vendor_flag==true">
                        <button *ngIf="catalog.modify_ref_id>0" mat-icon-button  matTooltip=" Delete" class="iconbutton" [disabled]="true"
                            (click)="deleteCatalog(catalog,i)" color="primary">
                            <mat-icon style="color: gray;">delete</mat-icon>
                        </button>
                        <button *ngIf="catalog.modify_ref_id=='-1'" mat-icon-button  matTooltip=" Delete"class="iconbutton"
                            (click)="deleteCatalog(catalog,i)" color="primary">
                            <mat-icon style="color:green;">delete</mat-icon>
                        </button>
                    </td>
                    <td *ngIf=" vendor_flag==false">
                        <button mat-icon-button  matTooltip=" Delete"class="iconbutton" (click)="deleteCatalog(catalog,i)"
                            color="primary" [disabled]="true">
                            <mat-icon class="disabled_icon">delete</mat-icon>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
         <div *ngIf="getCatalogList ?.length == 0" style="margin-left: 42%;"> 
            
         <h3>Sorry data not found!.. </h3> 
         </div> 
        <div class="row" *ngIf="isCatalogPagination">
            <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
                <button mat-icon-button [disabled]="has_previous === false" color="primary"
                    (click)="previousClickCatalog()">
                    <mat-icon>arrow_back</mat-icon>
                </button>
                {{catalogpage}}
                <button mat-icon-button [disabled]="has_next === false" color="primary"
                    (click)="nextClickCatalog()">
                    <mat-icon>arrow_forward</mat-icon>
                </button>
            </div>
        </div> -->

    <div *ngIf="catalog_modify">
      <h2 *ngIf="value === 1">Modification Summary</h2>
      <lib-vs-cbox-summary *ngIf="value === 1"
        [SummaryDetails]="SummarymodifycatalogData"
        [SummaryApiObj]="SummaryApicatlogmodifyObjNew"
        [unnecessary]="[]"
      ></lib-vs-cbox-summary>
      <!-- <table class="table">
        <thead class="table_header">
          <tr>
            <th>S.No</th>
            <th>DetailsName</th>
            <th>Product</th>
            <th>Item Name</th>
            <th>Category</th>
            <th>SubCategory</th>
            <th>FromDate</th>
            <th>Todate</th>
            <th>Status</th>
            <th>Action</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let j of catalog_data; index as i">
            <td>{{ i + 1 }}</td>
            <td>{{ j.detailname }}</td>
            <td>{{ j.productname.name }}</td>
            <td>{{ j.name }}</td>
            <td>{{ j.category.name }}</td>
            <td>{{ j.subcategory.name }}</td>
            <td>{{ j.fromdate | date : "dd-MMM-yyyy" }}</td>
            <td>{{ j.todate | date : "dd-MMM-yyyy" }}</td>
            <td *ngIf="j.modify_status == 1">Create</td>
            <td *ngIf="j.modify_status == 2">Update</td>
            <td *ngIf="j.modify_status == 0">Delete</td>
            <td>
              <span *ngIf="j.modify_ref_id != j.id && j.modify_status == 1">
                <button mat-icon-button matTooltip="Edit" class="iconbutton" (click)="catalogEdit(j)"
                  color="primary" [disabled]="true">
                  <mat-icon style="color: gray" aria-label="Edit">edit</mat-icon>
                </button>
              </span>
              <span *ngIf="j.modify_ref_id == j.id && j.modify_status == 1">
                <button mat-icon-button matTooltip="Edit" class="iconbutton" (click)="catalogEdit(j)"
                  color="primary">
                  <mat-icon style="color: green" aria-label="Edit">edit</mat-icon>
                </button>
              </span>
              <span *ngIf="j.modify_status == 2 && j.modify_ref_id != true">
                <button mat-icon-button matTooltip="Edit" class="iconbutton" (click)="catalogEdit(j)"
                  color="primary">
                  <mat-icon class="enabled_icon" aria-label="Edit">edit</mat-icon>
                </button>
              </span>
              <span *ngIf="j.modify_status == 2 && j.modify_ref_id == true">
                <button mat-icon-button matTooltip="Edit" class="iconbutton" (click)="catalogEdit(j)"
                  color="primary" [disabled]="true">
                  <mat-icon class="disabled_icon" aria-label="Edit">edit</mat-icon>
                </button>
              </span>
            </td>
            <td>
              <span *ngIf="j.modify_status != 0">
                <button mat-icon-button class="iconbutton" (click)="deleteCatalog(j, i)" color="primary">
                  <mat-icon class="enabled_icon">delete</mat-icon>
                </button>
              </span>
              <span *ngIf="j.modify_status == 0">
                <button mat-icon-button class="iconbutton" (click)="deleteCatalog(j, i)" color="primary"
                  [disabled]="true">
                  <mat-icon class="disabled_icon">delete</mat-icon>
                </button>
              </span>
            </td>
          </tr>
        </tbody>
      </table> -->
      <!-- <div *ngIf="catalog_data?.length == 0" style="margin-left: 42%">
        <h3>Sorry data not found!..</h3>
      </div> -->
    </div>

    <div *ngIf="bulk_catalog_modify">
      <h2 *ngIf="value === 0">Modification Summary</h2>
      <lib-vs-cbox-summary *ngIf="value === 0"
      [SummaryDetails]="SummarybulkmodifycatalogData"
      [SummaryApiObj]="SummaryApimodifybulkcatlogObjNew"
      [unnecessary]="[]"
    ></lib-vs-cbox-summary>
    </div>
    <!-- </div> -->
  </div>
  <div
    class="modal fade"
    id="branchViewMainModal"
    tabindex="-1"
    aria-labelledby="branchViewMainModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" style="max-width: 900px; width: 100%">
      <div class="modal-content">
        <div class="modal-header">
          <p class="modal-title" id="branchViewMainModalLabel">{{ rename }}</p>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            #closeaddpopup
            aria-label="Close"
            (click)="closepopup()"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div *ngIf="isActivityForm">
          <app-branchactivity
            (onCancel)="activityCancel()"
            (onSubmit)="activitySubmit()"
          ></app-branchactivity>
        </div>

        <div *ngIf="paymentaddform">
          <app-branch-payment
            (onCancel)="paymentaddcancel()"
            (onSubmit)="paymentaddsumbmit()"
          >
          </app-branch-payment>
        </div>

        <div *ngIf="payment_RMView">
          <app-paymentmodification
            (onCancel)="paymentaddcancel()"
          ></app-paymentmodification>
        </div>

        <div *ngIf="paymenteditform">
          <app-paymentedit
            (onCancel)="paymentcancel()"
            (onSubmit)="paymentsumbmit()"
          ></app-paymentedit>
        </div>

        <div *ngIf="branchactivityedit">
          <app-branchactivity-edit
            (onCancel)="branchpaymenteditcancel()"
            (onSubmit)="branchpaymentedit()"
          ></app-branchactivity-edit>
        </div>
        <div *ngIf="isCatalogForm">
          <app-create-catalog
            (onCancel)="onCancelClick()"
            (onSubmit)="catalogSubmit()"
          ></app-create-catalog>
        </div>

        <div *ngIf="isCatalogEditForm">
          <app-catalog-edit
            (onCancel)="catalogEditCancel()"
            (onSubmit)="catalogEditSubmit()"
          ></app-catalog-edit>
        </div>

        <div *ngIf="catelog_RMView">
          <app-catalougemodification
            (onCancel)="onCancelClick()"
          ></app-catalougemodification>
        </div>
      </div>
    </div>
  </div>








   <!-- <div class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabels" aria-hidden="true" id="create_catlog_popup">
    <div class="modal-dialog modal-md">

        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Create Catalog Popup</h2>
                <button type="button" #closebutton class="close" data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body p-3">


                <form [formGroup]="catalogpopupformgrp">
                    
                        <div>


                            <mat-radio-group aria-label="Select an option" formControlName="status">
                                &nbsp;&nbsp;

                                <mat-radio-button *ngFor="let n of radiocheck" [value]="n.value"
                                    (click)="popupdata(n)" style="margin-left: 10px;">
                                    {{n.display}}
                                </mat-radio-button>
                            </mat-radio-group>
                        
                        </div>
                  
                  
                </form>


            </div>

            <div class="modal-footer">

              <button
              type="button"
              data-dismiss="modal"
              class="btn btn-outline-primary"
              style="border-radius: 40px"
            >
              Cancel
            </button>
            </div>

        </div>
    </div>
  </div>  -->
   <div class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabels" aria-hidden="true" id="preview_popup">
    <div class="modal-dialog modal-lg">

        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Bulk Upload Preview</h2>
                <button type="button" #previewclosebutton class="close" data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body p-3">

              <nav>
                <div class="nav nav-tabs nav_tabs" id="nav-tab" role="tablist">
                  <span 
                      class="nav-item nav-link tab-item" 
                      [ngClass]="{'active-tab': selectedTab === sub}" 
                      (click)="BulkSubModule(sub); selectedTab = sub" 
                      role="tab" 
                      *ngFor="let sub of Bulk_Sub_Menu_List">
                      {{sub.name}}
                  </span>
                </div>
              </nav>

              <div class="table-responsive" style="width: 100%;margin-top: 3%;">
                <table  *ngIf="success_table && success_bulk_data?.length > 0"  class="table" >
                  <thead class="table_header">
                  <tr>
                      <th>S.No</th>
                      <th>Product</th>
                      <th>Make</th>
                      <th>Model</th>
                      <th>Specification & Configuration</th>
                      <!-- <th></th> -->
                      <th>Category</th>
                      <th>Sub Category</th>
                      <th>Catelog Specification</th>
                      <th>Size</th>
                      <th>Remarks</th>
                      <th>UOM</th>
                      <th>Unit Price</th>
                      <th>From Date</th>
                      <th>To Date</th>
                      <th>Packing Price</th>
                      <th>Delivery Days</th>
                      <th>Capacity</th>
                      <th>DTS</th>
                    
                  </tr>
                  </thead>
                  <tr *ngFor="let suc of success_bulk_data;let i=index">
                      <td>{{i+1}}</td>
                      <td>{{suc?.productname}}</td>
                      <td>{{suc?.makename}}</td>
                      <td>{{suc?.modelname}}</td>
                      <td>{{suc?.specificationname}}</td>
                      <!-- <td>{{suc?.configuration.configuration}}</td> -->
                      <td>{{suc?.categoryname}}</td>
                      <td>{{suc?.subcategoryname}}</td>
                      <td>{{suc?.specification}}</td>
                      <td>{{suc?.size}}</td>
                      <td>{{suc?.remarks}}</td>
                      <td>{{suc?.uom}}</td>
                      <td>{{suc?.unitprice}}</td>
                      <td>{{suc?.from_date}}</td>
                      <td>{{suc?.to_date}}</td>
                      <td>{{suc?.packing_price}}</td>
                      <td>{{suc?.delivery_date}}</td>
                      <td>{{suc?.capacity}}</td>
                      <td>{{suc?.direct_to}}</td>
                    
                  </tr>
                </table>
              </div>

              <div class="table-responsive" style="width: 100%;margin-top: 3%;">
                <table *ngIf="error_table && error_bulk_data?.length > 0" class="table">
                  <thead class="table_header">
                  <tr>
                      <th>S.No</th>
                      <th>Product</th>
                      <th>Make</th>
                      <th>Model</th>
                      <th>Specification & Configuration</th>
                      <!-- <th>Configuration</th> -->
                      <th>Category</th>
                      <th>Sub Category</th>
                      <th>Catelog Specification</th>
                      <th>Size</th>
                      <th>Remarks</th>
                      <th>UOM</th>
                      <th>Unit Price</th>
                      <th>From Date</th>
                      <th>To Date</th>
                      <th>Packing Price</th>
                      <th>Delivery Days</th>
                      <th>Capacity</th>
                      <th>DTS</th>
                    
                  </tr>
                  </thead>
                  <tr *ngFor="let err of error_bulk_data;let i=index">
                      <td>{{i+1}}</td>
                      <td>{{err?.productname}}</td>
                      <td>{{err?.makename}}</td>
                      <td>{{err?.modelname}}</td>
                      <td>{{err?.specificationname}}</td>
                      <!-- <td>{{err?.configuration.configuration}}</td> -->
                      <td>{{err?.categoryname}}</td>
                      <td>{{err?.subcategoryname}}</td>
                      <td>{{err?.specification}}</td>
                      <td>{{err?.size}}</td>
                      <td>{{err?.remarks}}</td>
                      <td>{{err?.uom}}</td>
                      <td>{{err?.unitprice}}</td>
                      <td>{{err?.from_date}}</td>
                      <td>{{err?.to_date}}</td>
                      <td>{{err?.packing_price}}</td>
                      <td>{{err?.delivery_date}}</td>
                      <td>{{err?.capacity}}</td>
                      <td>{{err?.direct_to}}</td>
                    
                  </tr>
                </table>
              </div>
          
              <p *ngIf="success_table && !success_bulk_data?.length" style="text-align: center;">No successful records to display.</p>
              <p *ngIf="error_table && !error_bulk_data?.length" style="text-align: center;">No error records to display.</p>
              

            </div>

            <div class="modal-footer">

              <button *ngIf="!error_bulk_data?.length"
              type="button"
              (click)="preview_submit()"
              class="btn btn-outline-primary"
              style="border-radius: 40px"
            >
              Submit
            </button>
              <button
              type="button"
              data-dismiss="modal"
              class="btn btn-outline-primary"
              style="border-radius: 40px"
            >
              Cancel
            </button>
            </div>

        </div>
    </div>
  </div> 
</div>
