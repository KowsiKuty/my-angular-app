<div class="modal-body">
  <!-- <h3>Document Create Form</h3> -->
  <form
    [formGroup]="DocumentAddForm"
    autocomplete="off"
  >
  <!-- (ngSubmit)="submitForm()" -->
  <!-- class="common-grid" -->
    <div *ngIf="deactivatebtnclk && activatebtnclk"  class="flex-for-sepDate">
      <div id="matInput-size">
        <mat-form-field appearance="outline" class="matwidth">
          <mat-label>Partner Id</mat-label>
          <input matInput autocomplete="off" formControlName="partner_id" />
        </mat-form-field>
      </div>

      <lib-vs-dynamicform-cmp
        class="package-width"
        [formGroup]="DocumentAddForm"
        [InputFields]="documentcreate"
        
      ></lib-vs-dynamicform-cmp>
      <!-- (dataEvent)="doccreate($event)" -->
      <!-- <mat-form-field  (click)="docgroupname()" appearance="outline">
                       
                            <mat-label>DocGroup </mat-label>
                            <input #docInput matInput 
                            formControlName="docgroup_id"
                                [matAutocomplete]="parenttype" required>
                            <mat-autocomplete #parenttype="matAutocomplete" 
                            [displayWith]="displayFnparent" (opened)="parentScroll()">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let doc of Documentlist" 
                                     [value]="doc" title="{{doc.name}}">{{doc.name}}
                                        
                                       
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field> -->

      <div id="matInput-size">
        <mat-form-field appearance="outline" class="matwidth">
          <mat-label>Period<label style="color:red">*</label>
          </mat-label>
          <input
            matInput
            (keypress)="numberOnly($event)"
            formControlName="period"
            autocomplete="off"
            
          />
        </mat-form-field>
      </div>

      <div id="matInput-size">
        <mat-form-field appearance="outline" class="matwidth">
          <mat-label>Remarks</mat-label>
          <input matInput autocomplete="off" formControlName="remarks" />
        </mat-form-field>
      </div>

      <!-- <div *ngIf="selectedFiles.length == 0"> -->
        <div id="matInput-size" >
          <label style="width: 250px;">
            <input
              type="file"
              #fileInput
              accept=".txt,.doc,.pdf,.ppt,.pot,.pps,.pptx,.odt,.odg,.odp,.ods,.docx,.docm,
                            .dotx,.dotm,.docb,
                            .xlsx,.xls,.xlt,.xlm,.xlsm,.xltx,.xltm,.jpg,.jpeg,.tiff,.tif,.png"
              formControlName="images"
              name="images"
              (change)="fileChange($event)"
            />
            {{fileLabelText}}
            <!-- multiple="true" -->
           </label>
        </div>
      <!-- </div> -->

      <!-- <div *ngIf="selectedFiles.length > 0" class="mt-2">
        <label><b>Selected File(s):</b></label>
        <div class="d-flex flex-column" style="gap: 5px;">
          <div *ngFor="let file of selectedFiles; let i = index" title="{{ file.name }}" class="btn-link" (click)="fileview(file)"
            data-toggle="modal" data-target="#myimgmodalpreview">
            {{ i + 1 }}. {{ file.name }}
          </div>
          <button type="button" class="btn btn-outline-danger btn-sm" (click)="clearSelectedFiles()" *ngIf="selectedFiles.length > 0">
            <i class="fa fa-times"></i>
          </button>
        </div>
      </div> -->

    

      <button class="btn btn-outline-success" style="border-radius: 40px;height: 40px;"  *ngIf="editIndex === null" type="button" (click)="addDocument()">
        <i class="fa fa-plus"></i> Add
        </button>
        <button class="btn btn-outline-primary" style="border-radius: 40px;height: 40px;"  *ngIf="editIndex !== null" type="button" (click)="addDocument()">
            <i class="fa fa-refresh"></i> Update
        </button>
        <button class="btn btn-outline-secondary" style="border-radius: 40px;height: 40px;" type="button" (click)="ResetDoc()">
            <i class="fa fa-refresh"></i> Reset
            </button>
      <!-- <div *ngFor="let upload of uploadList; index as i" class="btn-link">
        <span> {{ i + 1 }}. </span>
        {{ upload }}
        <button mat-icon-button type="button">
          <mat-icon aria-label="Edit" (click)="deleteUpload(upload, i)">
            delete</mat-icon
          >
        </button>
      </div> -->

      <lib-vs-cbox-summary
        [SummaryDetails]="documentbulkcreate"
        [SummaryApiObj]="SummaryApidocumentbulkcreateObjNew"
        [unnecessary]="[]"
      ></lib-vs-cbox-summary>
    </div>

    <!-- <div class="table-responsive" >
            
      <table class="table" id ='commonstyle'>
      <thead class="table_header" >
          <tr>
          <th>S.No</th>
          <th>Document Group</th>
          <th>Period</th>
          <th>Remarks</th>
          <th>File</th>
          <th>Action</th>

          </tr>
      </thead>
      <tbody >
          <tr *ngFor="let display of docFunctionList; let i = index; ">
              <td>{{i+1}}</td>
              <td>{{display.docgroup_id.name}}</td>
              <td>{{display.period}}</td>
              <td>{{display.remarks}}</td>
              <td style="font-size: small;width: 150px;cursor: pointer;">
                  <div *ngFor="let file of display.filekey ;index as i;" title="{{file.name }}" class=" btn-link" (click)="fileview(file)"
                  
                      > -->
                      <!-- data-toggle="modal" data-target="#myimgmodalpreview"s -->
                      <!-- {{i+1}}.{{file.name }}

                  </div>
              </td>
              <td>
                  <mat-icon style="cursor: pointer;" (click)="docListEdit(i)">edit</mat-icon>
                  <mat-icon style="color: gray;cursor: pointer;" (click)="docListDelete(i)">delete</mat-icon>
              </td> 
          </tr>
    </tbody>
  </table>
    </div> -->


    <div *ngIf="!deactivatebtnclk || !activatebtnclk">
      <div class="flex-for-sepDate">
        <div id="matInput-size">
          <mat-form-field appearance="outline" class="matwidth">
            <mat-label>Partner Id</mat-label>
            <input 
              matInput 
              autocomplete="off" 
              formControlName="partner_id" 
              />
          </mat-form-field>
        </div>

        <div class="col-md-6" id="matInput-size" class="matwidth">
          <mat-form-field appearance="outline">
            <mat-label>Remarks</mat-label>
            <input matInput autocomplete="off" formControlName="remarks" />
          </mat-form-field>
        </div>
      </div>

      <div id="matInput-size">
        <!-- <div class="col-md-12"> -->
          <label style="width: 250px;">
            <input
              type="file"
              #fileInput
              accept=".txt,.doc,.pdf,.ppt,.pot,.pps,.pptx,.odt,.odg,.odp,.ods,.docx,.docm,
                                .dotx,.dotm,.docb,
                                .xlsx,.xls,.xlt,.xlm,.xlsm,.xltx,.xltm,.jpg,.jpeg,.tiff,.tif,.png"
              
              formControlName="images"
              name="images"
              (change)="fileChange($event)"
            />
            <!-- multiple="true" -->
            {{fileLabelText}}
          </label>
    
          <!-- <div *ngFor="let upload of uploadList; index as i" class="btn-link">
            <span>{{ i + 1 }}. </span>
            {{ upload }}
            <button mat-icon-button type="button">
              <mat-icon aria-label="Edit" (click)="deleteUpload(upload, i)">
                delete</mat-icon
              >
            </button>
          </div> -->
        <!-- </div> -->

        <!-- <button class="btn btn-outline-success" style="border-radius: 40px;height: 40px;"  *ngIf="editIndex === null" type="button" (click)="createaddDocument()">
        <i class="fa fa-plus"></i> Add
        </button> -->
      </div>

          <!-- <lib-vs-cbox-summary
          [SummaryDetails]="documentactivedeactivecreate"
          [SummaryApiObj]="SummaryApidocumentactivedeactivecreateObjNew"
          [unnecessary]="[]"
        ></lib-vs-cbox-summary> -->
      <!-- <label class="btn btn-primary" style="margin-right: 1em;">
        <input type="file" #takeInput accept=".txt,.doc,.pdf,.ppt,.pot,.pps,.pptx,.odt,.odg,.odp,.ods,.docx,.docm,
        .dotx,.dotm,.docb,
        .xlsx,.xls,.xlt,.xlm,.xlsm,.xltx,.xltm,.jpg,.jpeg,.tiff,.tif,.png"
            multiple="true" formControlName="images" name="images" 
            (change)="fileChange($event)">
            {{fileLabelText || 'Choose File(s)'}}
      </label> -->

   
    </div>

 

  </form>
</div>

<div class="modal-footer">
  <button
    type="button"
    class="btn btn-outline-primary"
    (click)="onCancelClick()"
  >
    Cancel
  </button>
  <button *ngIf="deactivatebtnclk && activatebtnclk"  type="submit" class="btn btn-outline-primary"
  [disabled]="docFunctionList.length == 0"
  (click)="submitForm()">Submit</button>
  <button *ngIf="!deactivatebtnclk || !activatebtnclk" type="submit" class="btn btn-outline-primary"
  (click)="submitForm()">Submit</button>
</div>


<!-- <div *ngIf="showimageHeaderPreviewPDF" id="myimgmodalpreview" class="modal fade" aria-labelledby="my-modalLabel"
aria-hidden="true" tabindex="-1" role="dialog" data-backdrop="static" data-bs-keyboard="false">
<div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">PDF View</h2>
            <button type="button" class="close btn-close" (click)="closeimgModal()" data-bs-dismiss="modal">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
           
        <pdf-viewer [src]="pdfurl" [render-text]="true" [original-size]="false"
            style="display: block;width: 800px; height: 800px;"></pdf-viewer>
    </div>
</div>
</div> -->

<div *ngIf="showimageHeaderPreviewPDF" id="myimgmodalpreview" class="modal fade" aria-labelledby="my-modalLabel"
data-keyboard="false" data-backdrop="static" aria-hidden="true" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header text-center" style="background:#DDEFDD;">
                <h2 class="modal-title w-100 font-weight-bold" style="font-family: 'Times New Roman', Times, serif;"> ECF Attachments</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="invoice-detail-0272">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <pdf-viewer [src]="pdfurl" [original-size]="false" [render-text]='false' [show-borders]="true"
            [fit-to-page]="true" [show-all]="true" style="display: block; height: 600px;" [fit-to-page]="true">
          </pdf-viewer>
        </div>
    </div>
</div>

<div *ngIf="showimageHeaderPreview" id="myimgmodalpreview" class="modal fade" aria-labelledby="my-modalLabel"
data-keyboard="false" data-backdrop="static" aria-hidden="true" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-xl" data-dismiss="modal" style="width: 60%;height: 80%;">
        <div class="modal-content">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="invoice-detail-0271">
                <span aria-hidden="true">&times;</span>
            </button>
            <div class="modal-body">
                <img src="{{jpgUrls}}" class="img-responsive" style="width: 100%;">

            </div>
        </div>
    </div>
</div>
<!-- <div *ngIf="showimageHeaderPreview" id="myimgmodalpreview" class="modal fade" aria-labelledby="my-modalLabel"
aria-hidden="true" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
<div class="modal-dialog modal-xl" data-dismiss="modal" style="width: 60%;height: 80%;">
    <div class="modal-content">
        <button type="button" class="close btn-close" (click)="closeimgModal()" data-bs-dismiss="modal">
            <span aria-hidden="true"></span>
        </button>
        <div class="modal-body">
            <img src="{{jpgUrls}}" class="img-responsive" style="width: 100%;">
        </div>
    </div>
</div>
</div> -->
<ngx-spinner
  bdColor="rgba(51, 51, 51, 0.8)"
  size="default"
  [fullScreen]="true"
  type="ball-spin-clockwise"
>
  <p>Please Wait.</p>
</ngx-spinner>
