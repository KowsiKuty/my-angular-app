<main>
  <div *ngIf="summarypage">
    <!-- <span
      (click)="backtoTaskSummary()"
      class="material-icons alignvertical pointer"
      >arrow_back
    </span> -->
    <button class="keyboard" type="button" (click)="backtoTaskSummary()">
      <mat-icon>keyboard_backspace</mat-icon>
    </button>

    <div class="container-fluid">
      <mat-accordion>
        <mat-expansion-panel [expanded]="true">
          <mat-expansion-panel-header>
            <mat-panel-title style="font-size: 15px;font-weight: 500;">
              ARS Action
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="container-fluid">
            <div class="container">
              <form [formGroup]="externalform" class="runprocess2">
                <div class="heading_align">
                  <mat-chip-list *ngIf="externalpagechip">
                    <mat-chip>Account/GL: {{ glcode_id }}</mat-chip>
                    <mat-chip>Branch Code: {{ branch_codeid }}</mat-chip>
                    <mat-chip>ARS Status: {{ ars_status }}</mat-chip>
                  </mat-chip-list>

                  <div *ngIf="externalpage" class="heading_align">
                    <div id="matInput-size">
                      <mat-form-field appearance="outline">
                        <mat-label>Select Date</mat-label>
                        <input matInput required [matDatepicker]="picker23" placeholder="Date" autocomplete="off"
                          formControlName="date" />

                        <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker23">
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker23></mat-datepicker>
                      </mat-form-field>
                    </div>

                    <div id="matInput-size">
                      <mat-form-field *ngIf="disable_gl !== 1" appearance="outline">
                        <mat-label>GLNO</mat-label>
                        <input matInput formControlName="gl_no" />
                      </mat-form-field>
                    </div>

                    <div id="matInput-size" *ngIf="hidebranch !== 1">
                      <mat-form-field appearance="outline">
                        <mat-label>Branch Code</mat-label>
                        <input matInput formControlName="branch_code" />
                      </mat-form-field>
                    </div>

                    <lib-vs-dynamicform-cmp id="matInput-size" [InputFields]="temp_field_arsaction"
                      (dataEvent)="tempdatas($event)"></lib-vs-dynamicform-cmp>
                  </div>

                  <div *ngIf="dd_show">
                    <lib-vs-dynamicform-cmp id="matInput-size" [InputFields]="temp_field_arsaction"
                      (dataEvent)="tempdatas($event)"></lib-vs-dynamicform-cmp>
                  </div>
                  <div class="btn_align">
                
                    <!-- <button type="button" class="btn btn-outline-success" (click)="runprocess()">
                      Run Process
                    </button>
                 
                    <button type="button" class="btn btn-outline-info" (click)="viewDataAndHistory(1)">
                      View Data
                    </button> -->
                    <button mat-stroked-button [matMenuTriggerFor]="menu" style="border-radius: 50px;"
                      class="reportbutton">
                      Reports Download
                      <mat-icon>arrow_drop_down</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                      <button mat-menu-item *ngFor="let x of reportlist2" (click)="actionpagereport(x.id)">
                        {{ x.name }}
                      </button>
                    </mat-menu>
                    <!-- </div> -->
                  </div>
                  <!-- <div style="margin-top: -16px;">
                    <span style="font-size: 15px;font-weight: 600;">Download :</span>
                    
                      <span style="margin-left: 10px;">
                        <mat-form-field appearance="outline" > 
                          <mat-label>Reports</mat-label>
                          <mat-select formControlName="filereportdown">
                            <mat-option *ngFor="let x of reportlist2" [value]="x" (click)="actionpagereport(x.id)">
                              {{x.name}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </span>
                  
                  </div> -->
                </div>
              </form>
            </div>
            <!-- <div class="radstyle">
              <mat-radio-group #branchRadioGroup name="branch" [(ngModel)]="selectedOption">
                <mat-radio-button value="whole" (click)="bankradioclick(1)">Bank as a Whole</mat-radio-button>
                <mat-radio-button value="particular" style="margin-left: 14px" (click)="bankradioclick(0)">Single
                  Branch</mat-radio-button>
              </mat-radio-group>
            </div> -->
            <!-- <form class="overallsetup">
              <form [formGroup]="wisefinUpload" class="card-containers">
             
                <div style="display: flex;padding-top: 2%;">
                  <h3>FAS </h3>
                  <input id="sect" style="
                      border-bottom-style: none;
                      color: black
                     ;padding-left: 2%;
                    " type="file" (change)="uploadchooses($event)" name="filedatas" formControlName="filedata" />
                </div>
          
                <div>
                  <button type="button" ngbTooltip="Upload File" placement="bottom" class="btn btn-outline-primary" (click)="gluploads()"
                    style="
                      border-radius: 25px;
                      white-space: nowrap;
                    ">
                    <span class="fa fa-upload"></span>
                  </button>
                </div>
              
                <div style="margin-left: 4px;">
                  <button type="button" class="btn btn-outline-secondary btn-sm fetchdwnld"
                    (click)="autofetchDownload()" [disabled]="this.ars_status != 'Pending'">
                    Auto fetch
                  </button>
                </div>
              </form>

              <form [formGroup]="bankstmtupload" class="card-containers">
              

                <div style="display: flex;padding-top: 2%;">
                  <h3>CBS </h3>
                 
                  <input id="sect" style="
                      border-bottom-style: none;
                      color: black;
                      padding-left: 2%;
                    " type="file" (change)="uploadchoose($event)" name="filedata" formControlName="filedatas" />
                </div>
                <div>
                  <button type="button" ngbTooltip="Upload File" placement="bottom" class="btn btn-outline-primary"
                    (click)="bankstmtuploads()" style="white-space: nowrap;border-radius: 25px;">
                    <span class="fa fa-upload"></span>
                  </button>
                </div>
              </form>
            </form> -->
            <br />
            <div class="row">
              <!-- <div class="col-md-6 text-left">
                <div class="alignleft">
                <label class="fontbold">FAS Auto fetch</label>
                <button
                  type="button"
                  class="btn btn-outline-dark fetchdwnld"
                  matTooltip="Upload"
                  (click)="autofetchDownload()">
                  <span class="fa fa-upload"></span>
                </button>
              </div>    
              </div> -->
              <div class="overreportallocation">
                <b style="margin-top: 4px;margin-right: 35px;">Overall : {{ new_fas_cbs_fetch_values?.overall }}</b>
                <!-- <h3 style="margin-left: 10px">Overall Report</h3> -->
                <!-- <button
                  type="button"
                  class="btn btn-outline-info overdwnld"
                  style="margin-bottom: 50px"
                  matTooltip="Download Overall Report"
                  (click)="overallreportdownload()"
                >
                  <span class="fa fa-download"></span>
                </button> -->
              </div>
            </div>

            <div class="row over" style="margin-top: 0%">
              <!-- <div class="col-md-3">
                      <form [formGroup]="brsconcile">
                      <mat-form-field appearance="outline" style="width: 70%;margin-top: 3%;margin-left: 25px;">
                          <mat-label>From Date</mat-label>
                          <input matInput readonly [matDatepicker]="picker3" placeholder="Date" autocomplete="off"
                              formControlName="fromdate">
                          <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker3">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker3></mat-datepicker>
                      </mat-form-field>
                      </form>
                  </div> -->
              <!-- <div class="col-md-2">
                      <form [formGroup]="brsconcile">
                      <mat-form-field appearance="outline" style="width: 70%;margin-top: 0%;margin-left: 25px;">
                          <mat-label> Date</mat-label>
                          <input matInput readonly [matDatepicker]="picker3" placeholder="Date" autocomplete="off"
                              formControlName="fromdate"  (dateChange)="arsfilterdate()">
                          <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker3">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker3></mat-datepicker>
                      </mat-form-field>
                      </form>
                  </div> -->
              <!-- <div class="col-sm-3" style="margin-left: 2%;">
                    <form [formGroup]="myForm">
                      <mat-form-field class="search__form_field" appearance="outline">
                        <mat-label>Filters</mat-label>
                        <mat-select name="fileSource" placeholder="" appearance="outline"
                          formControlName="filterProduct" >
                          <mat-option *ngFor="let obj of listOfObjs" [value]="obj" (click)="getfiltersummary(obj,1)" >
                            {{ obj.name }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </form>
                  </div> -->
              <div class="col-md-2 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status != 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">FAS Matched : {{
                  new_fas_cbs_fetch_values?.fas_match_count }}
                </label>
              </div>
              <div class="col-md-2 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status == 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">FAS Matched :
                </label>
              </div>
              <div class="col-md-2 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status != 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">FAS UnMatched : {{
                  new_fas_cbs_fetch_values?.fas_unmatch_count }}
                </label>
              </div>
              <div class="col-md-2 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status == 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">FAS UnMatched :
                </label>
              </div>

              <div class="col-md-3 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status != 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">FAS Matched Amount :
                  {{
                  formatNumberWithCommas(new_fas_cbs_fetch_values?.fas_match_amount)
                  }}
                </label>
              </div>
              <div class="col-md-3 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status == 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">FAS Matched Amount :
                </label>
              </div>
              <div class="col-md-3 card padding" style="height: 40px; margin-left: 32px; margin-top: 4px"
                *ngIf="this.ars_status != 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">FAS Unmatched Amount :
                  {{
                  formatNumberWithCommas(
                  new_fas_cbs_fetch_values?.fas_unmatch_amount
                  )
                  }}
                </label>
              </div>
              <div class="col-md-3 card padding" style="height: 40px; margin-left: 32px; margin-top: 4px"
                *ngIf="this.ars_status == 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">FAS Unmatched Amount :
                </label>
              </div>
            </div>
            <div class="row over">
              <div class="col-md-2 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status != 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">CBS Matched : {{
                  new_fas_cbs_fetch_values?.cbs_match_count }}
                </label>
              </div>
              <div class="col-md-2 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status == 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">CBS Matched :
                </label>
              </div>
              <div class="col-md-2 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status != 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">CBS UnMatched : {{
                  new_fas_cbs_fetch_values?.cbs_unmatch_count }}
                </label>
              </div>
              <div class="col-md-2 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status == 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">CBS UnMatched :
                </label>
              </div>
              <div class="col-md-3 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status != 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">CBS Matched Amount :
                  {{
                  formatNumberWithCommas(new_fas_cbs_fetch_values?.cbs_match_amount)
                  }}
                </label>
              </div>
              <div class="col-md-3 card padding" style="height: 40px; margin-left: 3%; margin-top: 4px"
                *ngIf="this.ars_status == 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">CBS Matched Amount :
                </label>
              </div>
              <!-- overflow: hidden; text-overflow: ellipsis; -->
              <div class="col-md-3 card padding"
                style="height: 40px; margin-left: 32px; margin-top: 4px; white-space: nowrap;"
                *ngIf="ars_status != 'Pending'">
                <label style="margin-top: 11px;margin-left: -10px;" class="fontbold">
                  CBS Unmatched Amount: {{
                  formatNumberWithCommas(
                  new_fas_cbs_fetch_values?.cbs_unmatch_amount
                  )
                  }}
                </label>
              </div>
              <!-- <div
                class="col-md-3 card padding"
                style="height: 51px; margin-left: 32px; margin-top: 4px"
                *ngIf="this.ars_status != 'Pending'"
              >
                <br />
                <label style="margin-top: -10px" class="fontbold"
                  >CBS Unmatched Amount :
                  {{
                    formatNumberWithCommas(
                      new_fas_cbs_fetch_values?.cbs_unmatch_amount
                    )
                  }}
                </label>
              </div> -->
              <div class="col-md-3 card padding" style="height: 40px; margin-left: 32px; margin-top: 4px"
                *ngIf="this.ars_status == 'Pending'">
                <br />
                <label style="margin-top: -10px" class="fontbold">CBS Unmatched Amount :
                </label>
              </div>
            </div>
          </div>

        </mat-expansion-panel>

      </mat-accordion>

      <br />

      <mat-tab-group class="tab-main-group" (selectedTabChange)="getfiltersummary($event, 1)"
        [(selectedIndex)]="selectedTabIndex">
        <mat-tab label="System Matched" id="1" class="mat-tab-body-content">
          <br />
          <div>

            <form [formGroup]="fassearch">
              <div class="row">
                <!-- <div class="col-md-3" *ngIf="externalpage">
                  <lib-vs-dynamicform-cmp class="arsexternalwidth" [InputFields]="externalsummary"
                    (dataEvent)="matchsummary($event)" [ResetForm]="resetFormstatus">
                  </lib-vs-dynamicform-cmp>
                </div> -->
                <!-- <div class="col-md-3">
                  <mat-form-field appearance="outline" style="width: 70%; margin-top: 3%; margin-left: 25px">
                    <mat-label>Start Date</mat-label>
                    <input matInput [value]="fr_date" [readonly]="true" [matDatepicker]="picker24" placeholder="Date"
                      autocomplete="off" (dateChange)="fasfromdate()" />
                    <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker24" [disabled]="true">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker24></mat-datepicker>
                  </mat-form-field>
                </div>
                <div class="col-md-3">
                  <mat-form-field appearance="outline" style="width: 70%; margin-top: 3%; margin-left: -68px">
                    <mat-label>End Date</mat-label>
                    <input matInput [readonly]="true" [value]="to_date" [matDatepicker]="picker25" placeholder="Date"
                      autocomplete="off" (dateChange)="fasenddate()" />
                    <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker25" [disabled]="true">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker25></mat-datepicker>
                  </mat-form-field>
                </div> -->
                <!-- <div class="sysre">
                  <mat-label style="white-space: nowrap;margin-top: 4px;"
                    >System Match Report</mat-label
                  >
                  <button
                    type="button"
                    class="btn btn-outline-success radius"
                    matTooltip="Download Report"
                    style="white-space: nowrap"
                  >
                    <span
                      class="fa fa-download"
                      (click)="systemreportdownload()"
                    >
                    </span>
                  </button>
                </div> -->
              </div>
            </form>
            <mat-accordion>

              <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    <span style="font-size: 15px;font-weight: 500;">FAS Table</span>
                  </mat-panel-title>

                </mat-expansion-panel-header>
                <hr>
                <div class="col-md-12">

                  <form [formGroup]="fassearch">

                    <!-- <div class="row">
                      <div class="col-md-3">
                        <mat-form-field appearance="outline" class="legacy">
                          <mat-label>BranchCode</mat-label>
                          <input matInput formControlName="branchcontrol" />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Transaction Date</mat-label>
                          <input
                            matInput
                            formControlName="Transactiondatepatch"
                          />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Dr/Cr</mat-label>
                          <input matInput formControlName="DebitandCredit" />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Others</mat-label>
                          <input matInput formControlName="Commonfield" />
                        </mat-form-field>
                      </div>
                    </div> -->

                    <div class="row">
                      <div class="col-md-3" style="margin-top: 15px;">
                        <span style="font-size: 15px;font-weight: 700;">
                          FAS Count :
                          <span class="badge-btn" *ngIf="fas_count_sysandmanualmatched">
                            {{fas_count_sysandmanualmatched}}
                          </span>
                        </span>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="SFwidth">
                          <mat-label>Options</mat-label>
                          <mat-select matInput formControlName="dropdownoption">
                            <mat-option *ngFor="let item of wisefinKeys" [value]="item" (click)="resetfasaction(item)">
                              {{ item }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="SFwidth">
                          <mat-label>Value</mat-label>
                          <input matInput formControlName="value" />
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <span class="search">
                          <button mat-mini-fab id="buttonsSubmit" aria-label="Search" type="button"
                            (click)="fassearchtable(1)">
                            <mat-icon>search</mat-icon>
                          </button>
                        </span>
                        <span class="clear" style="margin-left: 15px;">
                          <button mat-mini-fab id="buttonsSubmit" aria-label="Search" type="button"
                            (click)="fastableclear()">
                            <mat-icon>refresh</mat-icon>
                          </button>
                        </span>
                      </div>
                    </div>
                  </form>
                  <!-- <div
                    class="mat-elevation-z5 tablescroll"
                    class="table-row"
                    style="max-width: 170%; overflow-x: auto"> -->
                  <div *ngIf="fassytammatchsearchlist.length!==0">
                    <span class="applied_filter">Applied Filters:</span>
                    <span *ngFor="let data of fassytammatchsearchlist">
                      <button class="class_badge">{{data.display_name}}</button>
                    </span>
                  </div>
                  <br />

                  <div>
                    <div class="table-container">
                      <table class="table table-bordered mat-elevation-z8" style="text-align: center;">
                        <thead class="table_header">
                          <th>S.No</th>
                          <th *ngFor="let key of this.wisefinKeys">{{ key }}</th>
                          <!-- <th>Branch Code</th> -->
                          <!-- <th>Gl Number</th> -->
                          <!-- <th>Entry Gid</th>
                          <th>Transaction Date</th>
                          <th>Dr/Cr</th>
                          <th>Amount</th>
                          <th>Tag Number</th>
                          <th>Remark</th>
                          <th>Entry Crno</th>
                          <th>Entry Module</th>
                          <th>Entry Module</th> -->
                        </thead>
                        <tbody *ngFor="let sum of tabledata; let i = index">
                          <tr [ngClass]="getRowColorfas(sum, i)">
                            <td>{{ (pagination.index - 1) * faspagesize + i + 1 }}</td>
                            <td *ngFor="let key of wisefinKeys">
                              {{ sum[wisefindatas[key]] }}
                            </td>

                            <!-- <td>{{sum?.fas_branch_code}}</td>
                                                <td>{{sum?.fas_entry_gid}}</td>
                                                <td>{{sum?.fas_transaction_date}}</td>
                                                <td>{{sum?.fas_dr_cr}}</td>
                                                <td>{{sum?.fas_amount}}</td>
                                                <td>{{sum?.fas_remark}}</td>
                                                <td>{{sum?.fas_entry_crno}}</td>
                                                <td>{{sum?.fas_entry_module}}</td>
                                                <td>{{sum?.fas_tag_no}}</td> -->

                            <!-- <td
                              (click)="
                                getfassearch(sum?.fas_branch_code, 'Branch Code')
                              "
                              class="pointer"
                            >
                              {{ sum?.fas_branch_code }}
                            </td>
    
                            <td
                              *ngIf="
                                sum?.fas_recommendatory == 'Entry_gid';
                                else others
                              "
                              (click)="
                                getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                              "
                              class="pointer"
                            >
                              <mat-chip-list>
                                <mat-chip
                                  (click)="
                                    getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                                  "
                                  >{{ sum?.fas_entry_gid }}</mat-chip
                                >
                              </mat-chip-list>
                            </td>
                            <ng-template #others>
                              <td
                                (click)="
                                  getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                                "
                                class="pointer"
                              >
                                {{ sum?.fas_entry_gid }}
                              </td>
                            </ng-template>
    
                            <td
                              (click)="
                                getfassearch(
                                  sum?.fas_transaction_date,
                                  'Branch date'
                                )
                              "
                              class="pointer"
                            >
                              {{ sum?.fas_transaction_date }}
                            </td>
                            <td
                              (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                              class="pointer"
                            >
                              {{ sum?.fas_dr_cr }}
                            </td>
                            <td
                              (click)="getfassearch(sum?.fas_amount, 'Amount')"
                              class="pointer"
                              style="text-align: right"
                            >
                              {{ formatNumberWithCommas(sum?.fas_amount) }}
                            </td>
                            <td
                              (click)="getfassearch(sum?.fas_tag_no, 'Tag Number')"
                              class="pointer"
                            >
                              {{ sum?.fas_tag_no }}
                            </td>
                            <td
                              (click)="getfassearch(sum?.fas_remark, 'Remark')"
                              class="pointer"
                            >
                              {{ sum?.fas_remark }}
                            </td>
    
                            <td
                              *ngIf="
                                sum?.fas_recommendatory == 'Entry_crno';
                                else other
                              "
                              (click)="
                                getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                              "
                              class="pointer"
                            >
                              <mat-chip-list>
                                <mat-chip
                                  (click)="
                                    getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                                  "
                                  >{{ sum?.fas_entry_crno }}</mat-chip
                                >
                              </mat-chip-list>
                            </td>
                            <ng-template #other>
                              <td
                                (click)="
                                  getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                                "
                                class="pointer"
                              >
                                {{ sum?.fas_entry_crno }}
                              </td>
                            </ng-template>
                            <td 
                              (click)="
                                getfassearch(sum?.fas_entry_module, 'Entry Module')
                              "
                              class="pointer"
                            >
                              {{ sum?.fas_entry_module }}
                           </td> -->
                            <!-- <td *ngIf="nodatafoundfas" class="text-center">No data found!..</td> -->
                          </tr>
                        </tbody>
                        <tbody *ngIf="tabledata?.length == 0">
                          <tr>
                            <td colspan="9" class="text-center">
                              No Records Found..!
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="pagination-container">
                      <span class="items-per-page">
                        Items per page:
                        <!-- <mat-form-field style="width: 45px;">
                          <mat-select [formControl]="faspageform">
                            <mat-option *ngFor="let x of pagearray" [value]="x" (click)="faspageselection(x)">
                              {{ x }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field> -->
                        <mat-form-field style="width: 45px;">
                          <input matInput [formControl]="faspageform" type="number" (input)="faspageselectioninputfield($event)">
                        </mat-form-field>
                      </span>

                      <div class="pagination-controls">
                        <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary"
                          (click)="previousClick()">
                          <mat-icon>arrow_back</mat-icon>
                        </button>
                        <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                        <button mat-icon-button [disabled]="pagination.has_next === false" color="primary"
                          (click)="nextClick()">
                          <mat-icon>arrow_forward</mat-icon>
                        </button>
                      </div>
                    </div>
                    <!-- <div style="display: flex;float: right;">
                      <button
                        mat-icon-button
                        [disabled]="pagination.has_previous === false"
                        color="primary"
                        (click)="previousClick()"
                      >
                        <mat-icon>arrow_back</mat-icon>
                      </button>
                      <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                      <button
                        mat-icon-button
                        [disabled]="pagination.has_next === false"
                        color="primary"
                        (click)="nextClick()"
                      >
                        <mat-icon>arrow_forward</mat-icon>
                      </button>
                    </div> -->
                  </div>

                  <!-- </div> -->
                </div>
              </mat-expansion-panel>

            </mat-accordion>
            <div style="margin-top: 2px;">

            </div>
            <mat-accordion>
              <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    <span style="font-size: 15px;font-weight: 500;">CBS Table</span>
                  </mat-panel-title>

                </mat-expansion-panel-header>
                <hr>
                <div class="col-md-12">
                  <!-- <h3
                    style="margin-left: 10px; margin-top: 15px; font-weight: bold"
                  >
                    CBS Table
                  </h3> -->
                  <form [formGroup]="cbssearch">
                    <!-- <div class="row paddingcbs">
                    
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>BranchCode</mat-label>
                          <input matInput formControlName="branchcontrolcbs" />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Transaction Date</mat-label>
                          <input
                            matInput
                            formControlName="Transactiondatepatchcbs"
                          />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Dr/Cr</mat-label>
                          <input matInput formControlName="DebitandCreditcbs" />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Others</mat-label>
                          <input matInput formControlName="Commonfieldcbs" />
                        </mat-form-field>
                      </div>
                    </div> -->
                    <div class="row paddingcbs">
                      <div class="col-md-3" style="margin-top: 15px;">
                        <span style="font-size: 15px;font-weight: 700;">
                          CBS Count :
                          <span class="badge-btn" *ngIf="cbs_count_sysandmanualmatched">
                            {{cbs_count_sysandmanualmatched}}
                          </span>
                        </span>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="SFwidth">
                          <mat-label>Options</mat-label>
                          <mat-select matInput formControlName="dropdownoption">
                            <mat-option *ngFor="let item of cbsKeys" [value]="item" (click)="resetcbsvalue(item)">
                              {{item}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="SFwidth">
                          <mat-label>Value</mat-label>
                          <input matInput formControlName="value" />
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <span class="search">
                          <button mat-mini-fab type="button" id="buttonsSubmit" aria-label="Search"
                            (click)="cbssearchtable(1)">
                            <mat-icon>search</mat-icon>
                          </button>
                        </span>
                        <span class="clear" style="margin-left: 15px;">
                          <button class="radius" mat-mini-fab id="buttonsSubmit" aria-label="Search"
                            (click)="cbstableclear()">
                            <mat-icon>refresh</mat-icon>
                          </button>
                        </span>
                      </div>
                    </div>
                  </form>
                  <!-- <div
                    class="mat-elevation-z5"
                    class="table-row"
                    style="max-width: 270%; overflow-x: scroll"
                  > -->
                  <div *ngIf="cbssytammatchsearchlist.length!==0">
                    <span class="applied_filter">Applied Filters:</span>
                    <span *ngFor="let data of cbssytammatchsearchlist">
                      <button class="class_badge">{{data.display_name}}</button>
                    </span>
                  </div>
                  <br />
                  <div>
                    <div class="table-container">
                      <table class="table table-bordered mat-elevation-z8" style="text-align: center;">
                        <thead class="table_header">
                          <th>S.No</th>
                          <th *ngFor="let key of this.cbsKeys">{{ key }}</th>
                          <!-- <th>Branch Code</th> -->
                          <!-- <th>GL Number</th> -->
                          <!-- <th>Transaction Date</th>
                          <th>Dr/Cr</th>
                          <th>Amount</th>
                          <th>Tag Number</th>
                          <th>Narration</th> -->
                        </thead>
                        <tbody *ngFor="let sum of cbstabledata; let i = index">
                          <tr [ngClass]="getRowColorcbs(sum, i)">
                            <td>{{ (paginationcbs.index - 1) * cbspagesize + i + 1 }}</td>
                            <td *ngFor="let key of cbsKeys">
                              {{ sum[cbsdatas[key]] }}
                            </td>
                            <!-- <td>{{sum?.cbs_branch_code}}</td>
                                                <td>{{sum?.cbs_transaction_date}}</td>
                                                <td>{{sum?.cbs_dr_cr}}</td>
                                                <td>{{sum?.cbs_amount}}</td>
    
                                                <td>{{sum?.cbs_tag_no}}</td>
                                                <td>{{sum?.cbs_narration}}</td> -->
                            <!-- <td><input type="checkbox"  [value]="sum.id" [checked]="sum.checkbox == true"
                                (change)="onCheckboxChange($event,sum,i)"></td> -->
                            <!-- <td
                              (click)="
                                getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                              "
                              class="pointer"
                            >
                              {{ sum?.cbs_branch_code }}
                            </td>
                            <td
                              class="space pointer"
                              (click)="
                                getcbssearch(sum?.cbs_transaction_date, 'Date')
                              "
                            >
                              {{ sum?.cbs_transaction_date }}
                            </td> -->
                            <!-- <td>{{ sum?.cbs_transaction_date }}</td> -->
                            <!-- <td
                              (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                              class="pointer"
                            >
                              {{ sum?.cbs_dr_cr }}
                            </td>
                            <td
                              (click)="getcbssearch(sum?.cbs_amount, 'Amount')"
                              class="pointer"
                              style="text-align: right"
                            >
                              {{ formatNumberWithCommas(sum?.cbs_amount) }}
                            </td>
                            <td
                              (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                              class="pointer"
                            >
                              {{ sum?.cbs_tag_no }}
                            </td>
    
                            <td
                              *ngIf="
                                sum?.cbs_recommendatory == 'Entry_gid';
                                else other
                              "
                              (click)="
                                getcbssearch(sum?.cbs_narration, 'Narration')
                              "
                              class="pointer"
                            >
                              <mat-chip-list>
                                <mat-chip>
                                  {{
                                    sum?.cbs_narration
                                      ? sum?.cbs_narration.slice(0, 8)
                                      : ""
                                  }}
                                </mat-chip>
                                <span>{{
                                  sum?.cbs_narration
                                    ? sum?.cbs_narration.slice(8)
                                    : ""
                                }}</span>
                              </mat-chip-list>
                            </td>
    
                            <ng-template #other>
                              <td
                                (click)="
                                  getcbssearch(sum?.cbs_narration, 'Narration')
                                "
                                class="pointer"
                              >
                                {{ sum?.cbs_narration }}
                              </td>
                            </ng-template> -->

                            <!-- <td  (click)="
                            getcbssearch(sum?.cbs_narration, 'Narration')
                          "
                          class="pointer">{{ sum?.cbs_narration }}</td> -->
                          </tr>
                        </tbody>
                        <tbody *ngIf="cbstabledata?.length == 0">
                          <tr>
                            <td colspan="9" class="text-center">
                              No Records Found..!
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="pagination-container">
                      <span class="items-per-page">
                        Items per page:
                        <!-- <mat-form-field style="width: 45px;">
                          <mat-select [formControl]="cbspageform">
                            <mat-option *ngFor="let x of pagearray" [value]="x" (click)="cbspageselection(x)">
                              {{ x }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field> -->
                        <mat-form-field style="width: 45px;">
                          <input matInput [formControl]="cbspageform" type="number" (input)="cbspageselectioninputfield($event)">
                        </mat-form-field>
                      </span>

                      <div class="pagination-controls">
                        <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary"
                          (click)="previousClickcbs()">
                          <mat-icon>arrow_back</mat-icon>
                        </button>
                        <b style="align-items: center;margin-top: 9px;">{{ paginationcbs.index }}</b>
                        <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                          (click)="nextClickcbs()">
                          <mat-icon>arrow_forward</mat-icon>
                        </button>
                      </div>
                    </div>
                    <!-- <div style="display: flex;float: right;">
                      <button
                        mat-icon-button
                        [disabled]="paginationcbs.has_previous === false"
                        color="primary"
                        (click)="previousClickcbs()"
                      >
                        <mat-icon>arrow_back</mat-icon>
                      </button>
                      <b style="align-items: center;margin-top: 9px;">{{ paginationcbs.index }}</b>
                      <button
                        mat-icon-button
                        [disabled]="paginationcbs.has_next === false"
                        color="primary"
                        (click)="nextClickcbs()"
                      >
                        <mat-icon>arrow_forward</mat-icon>
                      </button>
                    </div> -->
                  </div>

                  <!-- </div> -->
                </div>
              </mat-expansion-panel>
            </mat-accordion>
            <!-- <div *ngIf="table_show" class="row">
            
            
            </div> -->

            <div style="margin-left: 91%">
              <!-- <button class="btn btn-outline-info" style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: -35px;" (click)="adddocument(1)">Save</button> -->
              <button class="btn btn-outline-secondary" style="
                  border-radius: 25px;
                  font-size: small;
                  margin-top: 8%;
                  margin-left: 10px;
                " (click)="changeTab(1)">
                Next
              </button>
            </div>
          </div>
        </mat-tab>


        <mat-tab label="Manually Matching" id="2" #closebutton>
          <br />
          <div class="row">
            <!-- <div class="col-md-12 text-right">
              <mat-label style="white-space: nowrap; margin-right: 15px"
                >Manual Match Report</mat-label
              >
              <button
                type="button"
                style="white-space: nowrap; margin-right: 12px"
                class="btn btn-outline-success radius"
                matTooltip="Download Report"
                (click)="manualreportdownload()"
              >
                <span class="fa fa-download"> </span>
              </button>
            </div> -->
          </div>
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <span style="font-size: 15px;font-weight: 500;">FAS Table</span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <hr>
              <div class="col-md-12">
                <!-- <h3 style="margin-left: 10px; font-weight: bold">FAS Table</h3> -->
                <form [formGroup]="fassearch">
                  <!-- <div class="row paddingfas">
                    <div class="col-md-3">
                      <mat-form-field appearance="outline" class="legacy">
                        <mat-label>BranchCode</mat-label>
                        <input matInput formControlName="branchcontrol" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Transaction Date</mat-label>
                        <input matInput formControlName="Transactiondatepatch" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Dr/Cr</mat-label>
                        <input matInput formControlName="DebitandCredit" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Others</mat-label>
                        <input matInput formControlName="Commonfield" />
                      </mat-form-field>
                    </div>
                  </div> -->

                  <div class="row paddingfas">
                    <div class="col-md-3">
                      <mat-form-field class="SFwidth">
                        <mat-label>Options</mat-label>
                        <mat-select matInput formControlName="dropdownoption">
                          <mat-option *ngFor="let item of wisefinKeys" [value]="item" (click)="resetfasaction(item)">
                            {{ item }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="SFwidth">
                        <mat-label>Value</mat-label>
                        <input matInput formControlName="value" />
                      </mat-form-field>
                    </div>

                    <div class="col-md-3">
                      <span class="search">
                        <button mat-mini-fab id="buttonsSubmit" aria-label="Search" type="button"
                          (click)="fassearchtable(1)">
                          <mat-icon>search</mat-icon>
                        </button>
                      </span>
                      <span class="clear" style="margin-left: 15px;">
                        <button mat-mini-fab id="buttonsSubmit" aria-label="Search" type="button"
                          (click)="fastableclear()">
                          <mat-icon>refresh</mat-icon>
                        </button>
                      </span>
                    </div>
                  </div>
                  <div *ngIf="fassytammatchsearchlist.length!==0">
                    <span class="applied_filter">Applied Filters:</span>
                    <span *ngFor="let data of fassytammatchsearchlist">
                      <button class="class_badge">{{data.display_name}}</button>
                    </span>
                  </div>
                  <div class="fasamount">
                    <span style="font-size: 15px;font-weight: 700;">
                      FAS Count :
                      <span class="badge-btn" *ngIf="fas_count_manualmatching">
                        {{fas_count_manualmatching}}
                      </span>
                    </span>
                    <span style="font-size: 15px;font-weight: 700;">FAS Amount : <span>
                        {{ formatNumberWithCommas(fas_compare_total) }}
                      </span></span>



                    <div class="right-controls" id="matInput-size">
                      <lib-vs-dynamicform-cmp class="actiondd" [InputFields]="{
                            method: 'get',
                            url: this.url,
                            searchkey: '',
                            params: '&value=1',
                            displaykey: 'type',
                            label: 'Actions',
                            disabled: false,
                            wholedata: true
                          }" (dataEvent)="selectalloption($event)" [ResetForm]="resetfasselectalloption">
                      </lib-vs-dynamicform-cmp>
                      <mat-checkbox [formControl]="fasselectall" (change)="selectall($event)">Select all</mat-checkbox>
                    </div>
                  </div>

                  <!-- <div
                    class="mat-elevation-z5"
                    class="table-row"
                    style="max-width: 170%; overflow-x: scroll"
                  > -->
                  <div>
                    <div class="table-container">
                      <table class="table table-bordered mat-elevation-z8" style="text-align: center;">
                        <thead class="table_header widthmanual">
                          <th>S.No</th>
                          <th *ngFor="let key of this.wisefinKeys">{{ key }}</th>
                          <!-- <th>Branch Code</th>
                        <th>Entry Gid</th>
                        <th>Transaction Date</th>
                        <th>Remark</th>
                        <th>Entry Crno</th>
                        <th>Entry Module</th>
                        <th>Dr/Cr</th>
                        <th>Amount</th> -->
                          <th>Action</th>
                          <!-- <th>Compare</th> -->
                          <!-- <th>Select</th> -->
                          <th style="display: flex;gap: 5px;"> <span>
                            Tag Number
                          </span>
                          <span>
                            <mat-form-field style="width: 25px;">
                              <input matInput [formControl]="fas_tag_no"  (keypress)="fasinput($event)">
                            </mat-form-field>
                          </span>
                          <span style="margin-top: 20px;">
                            <mat-checkbox [formControl]="fas_tag_no_select"
                                  (change)="fas_tag_selectall_fun($event)"></mat-checkbox>
                          </span>
                        </th>

                          <!-- <th>Action Type</th> -->
                        </thead>

                        <tbody *ngFor="let sum of tabledataManual; let i = index" class="rowalign">
                          <tr [ngClass]="getRowColorfas(sum, i)">
                            <td>{{ (pagination.index - 1) * faspagesize + i + 1 }}</td>
                            <td *ngFor="let key of wisefinKeys">
                              {{ sum[wisefindatas[key]] }}
                            </td>
                            <!-- <td
                            (click)="
                              getfassearch(sum?.fas_branch_code, 'Branch Code')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_branch_code }}
                          </td>
                          <td
                            (click)="
                              getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_gid }}
                          </td>
                          <td
                            (click)="
                              getfassearch(
                                sum?.fas_transaction_date,
                                'Branch date'
                              )
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_transaction_date }}
                          </td>
                          <td
                            (click)="getfassearch(sum?.fas_remark, 'Remark')"
                            class="pointer"
                          >
                            {{ sum?.fas_remark }}
                          </td>
                          <td
                            (click)="
                              getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_crno }}
                          </td>
                          <td
                            (click)="
                              getfassearch(sum?.fas_entry_module, 'Entry Module')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_module }}
                          </td>
                          <td
                            (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                            class="pointer"
                          >
                            {{ sum?.fas_dr_cr }}
                          </td>
                          <td
                            (click)="getfassearch(sum?.fas_amount, 'Amount')"
                            class="pointer"
                            style="text-align: right"
                          >
                            {{ formatNumberWithCommas(sum?.fas_amount) }}
                          </td> -->

                            <td>
                              <!-- <form [formGroup]="fasaction"> -->
                              <!-- <div class="col-sm-2 d-flex align-items-center">
                                  <mat-form-field
                                    style="
                                      color: black;
                                      width: 165px;
                                      margin-left: 25px;
                                    "
                                    appearance="outline"
                                  >
                                    <mat-label
                                      style="color: black; font-size: small"
                                      >Actions</mat-label
                                    >
  
                                    <mat-select formControlName="actions"
                                    >
                                      <mat-option
                                        *ngFor="let columns of columnList"
                                        [value]="columns"
                                        (click)="actionfasclick(sum, columns, i)"
                                      >
                                       {{ columns.type }}
                                      </mat-option>
                              
                                    </mat-select>
                                    
                                      
                                  </mat-form-field>
                                  <mat-icon 
                                    *ngIf="sum.fas_edit == 1" 
                                    (click)="selectednewfuccancel(i)" 
                                    class="actionClear">
                                    refresh
                                  </mat-icon>
                                                          
                                  </div> -->
                              <!-- <div *ngIf="!(selectednew && selectednew['variable_' + i]?.default && selectednew['variable_' + i]?.i===i)" (click)="selectednewfuc(i)" class="alignEdit">
                                                {{sum?.fas_action.type}}
                                                <mat-icon *ngIf="sum.fas_edit == 1" class="actionEdit"
                                    >edit</mat-icon>
                                    <mat-icon 
                                    *ngIf="sum.fas_edit == 1" 
                                    (click)="selectednewfucrefreshfas(sum,i,1)" 
                                    class="actionDelete">
                                    delete
                                  </mat-icon>     
                                </div> -->
                              <!-- </form> -->

                              <span *ngIf="sum?.fas_edit == 1" id="matInput-size">
                                <lib-vs-dynamicform-cmp class="actiondd" [InputFields]="{
                                  method: 'get',
                                  url: this.url,
                                  searchkey: '',
                                  params: '&value=1',
                                  displaykey: 'type',
                                  label: 'Actions',
                                  disabled: false,
                                  defaultvalue: this.faspatchyes && this.selectallcondition ? this.optionneedtopatch:sum?.fas_action,
                                  wholedata: true
                                }" (dataEvent)="
                                  refreshActions($event, sum, 1, 'fas_action', i)
                                " [ResetForm]="fasselectoptionreset">
                                </lib-vs-dynamicform-cmp>
                              </span>

                              <span *ngIf="sum?.fas_action === ''" id="matInput-size">
                                <lib-vs-dynamicform-cmp class="actiondd" [InputFields]="{
                                  method: 'get',
                                  url: this.url,
                                  searchkey: '',
                                  params: '&value=1',
                                  displaykey: 'type',
                                  label: 'Actions',
                                  disabled: false,
                                  wholedata: true,
                                  defaultvalue: this.selectallcondition ? this.optionneedtopatch:undefined
  
                                }" (dataEvent)="
                                  refreshActions($event, sum, 1, 'fas_action', i)
                                " [ResetForm]="fasselectoptionresetunsave">
                                </lib-vs-dynamicform-cmp>
                              </span>
                              <!-- <span *ngIf="sum?.fas_action === ''"
                            >
                              <form [formGroup]="fasaction">
                                <div class="col-sm-2 d-flex align-items-center">
                                  <mat-form-field
                                    style="
                                      color: black;
                                      width: 165px;
                                      margin-left: 25px;
                                    "
                                    appearance="outline"
                                  >
                                    <mat-label
                                      style="color: black; font-size: small"
                                      >Actions</mat-label
                                    >
  
                                    <mat-select formControlName="actions">
                                      <mat-option
                                        *ngFor="let columns of columnList"
                                        [value]="columns"
                                        (click)="actionfasclick(sum, columns, i)"
                                        >{{ columns.type }}</mat-option
                                      >
                                    </mat-select>
                                  </mat-form-field>
  
                                   <mat-icon *ngIf="showedit">edit</mat-icon>
                                   <mat-icon *ngIf="sum.fas_edit == 1"
                                    >edit</mat-icon
                                  > 
                                </div>
                              </form>
                            </span> -->
                              <span *ngIf="sum?.fas_action !== '' && sum?.fas_edit == 0">
                                {{ sum?.fas_action }}
                              </span>
                            </td>
                            <!-- <td>
                            <span *ngIf="sum?.fas_action === ''">
                              <button
                                (click)="addiconfas(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </span> -->
                            <!-- <span *ngIf="sum?.fas_action !==''">
                                                      {{}}
                                                  </span> -->
                            <!-- </td> -->
                            <!-- <td>
                            <mat-checkbox *ngIf="sum?.fas_action === ''"  
                                class="checkbox" 
                                [(ngModel)]="sum.checked" 
                                [checked]="checkedfasItems?.includes(sum?.id)" 
                                (change)="isfasSelect(sum?.id,$event)">
                            </mat-checkbox>
                          </td> -->
                            <!-- <td>                        
                            <div *ngIf="sum?.fas_action === 'ASSIGN TAG NUMBER' && sum?.fas_tag_no.length == 15">
                              {{ sum?.fas_tag_no }}
                            </div>
  
                            <div
                              *ngIf="
                                showmanualtagno && selectedRowIndices.includes(i) && sum?.fas_tag_no.length != 15
  ">
                            <p>
                              {{ sum?.fas_tag_no }}
                            </p>
                              <button
                                mat-icon-button
                                class="btn btn-outline-primary"
                                data-toggle="modal"
                                data-target="#exampleModalCenterFas"
                                (click)="edittagnumber(sum, 4)"
                              >
                                <span class="material-icons">edit</span>
                              </button>
                            </div>
                          </td> -->
                            <td (click)="getfassearch(sum?.fas_tag_no, 'Tag Number')" class="pointer">
                              <span #inputField *ngFor="let val of payloadArray; index as i">
                                <span *ngIf="
                                  val?.type == 1 &&
                                  val?.value == 3 &&
                                  val?.id == sum?.id
                                ">
                                  {{ sum?.fas_tag_no }}
                                  <input type="text" appearance="outline" name="digit" [value]="
                                    sum?.fas_tag_alpha ? sum?.fas_tag_alpha : ''
                                  " (keypress)="singleChar($event, i)" class="input" />
                                </span>
                              </span>

                              <span *ngIf="
                                sum?.fas_edit == 0 &&
                                sum?.fas_action === 'ASSIGN TAG NUMBER'
                              ">
                                {{ sum?.fas_tag_no }}
                              </span>

                              <span *ngIf="
                                sum?.fas_edit == 1 &&
                                sum?.fas_action.type == 'ASSIGN TAG NUMBER\t\t'
                              ">
                                <form [formGroup]="fassearch">
                                  <mat-form-field class="tagno">
                                    {{ sum?.fas_tag_no
                                    }}<input matInput type="text" appearance="outline" [value]="sum?.fas_tag_alpha"
                                      (keypress)="singleChar($event, i)" class="input"
                                      (click)="edittagnumber(sum, 4)" />
                                  </mat-form-field>
                                </form>
                              </span>
                              <div *ngIf="
                                showmanualtagno && selectedRowIndices.includes(i)
                              ">
                                <span>
                                  <form [formGroup]="fassearch">
                                    <mat-form-field class="tagno">
                                      {{ sum?.fas_tag_no
                                      }}<input matInput formControlName="edittag_number" appearance="outline"
                                        (keypress)="singleChar($event, i)" class="input"
                                        (click)="edittagnumber(sum, 4)" />
                                    </mat-form-field>
                                  </form>
                                </span>
                              </div>
                              <!-- <div
                              *ngIf="
                                !(showmanualtagno && selectedRowIndices.includes(i))">
                            <span>
                              
                            </span>
                            </div> 
                          </td>
                          <td *ngIf="nodatafoundfas" class="text-center">No data found!..</td> -->
                            </td>
                          </tr>
                        </tbody>
                        <tbody *ngIf="tabledataManual?.length == 0">
                          <tr>
                            <td colspan="9" class="text-center">
                              No Records Found..!
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="pagination-container">
                      <span class="items-per-page">
                        Items per page:
                        <!-- <mat-form-field style="width: 45px;">
                          <mat-select [formControl]="faspageform">
                            <mat-option *ngFor="let x of pagearray" [value]="x" (click)="faspageselection(x)">
                              {{ x }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field> -->
                        <mat-form-field style="width: 45px;">
                          <input matInput [formControl]="faspageform" type="number" (input)="faspageselectioninputfield($event)">
                        </mat-form-field>
                      </span>

                      <div class="pagination-controls">
                        <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary"
                          (click)="fasmanualpreviousClick()">
                          <mat-icon>arrow_back</mat-icon>
                        </button>
                        <b>{{ pagination.index }}</b>
                        <button mat-icon-button [disabled]="pagination.has_next === false" color="primary"
                          (click)="fasmanualnextClick()">
                          <mat-icon>arrow_forward</mat-icon>
                        </button>
                      </div>
                    </div>
                  </div>

                  <!-- <div
                      class="modal fade"
                      id="exampleModalCenterFas"
                      tabindex="-1"
                      role="dialog"
                      aria-labelledby="exampleModalCenterTitleFas"
                      aria-hidden="true"
                      data-backdrop="false"
                    >
                      <div
                        class="modal-dialog modal-dialog-centered"
                        role="document"
                      >
                        <div class="modal-content">
                          <div
                            class="modal-header"
                            style="background-color: #ddefdd"
                          >
                            <h3
                              class="modal-title"
                              id="exampleModalLongTitle"
                              style="color: black; font-weight: bold"
                            >
                              Fas Edit Tag Number
                            </h3>
                            <button
                              type="button"
                              class="close"
                              data-dismiss="modal"
                              aria-label="Close"
                              style="color: black"
                            >
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body" style="width: 600px">
                            <tr>
                              <td>
                                <form [formGroup]="fassearch">
                                  <div class="input-container">
                                    <span class="readonly-prefix"
                                      >FAS - {{ edit_tag_no }}</span
                                    >
                                    <input
                                      type="text"
                                      formControlName="edittag_number"
                                    />
                                  </div>
                                </form>
                              </td>
                            </tr>
                          </div>
                          <div class="modal-footer">
                            <button
                              type="button"
                              class="btn btn-secondary"
                              #closebuttontag
                              data-dismiss="modal"
                            >
                              Close
                            </button>
                            <button
                              type="button"
                              class="btn btn-secondary"
                              (click)="submittagnumber(1)"
                            >
                              Submit
                            </button>
                          </div>
                        </div>
                      </div>
                    </div> -->
                  <!-- </div> -->
                </form>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div style="margin-top: 2px;"></div>
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <span style="font-size: 15px;font-weight: 500;"> CBS Table</span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <hr>
              <div class="col-md-12">
                <!-- <h3 style="margin-left: 10px; font-weight: bold">CBS Table</h3> -->
                <form [formGroup]="cbssearch">
                  <!-- <div class="row paddingfas">
                    <div class="col-md-3">
                      <mat-form-field appearance="outline" class="legacy">
                        <mat-label>BranchCode</mat-label>
                        <input matInput formControlName="branchcontrolcbs" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Transaction Date</mat-label>
                        <input
                          matInput
                          formControlName="Transactiondatepatchcbs"
                        />
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Dr/Cr</mat-label>
                        <input matInput formControlName="DebitandCreditcbs" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Others</mat-label>
                        <input matInput formControlName="Commonfieldcbs" />
                      </mat-form-field>
                    </div>
                  </div> -->

                  <div class="row paddingfas" style="gap: 4px;">
                    <div class="col-md-3">
                      <mat-form-field class="SFwidth">
                        <mat-label>Options</mat-label>
                        <mat-select matInput formControlName="dropdownoption">
                          <mat-option *ngFor="let item of cbsKeys" [value]="item" (click)="resetcbsvalue(item)">
                            {{item}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="SFwidth">
                        <mat-label>Value</mat-label>
                        <input matInput formControlName="value" />
                      </mat-form-field>
                    </div>

                    <div class="col-md-3">
                      <span class="search">
                        <button mat-mini-fab id="buttonsSubmit" aria-label="Search" type="button"
                          (click)="cbssearchtable(1)">
                          <mat-icon>search</mat-icon>
                        </button>
                      </span>
                      <span class="clear" style="margin-left: 15px;">
                        <button mat-mini-fab id="buttonsSubmit" aria-label="Search" type="button"
                          (click)="cbstableclear()">
                          <mat-icon>refresh</mat-icon>
                        </button>
                      </span>
                    </div>
                  </div>
                  <div *ngIf="cbssytammatchsearchlist.length!==0">
                    <span class="applied_filter">Applied Filters:</span>
                    <span *ngFor="let data of cbssytammatchsearchlist">
                      <button class="class_badge">{{data.display_name}}</button>
                    </span>
                  </div>
                  <!-- <div class="amount">
                      CBS Amount : {{ formatNumberWithCommas(cbs_compare_total) }}
                    </div> -->
                  <div class="fasamount">
                    <span style="font-size: 15px;font-weight: 700;">
                      CBS Count :
                      <span class="badge-btn" *ngIf="cbs_count_manualmatching">
                        {{cbs_count_manualmatching}}
                      </span>
                    </span>
                    <span style="font-size: 15px;font-weight: 700;"> CBS Amount : <span>
                        {{ formatNumberWithCommas(cbs_compare_total) }}
                      </span></span>



                    <div class="right-controls" id="matInput-size">
                      <lib-vs-dynamicform-cmp class="actiondd" [InputFields]="{
                          method: 'get',
                          url: this.url,
                          searchkey: '',
                          params: '&value=2',
                          displaykey: 'type',
                          label: 'Actions',
                          disabled: false,
                          wholedata: true
                        }" (dataEvent)="
                          cbsselectoption($event)
                        " [ResetForm]="resetcbsselectalloption">
                      </lib-vs-dynamicform-cmp>
                      <mat-checkbox [formControl]="cbsselectall" (change)="selectallcbs($event)">Select
                        all</mat-checkbox>
                    </div>
                  </div>

                  <!-- <div
                    class="mat-elevation-z5"
                    class="table-row"
                    style="max-width: 170%; overflow-x: scroll"
                  > -->
                  <div>
                    <div class="table-container">
                      <table class="table table-bordered mat-elevation-z8" style="text-align: center;">
                        <thead class="table_header">
                          <th>S.No</th>
                          <th *ngFor="let key of this.cbsKeys">{{ key }}</th>
                          <!-- <th>Branch Code</th>
                        <th>Transaction Date</th>
                        <th>Dr/Cr</th>
                        <th>Amount</th>-->
                          <th>Action</th>
                          <!-- <th>Compare</th> 
                        <th>Select</th> -->
                        <th style="display: flex;gap: 5px;"> <span style="margin-top: 20px;">
                          Tag Number
                        </span>
                        <span>
                          <mat-form-field style="width: 25px;">
                            <input matInput [formControl]="cbs_tag_no"  (keypress)="cbsinput($event)">
                          </mat-form-field>
                        </span>
                        <span style="margin-top: 20px;">
                          <mat-checkbox [formControl]="cbs_tag_no_select"
                                (change)="cbs_tag_selectall_fun($event)"></mat-checkbox>
                        </span>
                      </th>
                          <!-- <th>Narration</th>  -->

                          <!-- <th>Action Type</th> -->
                        </thead>
                        <tbody *ngFor="let sum of cbstabledataManual; let i = index">
                          <tr [ngClass]="getRowColorcbs(sum, i)">
                            <td>{{ (paginationcbs.index - 1) * cbspagesize + i + 1 }}</td>
                            <td *ngFor="let key of cbsKeys">
                              {{ sum[cbsdatas[key]] }}
                            </td>
                            <!-- <td
                            (click)="
                              getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                            "
                            class="pointer"
                          >
                            {{ sum?.cbs_branch_code }}
                          </td>
                          <td
                            class="pointer"
                            (click)="
                              getcbssearch(sum?.cbs_transaction_date, 'Date')
                            "
                          >
                            {{ sum?.cbs_transaction_date }}
                          </td>
  
                          <td
                            (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                            class="pointer"
                          >
                            {{ sum?.cbs_dr_cr }}
                          </td>
                          <td
                            (click)="getcbssearch(sum?.cbs_amount, 'Amount')"
                            class="pointer"
                            style="text-align: right"
                          >
                            {{ formatNumberWithCommas(sum?.cbs_amount) }}
                          </td> -->
                            <!-- <td
                            (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                            class="pointer"
                          >
                            {{ sum?.cbs_tag_no }}
                          </td> -->

                            <td>
                              <span *ngIf="sum?.cbs_edit == 1" id="matInput-size">
                                <lib-vs-dynamicform-cmp class="actiondd" [InputFields]="{
                                  method: 'get',
                                  url: this.url,
                                  searchkey: '',
                                  params: '&value=2',
                                  displaykey: 'type',
                                  label: 'Actions',
                                  disabled: false,
                                  defaultvalue: this.cbspatchyes && this.selectallconditioncbs ? this.optionneedtopatchcbs:sum?.cbs_action,
                                  wholedata: true
                                }" (dataEvent)="
                                  refreshActions($event, sum, 2, 'cbs_action', i)
                                " [ResetForm]="cbsselectoptionreset">
                                </lib-vs-dynamicform-cmp>
                              </span>
                              <!-- {{sum.cbs_action}} -->
                              <span *ngIf="sum?.cbs_action === ''" id="matInput-size">
                                <lib-vs-dynamicform-cmp class="actiondd" [InputFields]="{
                                  method: 'get',
                                  url: this.url,
                                  searchkey: '',
                                  params: '&value=2',
                                  displaykey: 'type',
                                  label: 'Actions',
                                  disabled: false,
                                  wholedata: true,
                                  defaultvalue: this.selectallconditioncbs ? this.optionneedtopatchcbs:undefined
                                }" (dataEvent)="
                                  refreshActions($event, sum, 2, 'cbs_action', i)
                                " [ResetForm]="cbsselectoptionresetunsave">
                                </lib-vs-dynamicform-cmp>
                              </span>
                              <!-- <span *ngIf="sum?.cbs_edit == 1">
                              <form [formGroup]="cbsaction">
                                <div class="col-sm-2 d-flex align-items-center" *ngIf="selectednew && selectednew['variable_' + i]?.default && selectednew['variable_' + i]?.i===i">
                                  <mat-form-field
                                    style="
                                      color: black;
                                      width: 165px;
                                      margin-left: 25px;
                                    "
                                    appearance="outline"
                                  >
                                    <mat-label
                                      style="color: black; font-size: small"
                                      >Actions</mat-label
                                    >
  
                                    <mat-select formControlName="actions"
                                    >
                                      <mat-option
                                        *ngFor="let columns of columnList"
                                        [value]="columns"
                                        (click)="actioncbsclick(sum, columns, i)"
                                       
                                      >
                                       {{ columns.type }}
                                      </mat-option> -->
                              <!-- <mat-option *ngFor="let item of data" [value]="(sum.fas_edit == 1) ? sum.fas_action.save_value : item.fas_action.save_value"
                (click)="actionfasclick(sum, item)"
                (click)="handleActionClick(i, item)">
      {{ item.fas_action.save_value }}
    </mat-option> -->
                              <!-- </mat-select> -->

                              <!-- </mat-form-field> -->
                              <!-- <mat-icon *ngIf="sum.cbs_edit == 1" (click)="selectednewfucncancel(i)"
                                  class="actionClear" >refresh</mat-icon>
                                  
                                </div> -->
                              <!-- <div *ngIf="!(selectednews && selectednews['variable_' + i]?.default && selectednews['variable_' + i]?.i===i)" (click)="selectednewfucn(i)">
                                                {{sum?.cbs_action?.type}}
                                                <mat-icon *ngIf="sum.cbs_edit == 1" class="actionEdit"
                                    >edit</mat-icon>
                                    <mat-icon 
                                    *ngIf="sum.cbs_edit == 1" 
                                    (click)="selectednewfucrefreshcbs(sum,i,1)" 
                                    class="actionDelete">
                                    delete
                                  </mat-icon> 
                                </div> -->

                              <!-- </form> -->
                              <!-- </span> -->
                              <!-- <span *ngIf="sum?.cbs_action === ''"
                            >
                              <form [formGroup]="cbsaction">
                                <div class="col-sm-2 d-flex align-items-center">
                                  <mat-form-field
                                    style="
                                      color: black;
                                      width: 165px;
                                      margin-left: 25px;
                                    "
                                    appearance="outline"
                                  >
                                    <mat-label
                                      style="color: black; font-size: small"
                                      >Actions</mat-label
                                    >
  
                                    <mat-select formControlName="actions">
                                      <mat-option
                                        *ngFor="let columns of columnList"
                                        [value]="columns"
                                        (click)="actioncbsclick(sum, columns, i)"
                                        >{{ columns.type }}</mat-option
                                      >
                                    </mat-select>
                                  </mat-form-field>
  
                                   <mat-icon *ngIf="showedit">edit</mat-icon>
                                  <mat-icon *ngIf="sum.fas_edit == 1"
                                    >edit</mat-icon
                                  > 
                                </div>
                              </form>
                            </span> -->
                              <span *ngIf="sum?.cbs_action !== '' && sum?.cbs_edit == 0">
                                {{ sum?.cbs_action }}
                              </span>
                            </td>

                            <!-- <td>
                            <div *ngIf="sum?.cbs_action === ''">
                              <button
                                (click)="addiconcbs(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </div>
                          </td> -->
                            <!-- <td>
                            <mat-checkbox *ngIf="sum?.fas_action === ''"  
                                class="checkbox" 
                                [(ngModel)]="sum.checked" 
                                [checked]="checkedfasItems?.includes(sum?.id)" 
                                (change)="isfasSelect(sum?.id,$event)">
                            </mat-checkbox>
                          </td> -->
                            <!-- <td
                            style="
                              display: flex;
                              justify-content: space-between;
                              gap: 10px;
                            "
                          >
                            <p *ngIf="sum?.cbs_action !== ''">
                              {{ sum?.cbs_tag_no }}
                            </p>
  
                            <div
                              *ngIf="
                                showmanualtagnocbs &&
                                showmanualtagnocbs.includes(i)
                              "
                            >
                              <button
                                mat-icon-button
                                class="btn btn-outline-primary"
                                data-toggle="modal"
                                data-target="#modalCbs"
                                (click)="edittagnumber(sum, 1)"
                              >
                                <span class="material-icons">create</span>
                              </button>
  
                              <p *ngIf="sum?.cbs_tag_no?.length >= 8">
                                {{ sum?.cbs_tag_no }}
                              </p>
                            </div>
                          </td> -->
                            <!-- <td  (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                          class="pointer" >
                          
                            <div *ngIf="sum?.cbs_action === 'ASSIGN TAG NUMBER' && sum?.cbs_tag_no.length == 15">
                              {{ sum?.cbs_tag_no }}
                            </div>
  
                            <div
                              *ngIf="
                                showmanualtagnocbs && selectedRowIndices2.includes(i) && sum?.cbs_tag_no.length != 15
                              "
                            >
                            <p>
                              {{ sum?.cbs_tag_no }}
                            </p>
                            <button
                            mat-icon-button
                            class="btn btn-outline-primary"
                            data-toggle="modal"
                            data-target="#modalCbs"
                            (click)="edittagnumber(sum, 1)"
                          >
                            <span class="material-icons">edit</span>
                          </button>
  
                            </div>
                           
                          </td> -->
                            <!-- <td (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                            class="pointer">                        
                            <span *ngIf="sum?.cbs_edit == 0  && sum?.cbs_action == 'ASSIGN TAG NUMBER\t\t'">
                              {{ sum?.cbs_tag_no }}
                            </span>
                            <span *ngIf="sum?.cbs_edit == 1 && sum?.cbs_action.type == 'ASSIGN TAG NUMBER\t\t'">
                              
                              {{ sum?.cbs_tag_no }} 
                              <form [formGroup]="fassearch">
                                <mat-form-field class="tagno">
                                  <input matInput formControlName="edittag_number"  [value]="sum?.cbs_tag_alpha" appearance="outline" (keypress)="singleChar($event)" class="input" (click)="edittagnumber(sum,1)">
                                </mat-form-field>
                                </form>
                            </span>
                            <div
                              *ngIf="
                                showmanualtagnocbs && selectedRowIndices2.includes(i)">
                            <span>
                              {{ sum?.cbs_tag_no }}
                              <form [formGroup]="fassearch">
                              <mat-form-field class="tagno">
                                <input matInput type="text" [value]="sum?.fas_tag_alpha" appearance="outline" (keypress)="singleChar($event)" class="input" (click)="edittagnumber(sum,1)">
                              </mat-form-field>
                              </form>
                            </span>
                            </div>
                          </td> -->

                            <td (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')" class="pointer">
                              <span #inputField *ngFor="let val of payloadArray; index as i">
                                <span *ngIf="
                                  val?.type == 2 &&
                                  val?.value == 3 &&
                                  val?.id == sum?.id
                                ">
                                  {{ sum?.cbs_tag_no }}
                                  <form [formGroup]="digit">
                                    <input type="text" appearance="outline" name="digit" [value]="
                                      sum?.cbs_tag_alpha ? sum?.cbs_tag_alpha : ''
                                    " (keypress)="singleChar($event, i)" class="input" />
                                  </form>
                                </span>
                                <!-- <span *ngIf="sum?.cbs_edit == 0 && val?.value == 1">
                              
                                  {{ sum?.cbs_tag_no }}
                                  
                            </span> -->
                              </span>
                              <span *ngIf="
                                sum?.cbs_edit == 0 &&
                                sum?.cbs_action === 'ASSIGN TAG NUMBER'
                              ">
                                {{ sum?.cbs_tag_no }}
                              </span>
                            </td>
                            <!-- <td
                            (click)="
                              getcbssearch(sum?.cbs_narration, 'Narration')
                            "
                            class="pointer"
                          >
                            {{ sum?.cbs_narration }}
                          </td>  -->
                            <!-- <td *ngIf="!nodatafoundcbs" class="text-center">No data found!..</td> -->
                          </tr>
                        </tbody>
                        <tbody *ngIf="cbstabledataManual?.length == 0">
                          <tr>
                            <td colspan="8" class="text-center">
                              No Records Found..!
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="pagination-container">
                      <span class="items-per-page">
                        Items per page:
                        <!-- <mat-form-field style="width: 45px;">
                          <mat-select [formControl]="cbspageform">
                            <mat-option *ngFor="let x of pagearray" [value]="x" (click)="cbspageselection(x)">
                              {{ x }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field> -->
                        <mat-form-field style="width: 45px;">
                          <input matInput [formControl]="cbspageform" type="number" (input)="cbspageselectioninputfield($event)">
                        </mat-form-field>
                      </span>

                      <div class="pagination-controls">
                        <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary"
                          (click)="cbsmanualpreviousClick()">
                          <mat-icon>arrow_back</mat-icon>
                        </button>
                        <b style="align-items: center;margin-top: 9px;">{{ paginationcbs.index }}</b>
                        <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                          (click)="cbsmanualnextClick()">
                          <mat-icon>arrow_forward</mat-icon>
                        </button>
                      </div>
                    </div>
                    <!-- <div class="paginationDiv">
                      <button
                        mat-icon-button
                        [disabled]="paginationcbs.has_previous === false"
                        color="primary"
                        (click)="cbsmanualpreviousClick()"
                      >
                        <mat-icon>arrow_back</mat-icon>
                      </button>
                      <b style="align-items: center;margin-top: 9px;">{{ paginationcbs.index }}</b>
                      <button
                        mat-icon-button
                        [disabled]="paginationcbs.has_next === false"
                        color="primary"
                        (click)="cbsmanualnextClick()"
                      >
                        <mat-icon>arrow_forward</mat-icon>
                      </button>
                    </div> -->
                  </div>

                  <!-- <div
                      class="modal fade"
                      id="modalCbs"
                      tabindex="-1"
                      role="dialog"
                      aria-labelledby="exampleModalCenterTitleCbs"
                      aria-hidden="true"
                      data-backdrop="false"
                    >
                      <div
                        class="modal-dialog modal-dialog-centered"
                        role="document"
                      >
                        <div class="modal-content">
                          <div
                            class="modal-header"
                            style="background-color: #ddefdd"
                          >
                            <h3
                              class="modal-title"
                              id="exampleModalLongTitle"
                              style="color: black; font-weight: bold"
                            >
                              Cbs Edit Tag Number
                            </h3>
                            <button
                              type="button"
                              class="close"
                              data-dismiss="modal"
                              aria-label="Close"
                              style="color: black"
                            >
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body" style="width: 600px">
                            <tr>
                              <td>
                                <form [formGroup]="fassearch">
                                  <div class="input-container">
                                    <span class="readonly-prefix"
                                      >Cbs - {{ edit_tag_no }}</span
                                    >
                                    <input
                                      type="text"
                                      formControlName="edittag_number"
                                    />
                                  </div>
                                </form>
                              </td>
                            </tr>
                          </div>
                          <div class="modal-footer">
                            <button
                              type="button"
                              #closebuttontagcbs
                              class="btn btn-secondary"
                              data-dismiss="modal"
                            >
                              Close
                            </button>
                            <button
                              type="button"
                              class="btn btn-secondary"
                      
                              (click)="submittagnumber(1)"
                            >
                              Submit
                            </button>
                          </div>
                        </div>
                      </div>
                    </div> -->
                  <!-- </div> -->
                </form>
              </div>

            </mat-expansion-panel>
          </mat-accordion>


          <!-- <div> -->

          <!-- <div class="mat-elevation-z5" class="table-row">
                <div style=" margin-left: 4%;">
                  <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                      <thead class="table_header">
                        <th>S.No</th>
                        
                        <th>Branch Code</th>
                        <th>Entry Gid</th>
                        <th>Transaction Date</th>   
                        <th>Dr/Cr</th>
                        <th>Amount</th>
                        <th>Remark</th>
                        <th>Entry Crno</th>
                        <th>Entry Module</th>
                        <th>Tag Number</th>
                        <th>Action</th>
                        <th>Action Type</th>
                      
                      </thead>
                      <tbody *ngFor="let sum of tabledata; let i=index">
                          <td>{{(pagination.index - 1)*10 +i+1}}</td>
                          
                          <td>{{sum?.fas_branch_code}}</td>
                          <td>{{sum?.fas_entry_gid}}</td>
                          <td>{{sum?.fas_transaction_date}}</td>
                          <td>{{sum?.fas_dr_cr}}</td>
                          <td>{{sum?.fas_amount}}</td>
                          <td>{{sum?.fas_remark}}</td>
                          <td>{{sum?.fas_entry_crno}}</td>
                          <td>{{sum?.fas_entry_module}}</td>
                          <td style="display: flex; justify-content: space-between; gap: 10px">
                            <p>{{sum?.fas_tag_no}}</p>
                            
                                <button  mat-icon-button class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModalCenter" (click)="edittagnumber(sum,4)">
                                    <span class="material-icons">create</span>
                                     </button>
                            

                          </td>
                          <td>
                            <span >
                                <form [formGroup]="fasaction">
                                    <div class="col-sm-2"  >
                                        <mat-form-field style="color:black;width: 165px;margin-left: 25px;" appearance="outline" >
                                            <mat-label style="color:black;font-size:small;">Actions</mat-label>
                
                                            <mat-select formControlName="actions" [disabled]="sum?.fas_action !==''">
                                                <mat-option *ngFor="let columns of columnList"
                                                    [value]="columns" (click)="actionfasclick(sum,columns)">{{columns.type}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </form> 
                            </span>
                           
                         </td>
                         <td>{{sum?.fas_action}}</td>
                         <td><button (click)="addiconfas(sum)" mat-icon-button class="btn btn-outline-primary">
                            <span class="material-icons">add_circle</span>
                             </button>
                         </td>
                      </tbody>
                  </table>
                </div>
        
                <div style="font-size: small;text-align:right;margin-right: 1%;">
                  <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary" (click)="fasmanualpreviousClick()">
                      <mat-icon>arrow_back</mat-icon>
                  </button> {{pagination.index}}
                  <button mat-icon-button [disabled]="pagination.has_next === false" color="primary" (click)="fasmanualnextClick()">
                      <mat-icon>arrow_forward</mat-icon>
                  </button>
                </div>
                <div  class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style=" background-color: #ddefdd;">
                          <h3 class="modal-title" id="exampleModalLongTitle" style="color: black;font-weight: bold;">Edit Tag Number</h3>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:black;">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body" style="width: 600px;">
                       
                        <tr>
                           
                            <td>

                                <form [formGroup]="fassearch">
                                    <div class="input-container">
                                      <span class="readonly-prefix">{{ edit_tag_no }}</span>
                                      <input type="text"  formControlName="edittag_number">
                                    </div>
                                  </form>
                            </td>
                        
                        </tr>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary"   #closebuttontag data-dismiss="modal" >Close</button>
                          <button type="button" class="btn btn-secondary"  (click)="submittagnumber(1)">Submit</button>
                        </div>
                      </div>
                    </div>
                  </div>
              </div> -->
          <!-- <h3 style="margin-left: 28px;font-weight: bold;">CBS Table</h3>
                    <form [formGroup]="cbssearch">
                        <div class="row">

                            <div class="col-md-2">
                                <mat-form-field style="
                            width: 100%;margin-left: 13%;margin-top: 3%;" appearance="outline">
                                    <mat-label>Branch code</mat-label>
                                    <input matInput formControlName="cbsbranchcode">
                                </mat-form-field>
                            </div>

                            <div class="col-md-2">
                                <mat-form-field style="
                            width: 100%;margin-left: 18%;margin-top: 3%;" appearance="outline">
                                    <mat-label>Date</mat-label>
                                    <input matInput formControlName="cbstranactiondate">
                                </mat-form-field>
                            </div>
                            <div class="col-md-2">
                                <mat-form-field appearance="outline"
                                    style="color:black;width: 100%;margin-left: 22%;margin-top: 3%;">
                                    <mat-label style="color:black;font-size:small;">Select Header</mat-label>
                                    <mat-select matInput formControlName="cbscreditdebit">
                                        <mat-option *ngFor="let item of cbsmanualheaderlist" [value]="item.name">
                                            {{item.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-2">
                                <mat-form-field style="
                            width: 100%;margin-left: 26%;margin-top: 3%;" appearance="outline">
                                    <mat-label>Values</mat-label>
                                    <input matInput formControlName="cbsamount">
                                </mat-form-field>
                            </div>
                            <div class="col-md-2" style="margin-top: 18px;margin-left: 51px;">
                                <button mat-stroked-button type="button" id="buttonsSubmit" aria-label="Search"
                                    (click)="cbssearchtable(1)">
                                    <mat-icon>search</mat-icon>
                                </button>
                            </div>

                        </div>
                        <div class="mat-elevation-z5" class="table-row">
                            <div style=" margin-left: 4%;">
                                <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                                    <thead class="table_header">
                                        <th>S.No</th>
                                        <th>Branch Code</th>
                                        <th>Date</th>
                                        <th>Narration</th>
                                        <th>Dr/Cr</th>
                                        <th> Amount</th>

                                        <th>Tag Number</th>
                                        <th>Action</th>
                                        <th>Action Type</th>

                                    </thead>
                                    <tbody *ngFor="let sum of cbstabledata; let i=index">
                                        <td>{{(paginationcbs.index - 1)*10 +i+1}}</td>
                                        <td>{{sum?.cbs_branch_code}}</td>
                                        <td>{{sum?.cbs_transaction_date}}</td>
                                        <td>{{sum?.cbs_narration}}</td>
                                        <td>{{sum?.cbs_dr_cr}}</td>
                                        <td>{{sum?.cbs_amount}}</td>

                                        <td style="display: flex; justify-content: space-between; gap: 10px">
                                            <p>{{sum?.cbs_tag_no}} </p>

                                            <button mat-icon-button class="btn btn-outline-primary" data-toggle="modal"
                                                data-target="#exampleModalCentercbs" (click)="editcbstagnumber(sum,5)">
                                                <span class="material-icons">create</span>
                                            </button>

                                        </td>
                                        <td>
                                            <span>
                                                <form [formGroup]="cbsaction">
                                                    <div class="col-sm-2">
                                                        <mat-form-field
                                                            style="color:black;width: 165px;margin-left: 25px;"
                                                            appearance="outline">
                                                            <mat-label
                                                                style="color:black;font-size:small;">Actions</mat-label>

                                                            <mat-select formControlName="actions"
                                                                [disabled]="sum?.cbs_action !==''">
                                                                <mat-option *ngFor="let columns of columnList"
                                                                    [value]="columns"
                                                                    (click)="actioncbsclick(sum,columns)">{{columns.type}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                </form>
                                            </span>

                                        </td>
                                        <td>{{sum?.cbs_action}}</td>
                                        <td><button (click)="addiconcbs(sum)" mat-icon-button
                                                class="btn btn-outline-primary">
                                                <span class="material-icons">add_circle</span>
                                            </button>
                                        </td>

                                    </tbody>
                                </table>
                            </div>

                            <div style="font-size: small;text-align:right;margin-right: 1%;">
                                <button mat-icon-button [disabled]="paginationcbs.has_previous === false"
                                    color="primary" (click)="cbsmanualpreviousClick()">
                                    <mat-icon>arrow_back</mat-icon>
                                </button> {{paginationcbs.index}}
                                <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                                    (click)="cbsmanualnextClick()">
                                    <mat-icon>arrow_forward</mat-icon>
                                </button>
                            </div>
                            <div class="modal fade" id="exampleModalCentercbs" tabindex="-1" role="dialog"
                                aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
                                <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header" style=" background-color: #ddefdd;">
                                            <h3 class="modal-title" id="exampleModalLongTitle"
                                                style="color: black;font-weight: bold;">Edit Tag Number</h3>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                                style="color:black;">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body" style="width: 600px;">

                                            <tr>

                                                <td>
                                                    <form [formGroup]="fassearch">
                                                        <div class="input-container">
                                                            <span class="readonly-prefix">{{ edit_tag_no }}</span>
                                                            <input type="text" formControlName="edittag_number">
                                                        </div>
                                                    </form>
                                                </td>

                                            </tr>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-secondary" #closebuttontag
                                                (click)="submittagnumber(1)">Submit</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form> -->
          <!-- <div class="mat-elevation-z5" class="table-row">
                <div style=" margin-left: 4%;">
                  <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                      <thead class="table_header">
                        <th>S.No</th>
                        <th>Branch Code</th>
                        <th>Date</th>
                        <th>Narration</th>
                        <th>Dr/Cr</th>   
                        <th> Amount</th>
                      
                        <th>Tag Number</th>
                        <th>Action</th>
                        <th>Action Type</th>
                        
                      </thead>
                      <tbody *ngFor="let sum of cbstabledata; let i=index">
                          <td>{{(paginationcbs.index - 1)*10 +i+1}}</td>
                          <td>{{sum?.cbs_branch_code}}</td>
                          <td>{{sum?.cbs_transaction_date}}</td>
                          <td>{{sum?.cbs_narration}}</td>
                          <td>{{sum?.cbs_dr_cr}}</td>
                          <td>{{sum?.cbs_amount}}</td>
                         
                          <td style="display: flex; justify-content: space-between; gap: 10px"> 
                            <p>{{sum?.cbs_tag_no}} </p>
                            
                                <button  mat-icon-button class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModalCentercbs" (click)="editcbstagnumber(sum,5)">
                                    <span class="material-icons">create</span>
                                     </button>
                           
                          </td>
                          <td>
                            <span>
                                <form [formGroup]="cbsaction">
                                    <div class="col-sm-2">
                                        <mat-form-field style="color:black;width: 165px;margin-left: 25px;" appearance="outline">
                                            <mat-label style="color:black;font-size:small;">Actions</mat-label>
                
                                            <mat-select formControlName="actions" [disabled]="sum?.cbs_action !==''">
                                                <mat-option *ngFor="let columns of columnList"
                                                    [value]="columns" (click)="actioncbsclick(sum,columns)">{{columns.type}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </form> 
                            </span>
                           
                         </td>
                         <td>{{sum?.cbs_action}}</td>
                         <td><button (click)="addiconcbs(sum)" mat-icon-button class="btn btn-outline-primary">
                            <span class="material-icons">add_circle</span>
                             </button>
                         </td>
                         
                      </tbody>
                  </table>
                </div>
        
                <div style="font-size: small;text-align:right;margin-right: 1%;">
                  <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary" (click)="cbsmanualpreviousClick()">
                      <mat-icon>arrow_back</mat-icon>
                  </button> {{paginationcbs.index}}
                  <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary" (click)="cbsmanualnextClick()">
                      <mat-icon>arrow_forward</mat-icon>
                  </button>
                </div>
                <div  class="modal fade" id="exampleModalCentercbs" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style=" background-color: #ddefdd;">
                          <h3 class="modal-title" id="exampleModalLongTitle" style="color: black;font-weight: bold;">Edit Tag Number</h3>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:black;">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body" style="width: 600px;">
                       
                        <tr>
                           
                            <td>
                                <form [formGroup]="fassearch">
                                    <div class="input-container" >
                                      <span class="readonly-prefix">{{ edit_tag_no }}</span>
                                      <input type="text" formControlName="edittag_number">
                                    </div>
                                  </form>
                            </td>
                        
                        </tr>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal" >Close</button>
                          <button type="button" class="btn btn-secondary"   #closebuttontag  (click)="submittagnumber(1)" >Submit</button>
                        </div>
                      </div>
                    </div>
                  </div>
              </div> -->
          <div class="row right">
            <!-- <div class="col-md-6">
                            <p>FAS Amount:{{fas_unmatch_amount}}</p>
                            <p>CBS Amount:{{cbs_unmatch_amount}}</p>
                        </div> -->

            <button class="btn btn-outline-secondary orders" (click)="changeTab(0)">
              Back
            </button>
            <button class="btn btn-outline-primary orders" (click)="saveManual(1)">
              Save
            </button>

            <!-- <button
                  class="btn btn-outline-info orders"
                  (click)="compareamount(1)"
                >
                  Compare
                </button> -->
            <button class="btn btn-outline-success orders" (click)="selectedManual(1)">
              Submit
            </button>
            <button class="btn btn-outline-secondary orders" (click)="changeTab(2)">
              Next
            </button>
          </div>
          <!-- <div style="margin-left: 91%;">
                    <button class="btn btn-outline-info"
                        style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: -137px;"
                        (click)="changeTab(0)">Back</button>
                    <button class="btn btn-outline-info"
                        style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: 10px;"
                        (click)="savemanualmatch(1)">Submit</button>
                    <button class="btn btn-outline-info"
                        style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: 10px;"
                        (click)="compareamount(1)">Compare</button>
                </div> -->
        </mat-tab>

        <mat-tab label="Manually Matched" id="3" #closebutton class="fontSmall">
          <ng-container *ngIf="selectedTabIndex === 2">
            <mat-tab-group class="tab-group" (selectedTabChange)="onTabChange($event, 1)">
              <span *ngFor="let item of columnList">
                <mat-tab label="{{ item.type }}">
                  <!-- <mat-tab *ngFor="let item of columnList">
              <ng-template mat-tab-label>
                {{ item.type }}
              </ng-template> -->
                  <div style="margin-top: 15px;"></div>
                  <mat-accordion>
                    <mat-expansion-panel>
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <span style="font-size: 15px;font-weight: 500;">FAS Table</span>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr>
                      <div class="col-md-12">
                        <!-- <h3
                      style="
                        margin-left: 10px;
                        margin-top: 15px;
                        font-weight: bold;
                      "
                    >
                      FAS Table
                    </h3> -->
                        <form [formGroup]="fassearch">


                          <div class="row paddingfas">
                            <div class="col-md-3" style="margin-top: 15px;">
                              <span style="font-size: 15px;font-weight: 700;">
                                FAS Count :
                                <span class="badge-btn" *ngIf="fas_count_sysandmanualmatched">
                                  {{fas_count_sysandmanualmatched}}
                                </span>
                              </span>
                            </div>
                            <div class="col-md-3">
                              <mat-form-field class="SFwidth">
                                <mat-label>Options</mat-label>
                                <mat-select matInput formControlName="dropdownoption">
                                  <mat-option *ngFor="let item of wisefinKeys" [value]="item"
                                    (click)="resetfasaction(item)">
                                    {{ item }}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                            <div class="col-md-3">
                              <mat-form-field class="SFwidth">
                                <mat-label>Value</mat-label>
                                <input matInput formControlName="value" />
                              </mat-form-field>
                            </div>

                            <div class="col-md-3">
                              <span class="search">
                                <button mat-mini-fab id="buttonsSubmit" aria-label="Search" type="button"
                                  (click)="fassearchtable(1)">
                                  <mat-icon>search</mat-icon>
                                </button>
                              </span>
                              <span class="clear" style="margin-left: 15px;">
                                <button mat-mini-fab id="buttonsSubmit" aria-label="Search" type="button"
                                  (click)="fastableclear()">
                                  <mat-icon>refresh</mat-icon>
                                </button>
                              </span>
                              <span *ngIf="actionChange" style="margin-left: 15px;">
                                <mat-checkbox [formControl]="fasmatchedselectform"
                                  (change)="fasmatchedselectall($event,1)">Select all</mat-checkbox>
                              </span>
                            </div>
                          </div>
                        </form>
                        <div *ngIf="fassytammatchsearchlist.length!==0" style="margin-bottom: 20px;">
                          <span class="applied_filter">Applied Filters:</span>
                          <span *ngFor="let data of fassytammatchsearchlist">
                            <button class="class_badge">{{data.display_name}}</button>
                          </span>
                        </div>
                        <!-- <div
                    class="mat-elevation-z5"
                    class="table-row"
                    style="max-width: 170%; overflow-x: scroll"
                  > -->
                        <div>
                          <div class="table-container">
                            <table class="table table-bordered mat-elevation-z8" style="text-align: center;">
                              <thead class="table_header">
                                <th>S.No</th>
                                <th *ngFor="let key of this.wisefinKeys">
                                  {{ key }}
                                </th>
                                <!-- <th>Branch Code</th>
                        <th>Entry Gid</th>
                        <th>Transaction Date</th>
                        <th>Remark</th>
                        <th>Entry Crno</th>
                        <th>Entry Module</th>
                        <th>Dr/Cr</th>
                        <th>Amount</th> -->
                                <th>Action</th>
                                <!-- <th>Compare</th> -->
                                <th>Tag Number</th>
                                <th *ngIf="actionChange">Select</th>

                                <!-- <th>Action Type</th> -->
                              </thead>
                              <tbody>
                                <tr *ngFor="let sum of tabledata; let i = index">
                                  <td>{{ (pagination.index - 1) * faspagesize + i + 1 }}</td>
                                  <td *ngFor="let key of wisefinKeys">
                                    {{ sum[wisefindatas[key]] }}
                                  </td>
                                  <!-- <td
                            (click)="
                              getfassearch(
                                sum?.fas_branch_code,
                                'Branch Code'
                              )
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_branch_code }}
                          </td>
                          <td
                            (click)="
                              getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_gid }}
                          </td>
                          <td
                            (click)="
                              getfassearch(
                                sum?.fas_transaction_date,
                                'Branch date'
                              )
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_transaction_date }}
                          </td>
                          <td
                            (click)="
                              getfassearch(sum?.fas_remark, 'Remark')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_remark }}
                          </td>
                          <td
                            (click)="
                              getfassearch(
                                sum?.fas_entry_crno,
                                'Entry Crno'
                              )
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_crno }}
                          </td>
                          <td
                            (click)="
                              getfassearch(
                                sum?.fas_entry_module,
                                'Entry Module'
                              )
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_module }}
                          </td>
                          <td
                            (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                            class="pointer"
                          >
                            {{ sum?.fas_dr_cr }}
                          </td>
                          <td
                            (click)="
                              getfassearch(sum?.fas_amount, 'Amount')
                            "
                            class="pointer"
                            style="text-align: right"
                          >
                            {{ formatNumberWithCommas(sum?.fas_amount) }}
                          </td> -->

                                  <td>
                                    {{ sum?.fas_action }}
                                  </td>

                                  <td>
                                    {{ sum?.fas_tag_no }}
                                  </td>
                                  <td *ngIf="actionChange" class="text-center">
                                    <mat-checkbox class="jwcheck" mat-primary (change)="isChecked(sum, $event, 1)"
                                      [checked]="
                                checkedItems.includes(sum?.id) ||
                                sum?.fas_tag_no.length == 13
                              " [disabled]="sum?.fas_tag_no.length == 13"></mat-checkbox>
                                  </td>
                                </tr>
                                <tr *ngIf="tabledata?.length == 0">
                                  <td colspan="9" class="text-center">
                                    No Records Found..!
                                  </td>
                                </tr>
                              </tbody>
                              <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
                            </table>
                          </div>
                          <div class="pagination-container">
                            <span class="items-per-page">
                              Items per page:
                              <!-- <mat-form-field style="width: 45px;">
                                <mat-select [formControl]="faspageform">
                                  <mat-option *ngFor="let x of pagearray" [value]="x" (click)="faspageselection(x)">
                                    {{ x }}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field> -->
                              <mat-form-field style="width: 45px;">
                                <input matInput [formControl]="faspageform" type="number" (input)="faspageselectioninputfield($event)">
                              </mat-form-field>
                            </span>

                            <div class="pagination-controls">
                              <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary"
                                (click)="fasmanualpreviousClick()">
                                <mat-icon>arrow_back</mat-icon>
                              </button>
                              <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                              <button mat-icon-button [disabled]="pagination.has_next === false" color="primary"
                                (click)="fasmanualnextClick()">
                                <mat-icon>arrow_forward</mat-icon>
                              </button>
                            </div>
                          </div>
                          <!-- <div style="display: flex;float: right;">
                        <button
                          mat-icon-button
                          [disabled]="pagination.has_previous === false"
                          color="primary"
                          (click)="fasmanualpreviousClick()"
                        >
                          <mat-icon>arrow_back</mat-icon>
                        </button>
                        <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                        <button
                          mat-icon-button
                          [disabled]="pagination.has_next === false"
                          color="primary"
                          (click)="fasmanualnextClick()"
                        >
                          <mat-icon>arrow_forward</mat-icon>
                        </button>
                      </div> -->
                        </div>

                        <!-- </div> -->
                        <!-- <p>
                    FAS Amount:{{
                      formatNumberWithCommas(fas_compare_total)
                    }}
                  </p> -->
                      </div>

                    </mat-expansion-panel>
                  </mat-accordion>
                  <div style="margin-top: 2px;"></div>
                  <mat-accordion>
                    <mat-expansion-panel>
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <span style="font-size: 15px;font-weight: 500;">CBS Table</span>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr>
                      <div class="col-md-12">
                        <!-- <h3 style="font-weight: bold; margin-top: 15px">
                      CBS Table
                    </h3> -->
                        <form [formGroup]="cbssearch">

                          <div class="row paddingcbs">
                            <div class="col-md-3" style="margin-top: 15px;">
                              <span style="font-size: 15px;font-weight: 700;">
                                CBS Count :
                                <span class="badge-btn" *ngIf="cbs_count_sysandmanualmatched">
                                  {{cbs_count_sysandmanualmatched}}
                                </span>
                              </span>
                            </div>
                            <div class="col-md-3">
                              <mat-form-field class="SFwidth">
                                <mat-label>Options</mat-label>
                                <mat-select matInput formControlName="dropdownoption">
                                  <mat-option *ngFor="let item of cbsKeys" [value]="item" (click)="resetcbsvalue(item)">
                                    {{item}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                            <div class="col-md-3">
                              <mat-form-field class="SFwidth">
                                <mat-label>Value</mat-label>
                                <input matInput formControlName="value" />
                              </mat-form-field>
                            </div>

                            <div class="col-md-3">
                              <span class="search">
                                <button mat-mini-fab type="button" id="buttonsSubmit" aria-label="Search"
                                  (click)="cbssearchtable(1)">
                                  <mat-icon>search</mat-icon>
                                </button>
                              </span>
                              <span class="clear" style="margin-left: 15px;">
                                <button mat-mini-fab id="buttonsSubmit" aria-label="Search" (click)="cbstableclear()">
                                  <mat-icon>refresh</mat-icon>
                                </button>
                              </span>
                              <span *ngIf="actionChange" style="margin-left: 15px;">
                                <mat-checkbox [formControl]="cbsmatchedselectform"
                                  (change)="cbsmatchedselectall($event,2)">Select all</mat-checkbox>
                              </span>
                            </div>
                          </div>
                        </form>

                        <!-- <div
                    class="mat-elevation-z5"
                    class="table-row"
                    style="max-width: 170%; overflow-x: scroll"
                  > -->
                        <div *ngIf="cbssytammatchsearchlist.length!==0" style="margin-bottom: 20px;">
                          <span class="applied_filter">Applied Filters:</span>
                          <span *ngFor="let data of cbssytammatchsearchlist">
                            <button class="class_badge">{{data.display_name}}</button>
                          </span>
                        </div>
                        <div>
                          <div class="table-container">
                            <table class="table table-bordered mat-elevation-z8" style="text-align: center;">
                              <thead class="table_header">
                                <tr>
                                  <th>S.No</th>
                                  <th *ngFor="let key of this.cbsKeys">
                                    {{ key }}
                                  </th>
                                  <!-- <th>Branch Code</th>
                            <th>Date</th>
                            <th>Narration</th>
                            <th>Dr/Cr</th>
                            <th>Amount</th> -->
                                  <th>Action</th>
                                  <!-- <th>Compare</th> -->
                                  <th>Tag Number</th>
                                  <!-- <th>Action Type</th> -->
                                  <th *ngIf="actionChange">Select</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let sum of cbstabledata; let i = index">
                                  <td>
                                    {{ (paginationcbs.index - 1) * cbspagesize + i + 1 }}
                                  </td>
                                  <td *ngFor="let key of cbsKeys">
                                    {{ sum[cbsdatas[key]] }}
                                  </td>
                                  <!-- <td
                              (click)="
                                getcbssearch(
                                  sum?.cbs_branch_code,
                                  'Branch Code'
                                )
                              "
                              class="pointer"
                            >
                              {{ sum?.cbs_branch_code }}
                            </td>
                            <td
                              (click)="
                                getcbssearch(
                                  sum?.cbs_transaction_date,
                                  'Branch date'
                                )
                              "
                            >
                              {{ sum?.cbs_transaction_date }}
                            </td> -->
                                  <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
                                  <!-- <td>{{sum?.cbs_narration}}</td> -->

                                  <!-- <td>{{sum?.cbs_branch_code}}</td> -->
                                  <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
                                  <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
                                  <!-- <td>{{sum?.cbs_amount}}</td> -->

                                  <!-- <td
                              (click)="
                                getcbssearch(sum?.cbs_narration, 'Narration')
                              "
                              class="pointer"
                            >
                              {{ sum?.cbs_narration }}
                            </td>
                            <td
                              (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                              class="pointer"
                            >
                              {{ sum?.cbs_dr_cr }}
                            </td>
                            <td
                              (click)="
                                getcbssearch(sum?.cbs_amount, 'Amount')
                              "
                              class="pointer"
                              style="text-align: right"
                            >
                              {{ formatNumberWithCommas(sum?.cbs_amount) }}
                            </td> -->
                                  <td>
                                    {{ sum?.cbs_action }}
                                  </td>

                                  <!-- <td>{{sum?.cbs_action}}</td> -->
                                  <!-- <td *ngIf="sum?.cbs_action === ''">
                            <button
                              (click)="addiconcbs(sum)"
                              mat-icon-button
                              class="btn btn-outline-primary"
                              [disabled]="sum.isCompareClicked"
                            >
                              <span class="material-icons">add_circle</span>
                            </button>
                          </td> -->
                                  <td>
                                    {{ sum?.cbs_tag_no }}
                                  </td>
                                  <td *ngIf="actionChange" class="text-center">
                                    <mat-checkbox mat-primary class="gefucheck" (change)="isChecked(sum, $event, 2)"
                                      [checked]="
                                  checkedItems.includes(sum?.id) ||
                                  sum?.cbs_tag_no?.length == 13
                                " [disabled]="sum?.cbs_tag_no?.length == 13"></mat-checkbox>
                                  </td>
                                </tr>
                                <tr *ngIf="cbstabledata?.length == 0">
                                  <td colspan="9" class="text-center">
                                    No Records Found..!
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="pagination-container">
                            <span class="items-per-page">
                              Items per page:
                              <!-- <mat-form-field style="width: 45px;">
                                <mat-select [formControl]="cbspageform">
                                  <mat-option *ngFor="let x of pagearray" [value]="x" (click)="cbspageselection(x)">
                                    {{ x }}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field> -->
                              <mat-form-field style="width: 45px;">
                                <input matInput [formControl]="cbspageform" type="number" (input)="cbspageselectioninputfield($event)">
                              </mat-form-field>
                            </span>

                            <div class="pagination-controls">
                              <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary"
                                (click)="cbsmanualpreviousClick()">
                                <mat-icon>arrow_back</mat-icon>
                              </button>
                              <b style="align-items: center;margin-top: 9px;"> {{ paginationcbs.index }}</b>
                              <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                                (click)="cbsmanualnextClick()">
                                <mat-icon>arrow_forward</mat-icon>
                              </button>
                            </div>
                          </div>
                          <!-- <div style="display: flex;float: right;">
                        <button
                          mat-icon-button
                          [disabled]="paginationcbs.has_previous === false"
                          color="primary"
                          (click)="cbsmanualpreviousClick()"
                        >
                          <mat-icon>arrow_back</mat-icon>
                        </button>
                        <b style="align-items: center;margin-top: 9px;"> {{ paginationcbs.index }}</b>
                        <button
                          mat-icon-button
                          [disabled]="paginationcbs.has_next === false"
                          color="primary"
                          (click)="cbsmanualnextClick()"
                        >
                          <mat-icon>arrow_forward</mat-icon>
                        </button>
                      </div> -->
                        </div>

                        <!-- </div> -->
                        <!-- <p>
                    CBS Amount:{{
                      formatNumberWithCommas(cbs_compare_total)
                    }}
                  </p> -->
                      </div>

                    </mat-expansion-panel>
                  </mat-accordion>

                </mat-tab>
              </span>
            </mat-tab-group>
            <div class="row" *ngIf="actionChange">
              <div class="col-md-12 text-right">
                <!-- <button 
                  type="button" 
                  class="btn btn-outline-secondary"
                  (click)="changeSubTab(0)">
                  Back
                </button>
                <button
                  type="button"
                  class="btn btn-outline-secondary"
                  (click)="changeSubTab(1)">
                  Next
                </button> -->
                <!-- <button 
                  type="button" 
                  class="btn btn-outline-primary orders" 
                  (click)="dataSave(1)">
                  Save
                </button> -->
                <button type="button" class="btn btn-outline-success orders" (click)="getRemarks()" data-toggle="modal"
                  data-target="#remarks">
                  Submit
                </button>
                <button type="button" class="btn btn-outline-info orders" (click)="resetcombineDataJWpage()">
                  Entry Table
                </button>
                <button type="button" class="btn btn-outline-primary orders" (click)="closed(1)">
                  Close
                </button>
                <!-- <button *ngIf="action == 4"
                  type="button" 
                  class="btn btn-outline-info orders"  
                  (click)="combineDataGEFU()"
                  data-toggle="modal"
                  data-target="#combineDataGEFU">
                  Combine
                </button> -->
              </div>
            </div>
          </ng-container>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
  <!-- <div> -->

  <!-- <div class="mat-elevation-z5" class="table-row">
        <div style=" margin-left: 4%;">
          <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
              <thead class="table_header">
                <th>S.No</th>
                
                <th>Branch Code</th>
                <th>Entry Gid</th>
                <th>Transaction Date</th>   
                <th>Dr/Cr</th>
                <th>Amount</th>
                <th>Remark</th>
                <th>Entry Crno</th>
                <th>Entry Module</th>
                <th>Tag Number</th>
                <th>Action</th>
                <th>Action Type</th>
              
              </thead>
              <tbody *ngFor="let sum of tabledata; let i=index">
                  <td>{{(pagination.index - 1)*10 +i+1}}</td>
                  
                  <td>{{sum?.fas_branch_code}}</td>
                  <td>{{sum?.fas_entry_gid}}</td>
                  <td>{{sum?.fas_transaction_date}}</td>
                  <td>{{sum?.fas_dr_cr}}</td>
                  <td>{{sum?.fas_amount}}</td>
                  <td>{{sum?.fas_remark}}</td>
                  <td>{{sum?.fas_entry_crno}}</td>
                  <td>{{sum?.fas_entry_module}}</td>
                  <td style="display: flex; justify-content: space-between; gap: 10px">
                    <p>{{sum?.fas_tag_no}}</p>
                    
                        <button  mat-icon-button class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModalCenter" (click)="edittagnumber(sum,4)">
                            <span class="material-icons">create</span>
                             </button>
                    

                  </td>
                  <td>
                    <span >
                        <form [formGroup]="fasaction">
                            <div class="col-sm-2"  >
                                <mat-form-field style="color:black;width: 165px;margin-left: 25px;" appearance="outline" >
                                    <mat-label style="color:black;font-size:small;">Actions</mat-label>
        
                                    <mat-select formControlName="actions" [disabled]="sum?.fas_action !==''">
                                        <mat-option *ngFor="let columns of columnList"
                                            [value]="columns" (click)="actionfasclick(sum,columns)">{{columns.type}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </form> 
                    </span>
                   
                 </td>
                 <td>{{sum?.fas_action}}</td>
                 <td><button (click)="addiconfas(sum)" mat-icon-button class="btn btn-outline-primary">
                    <span class="material-icons">add_circle</span>
                     </button>
                 </td>
              </tbody>
          </table>
        </div>

        <div style="font-size: small;text-align:right;margin-right: 1%;">
          <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary" (click)="fasmanualpreviousClick()">
              <mat-icon>arrow_back</mat-icon>
          </button> {{pagination.index}}
          <button mat-icon-button [disabled]="pagination.has_next === false" color="primary" (click)="fasmanualnextClick()">
              <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
        <div  class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header" style=" background-color: #ddefdd;">
                  <h3 class="modal-title" id="exampleModalLongTitle" style="color: black;font-weight: bold;">Edit Tag Number</h3>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:black;">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="width: 600px;">
               
                <tr>
                   
                    <td>

                        <form [formGroup]="fassearch">
                            <div class="input-container">
                              <span class="readonly-prefix">{{ edit_tag_no }}</span>
                              <input type="text"  formControlName="edittag_number">
                            </div>
                          </form>
                    </td>
                
                </tr>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary"   #closebuttontag data-dismiss="modal" >Close</button>
                  <button type="button" class="btn btn-secondary"  (click)="submittagnumber(1)">Submit</button>
                </div>
              </div>
            </div>
          </div>
      </div> -->
  <!-- <h3 style="margin-left: 28px;font-weight: bold;">CBS Table</h3>
            <form [formGroup]="cbssearch">
                <div class="row">

                    <div class="col-md-2">
                        <mat-form-field style="
                    width: 100%;margin-left: 13%;margin-top: 3%;" appearance="outline">
                            <mat-label>Branch code</mat-label>
                            <input matInput formControlName="cbsbranchcode">
                        </mat-form-field>
                    </div>

                    <div class="col-md-2">
                        <mat-form-field style="
                    width: 100%;margin-left: 18%;margin-top: 3%;" appearance="outline">
                            <mat-label>Date</mat-label>
                            <input matInput formControlName="cbstranactiondate">
                        </mat-form-field>
                    </div>
                    <div class="col-md-2">
                        <mat-form-field appearance="outline"
                            style="color:black;width: 100%;margin-left: 22%;margin-top: 3%;">
                            <mat-label style="color:black;font-size:small;">Select Header</mat-label>
                            <mat-select matInput formControlName="cbscreditdebit">
                                <mat-option *ngFor="let item of cbsmanualheaderlist" [value]="item.name">
                                    {{item.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="col-md-2">
                        <mat-form-field style="
                    width: 100%;margin-left: 26%;margin-top: 3%;" appearance="outline">
                            <mat-label>Values</mat-label>
                            <input matInput formControlName="cbsamount">
                        </mat-form-field>
                    </div>
                    <div class="col-md-2" style="margin-top: 18px;margin-left: 51px;">
                        <button mat-stroked-button type="button" id="buttonsSubmit" aria-label="Search"
                            (click)="cbssearchtable(1)">
                            <mat-icon>search</mat-icon>
                        </button>
                    </div>

                </div>
                <div class="mat-elevation-z5" class="table-row">
                    <div style=" margin-left: 4%;">
                        <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                            <thead class="table_header">
                                <th>S.No</th>
                                <th>Branch Code</th>
                                <th>Date</th>
                                <th>Narration</th>
                                <th>Dr/Cr</th>
                                <th> Amount</th>

                                <th>Tag Number</th>
                                <th>Action</th>
                                <th>Action Type</th>

                            </thead>
                            <tbody *ngFor="let sum of cbstabledata; let i=index">
                                <td>{{(paginationcbs.index - 1)*10 +i+1}}</td>
                                <td>{{sum?.cbs_branch_code}}</td>
                                <td>{{sum?.cbs_transaction_date}}</td>
                                <td>{{sum?.cbs_narration}}</td>
                                <td>{{sum?.cbs_dr_cr}}</td>
                                <td>{{sum?.cbs_amount}}</td>

                                <td style="display: flex; justify-content: space-between; gap: 10px">
                                    <p>{{sum?.cbs_tag_no}} </p>

                                    <button mat-icon-button class="btn btn-outline-primary" data-toggle="modal"
                                        data-target="#exampleModalCentercbs" (click)="editcbstagnumber(sum,5)">
                                        <span class="material-icons">create</span>
                                    </button>

                                </td>
                                <td>
                                    <span>
                                        <form [formGroup]="cbsaction">
                                            <div class="col-sm-2">
                                                <mat-form-field
                                                    style="color:black;width: 165px;margin-left: 25px;"
                                                    appearance="outline">
                                                    <mat-label
                                                        style="color:black;font-size:small;">Actions</mat-label>

                                                    <mat-select formControlName="actions"
                                                        [disabled]="sum?.cbs_action !==''">
                                                        <mat-option *ngFor="let columns of columnList"
                                                            [value]="columns"
                                                            (click)="actioncbsclick(sum,columns)">{{columns.type}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </form>
                                    </span>

                                </td>
                                <td>{{sum?.cbs_action}}</td>
                                <td><button (click)="addiconcbs(sum)" mat-icon-button
                                        class="btn btn-outline-primary">
                                        <span class="material-icons">add_circle</span>
                                    </button>
                                </td>

                            </tbody>
                        </table>
                    </div>

                    <div style="font-size: small;text-align:right;margin-right: 1%;">
                        <button mat-icon-button [disabled]="paginationcbs.has_previous === false"
                            color="primary" (click)="cbsmanualpreviousClick()">
                            <mat-icon>arrow_back</mat-icon>
                        </button> {{paginationcbs.index}}
                        <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                            (click)="cbsmanualnextClick()">
                            <mat-icon>arrow_forward</mat-icon>
                        </button>
                    </div>
                    <div class="modal fade" id="exampleModalCentercbs" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header" style=" background-color: #ddefdd;">
                                    <h3 class="modal-title" id="exampleModalLongTitle"
                                        style="color: black;font-weight: bold;">Edit Tag Number</h3>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                        style="color:black;">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body" style="width: 600px;">

                                    <tr>

                                        <td>
                                            <form [formGroup]="fassearch">
                                                <div class="input-container">
                                                    <span class="readonly-prefix">{{ edit_tag_no }}</span>
                                                    <input type="text" formControlName="edittag_number">
                                                </div>
                                            </form>
                                        </td>

                                    </tr>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-secondary" #closebuttontag
                                        (click)="submittagnumber(1)">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form> -->
  <!-- <div class="mat-elevation-z5" class="table-row">
        <div style=" margin-left: 4%;">
          <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
              <thead class="table_header">
                <th>S.No</th>
                <th>Branch Code</th>
                <th>Date</th>
                <th>Narration</th>
                <th>Dr/Cr</th>   
                <th> Amount</th>
              
                <th>Tag Number</th>
                <th>Action</th>
                <th>Action Type</th>
                
              </thead>
              <tbody *ngFor="let sum of cbstabledata; let i=index">
                  <td>{{(paginationcbs.index - 1)*10 +i+1}}</td>
                  <td>{{sum?.cbs_branch_code}}</td>
                  <td>{{sum?.cbs_transaction_date}}</td>
                  <td>{{sum?.cbs_narration}}</td>
                  <td>{{sum?.cbs_dr_cr}}</td>
                  <td>{{sum?.cbs_amount}}</td>
                 
                  <td style="display: flex; justify-content: space-between; gap: 10px"> 
                    <p>{{sum?.cbs_tag_no}} </p>
                    
                        <button  mat-icon-button class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModalCentercbs" (click)="editcbstagnumber(sum,5)">
                            <span class="material-icons">create</span>
                             </button>
                   
                  </td>
                  <td>
                    <span>
                        <form [formGroup]="cbsaction">
                            <div class="col-sm-2">
                                <mat-form-field style="color:black;width: 165px;margin-left: 25px;" appearance="outline">
                                    <mat-label style="color:black;font-size:small;">Actions</mat-label>
        
                                    <mat-select formControlName="actions" [disabled]="sum?.cbs_action !==''">
                                        <mat-option *ngFor="let columns of columnList"
                                            [value]="columns" (click)="actioncbsclick(sum,columns)">{{columns.type}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </form> 
                    </span>
                   
                 </td>
                 <td>{{sum?.cbs_action}}</td>
                 <td><button (click)="addiconcbs(sum)" mat-icon-button class="btn btn-outline-primary">
                    <span class="material-icons">add_circle</span>
                     </button>
                 </td>
                 
              </tbody>
          </table>
        </div>

        <div style="font-size: small;text-align:right;margin-right: 1%;">
          <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary" (click)="cbsmanualpreviousClick()">
              <mat-icon>arrow_back</mat-icon>
          </button> {{paginationcbs.index}}
          <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary" (click)="cbsmanualnextClick()">
              <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
        <div  class="modal fade" id="exampleModalCentercbs" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header" style=" background-color: #ddefdd;">
                  <h3 class="modal-title" id="exampleModalLongTitle" style="color: black;font-weight: bold;">Edit Tag Number</h3>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:black;">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="width: 600px;">
               
                <tr>
                   
                    <td>
                        <form [formGroup]="fassearch">
                            <div class="input-container" >
                              <span class="readonly-prefix">{{ edit_tag_no }}</span>
                              <input type="text" formControlName="edittag_number">
                            </div>
                          </form>
                    </td>
                
                </tr>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal" >Close</button>
                  <button type="button" class="btn btn-secondary"   #closebuttontag  (click)="submittagnumber(1)" >Submit</button>
                </div>
              </div>
            </div>
          </div>
      </div> -->
  <!-- <div class="row">
            <button
              class="btn btn-outline-info"
              style="border-radius: 25px; font-size: small"
              (click)="changeTab(0)"
            >
              Back
            </button>
            <button
              class="btn btn-outline-info"
              style="border-radius: 25px; font-size: small"
              (click)="savemanualmatch(1)"
            >
              Submit
            </button>
            <button
              class="btn btn-outline-info"
              style="border-radius: 25px; font-size: small"
              (click)="compareamount(1)"
            >
              Compare
            </button>
          </div> -->
  <!-- <div style="margin-left: 91%;">
            <button class="btn btn-outline-info"
                style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: -137px;"
                (click)="changeTab(0)">Back</button>
            <button class="btn btn-outline-info"
                style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: 10px;"
                (click)="savemanualmatch(1)">Submit</button>
            <button class="btn btn-outline-info"
                style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: 10px;"
                (click)="compareamount(1)">Compare</button>
        </div> -->

  <div *ngIf="mainpage" class="p-4 ars-homeScreen">
    <mat-accordion>
      <mat-expansion-panel #getdatapanel [expanded]="true">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-size: 15px;font-weight: 500;">
            ARS
          </mat-panel-title>

        </mat-expansion-panel-header>
        <form [formGroup]="brsconcile">
          <div class="search-auto-fit ">
            <div id="matInput-size">
              <lib-vs-dynamicform-cmp [InputFields]="inttype" (dataEvent)="inttypeselect($event)"
              [ResetForm]="resetintegritytype"></lib-vs-dynamicform-cmp>
            </div>
            <div id="matInput-size">
              <mat-form-field appearance="outline" class="custom-height">
                <mat-label>Select Date</mat-label>
                <input matInput required [matDatepicker]="picker23" placeholder="Date" autocomplete="off"
                  formControlName="date" (dateChange)="checkIntegritys()" />
  
                <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker23">
                </mat-datepicker-toggle>
                <mat-datepicker #picker23 [dateClass]="dateClass"></mat-datepicker>
              </mat-form-field>
            </div>
            <div id="matInput-size">
              <lib-vs-depdropdown-cmp  [ParentObj]="searchvar"
              (dataEventParent)="getglcodeid($event)" (dataEventChild)="selectBranch($event)" [ResetForm]="resetForm"
              [ChildObj]="searchvar1">
            </lib-vs-depdropdown-cmp>
          </div>
            <div id="matInput-size"> 
              <lib-vs-dynamicform-cmp  [InputFields]="statuslists"
              (dataEvent)="selectStatus($event)" [ResetForm]="resetFormstatus">
            </lib-vs-dynamicform-cmp>
          </div>
          <div id="matInput-size"> 
            <lib-vs-dynamicform-cmp  [InputFields]="arsAmount"
            (dataEvent)="selectAmount($event)" [formGroup]="brsconcile">
          </lib-vs-dynamicform-cmp>
        </div>
        <div id="matInput-size"> 
          <lib-vs-dynamicform-cmp  [InputFields]="arsAmountconditions"
          (dataEvent)="selectcondition($event)" [formGroup]="brsconcile">
        </lib-vs-dynamicform-cmp>
      </div>
        <div  id="matInput-size">

          <mat-form-field appearance="outline"  >
            <mat-label>Amount</mat-label>
          <input matInput type="text" formControlName="amount"  />
          </mat-form-field>

        </div>
          </div>

          <div class="search-auto-fit">
           
            <div>
              <button class="btn btn-outline-info" style="border-radius: 50px;" (click)="adddocument(1)">
                Get Data
              </button>
              <button class="btn btn-outline-secondary" (click)="reset()"
                style="margin-left:10px;border-radius: 50px;">
                Reset
              </button>
      
              <button mat-stroked-button [matMenuTriggerFor]="menu" style="border-radius: 50px;margin-left: 10px;"
                class="reportbutton">
                Reports Download
                <mat-icon>arrow_drop_down</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item *ngFor="let x of reportlist1" (click)="frontpagereport(x.id)">
                  {{ x.name }}
                </button>
              </mat-menu>
            </div>

          </div>


          <div>

          </div>

        </form>
        <div style="margin-top: 20px;">
          <form [formGroup]="fileform">
            <div class="filter-align">
              <span id="matInput">
                <lib-vs-dynamicform-cmp [InputFields]="temp_field"
                  (dataEvent)="tempdatasss($event)"></lib-vs-dynamicform-cmp>
              </span>

              <label class="custom-file-upload" style="border-radius: 50px;margin-top: -15px;">
                <input type="file" (change)="wisefinfileupload($event)" formControlName="file_fas_upload"
                  style="display: none;">
                <i class="fa fa-cloud-upload"></i>FAS Excel Upload
              </label>
              <span *ngIf="fas_file_name" class="file-details" style="margin-top: -15px;">
                <span class="file-name">{{ fas_file_name }}</span>
                <mat-icon type="button" class="delete-file-btn" (click)="deleteFilefas()">delete</mat-icon>
              </span>

              <label class="custom-file-upload custom-file-upload-cbs" style="border-radius: 50px;margin-top: -15px;">
                <input type="file" (change)="cbsfileupload($event)" formControlName="file_cbs_upload"
                  style="display: none;">
                <i class="fa fa-cloud-upload"></i>CBS Excel Upload
              </label>
              <span *ngIf="cbs_file_name" class="file-details" style="margin-top: -15px;">
                <span class="file-name">{{ cbs_file_name }}</span>
                <mat-icon type="button" class="delete-file-btn" (click)="deletecbsFile()">delete</mat-icon>
              </span>

              <button class="btn btn-outline-success" (click)="clicktoupload()"
                style="border-radius: 50px;margin-top: -15px;">Upload</button>
              <button class="btn btn-outline-info" (click)="viewsummary()" style="border-radius: 50px;margin-top: -15px;">View Data</button>
            </div>
          </form>
        </div>


      </mat-expansion-panel>

    </mat-accordion>

    <!-- <div class="btn-container">
      <div class="btn-common btn btn-outline-success" (click)="reportdownload(1)">
        <p>Pass Wisefin JW Report</p>
        <button type="button" matTooltip="Download JW Report">
          <span class="fa fa-download" > </span>
        </button>
      </div>
      <div class="btn-common btn btn-outline-success" (click)="reportdownload(2)">
        <p>Pass GEFU Report</p>
        <button type="button" matTooltip="Download GEFU Report">
          <span class="fa fa-download" > </span>
        </button>
      </div>
      <div class="btn-common btn btn-outline-success" (click)="reportdownload(3)">
        <p>Tag Number Report</p>
        <button type="button" matTooltip="Download GEFU Report">
          <span class="fa fa-download" > </span>
        </button>
      </div>
      <div class="btn-common btn btn-outline-info" (click)="reportdownloadUnmatch()">
        <p>ARS Summary Report</p>
        <button type="button" matTooltip="Download Report">
          <span class="fa fa-download" >
          </span>
        </button>
      </div>
    </div> -->

    <div class="tab-card">
      <mat-tab-group (selectedTabChange)="summaryTab($event, 1)" [(selectedIndex)]="selectedTabIndex">
        <mat-tab label="Summary Table" id="1">

          <div class="common-tab">
            <div *ngIf="summarytable_count">
              <span style="font-size: 15px;font-weight: 600;">Summary Count :</span>
              <span class="badge-btn" style="margin-left: 5px;">{{summarytable_count}}</span>
              <span style="margin-left: 20px;">
                <button class="btn btn-outline-info"(click)='openglcountpopup()' style="border-radius: 50px;">GL Count</button>
              </span>
            </div>
            <div style="margin-top: 20px;" class="table-container">
              <table class="table table-bordered mat-elevation-z8" style="text-align: center;">
                <thead class="table_header">
                  <th>S.No</th>
                  <th>Branch</th>
                  <th>GL AccNo</th>
                  <th>FAS Balance</th>
                  <th>CBS Balance</th>
                  <th>Difference</th>
                  <!-- <th>Tag No</th> -->
                  <th>ARS Status</th>
                  <th>Action</th>
                  <th>Select All <mat-checkbox style="margin-left: 2px;"(change)='summarytableselectall($event)' [formControl]="summarytabselectall"></mat-checkbox></th>
                </thead>
                <tbody *ngFor="let sum of summarydatalist; let i = index">
                  <td>{{ (paginationsum.index - 1) * summarypagesize + i + 1 }}</td>
                  <td>{{ sum?.kd_branchcode }}</td>
                  <td>{{ sum?.kd_accountno }}</td>
                  <td>
                    {{ formatNumberWithCommas(sum?.kd_runningbalancegl) }}
                  </td>
                  <td>
                    {{ formatNumberWithCommas(sum?.kd_running_balance_bs) }}
                  </td>
                  <td>
                    {{ formatNumberWithCommas(sum?.kd_differenceamount) }}
                  </td>
                  <!-- <td>{{ sum?.tag_no }}</td> -->
                  <td>{{ sum?.ars_status }}</td>
                  <td>
                    <mat-icon class="actionview" (click)="viewfascbstable(sum, 1)">keyboard_backspace
                    </mat-icon>
                  </td>
                  <td>
                    <mat-checkbox [checked]="sum.checked" (change)='summarytableselect($event,sum)' [disabled]="sum.ars_status!=='Pending'"></mat-checkbox>
                  </td>
                </tbody>
              </table>
            </div>
            <div *ngIf="summarydatalist.length===0" style="text-align: center;">
              Sorry Data not found !...
            </div>
          </div>
          <section class="layoutremark">
            <div style="margin-left: 25px;"> 
              <span>
              <mat-form-field>
                <mat-label>Remarks</mat-label>
                <input matInput [formControl]="sumamrytableremarks">
              </mat-form-field>
            </span>
          </div>
            <div style="margin-top: 2px;">
              <span>
              <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="summarytablesubmit()">Submit</button>
                          </span>
                        </div>
            <div class="marginLeft"> <span class="pagination-container">
              <span>
                <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="passentrysummarytable()">Pass Entry</button>
              </span>
              <span class="items-per-page">
                Items per page:
                <!-- <mat-form-field style="width: 45px;">
                  <mat-select [formControl]="summarytableform">
                    <mat-option *ngFor="let x of pagearray" [value]="x" (click)="summarypageselection(x)">
                      {{ x }}
                    </mat-option>
                  </mat-select>
                </mat-form-field> -->
                <mat-form-field style="width: 45px;">
                  <input matInput [formControl]="summarytableform" type="number" (input)="getsummarypagelimit($event)">
                </mat-form-field>
              </span>
  
              <div class="pagination-controls">
                <button mat-icon-button [disabled]="paginationsum.has_previous === false" color="primary"
                  (click)="summaryprevious()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                {{ paginationsum.index }}
                <button mat-icon-button [disabled]="paginationsum.has_next === false" color="primary"
                  (click)="summarynext()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </span></div>
          </section>

          
          <!-- <div class="pagination-div">
            <button
              mat-icon-button
              [disabled]="paginationsum.has_previous === false"
              color="primary"
              (click)="summaryprevious()"
            >
              <mat-icon>arrow_back</mat-icon>
            </button>
            {{ paginationsum.index }}
            <button
              mat-icon-button
              [disabled]="paginationsum.has_next === false"
              color="primary"
              (click)="summarynext()"
            >
              <mat-icon>arrow_forward</mat-icon>
            </button>
          </div> -->
        </mat-tab>

        <mat-tab label="History Table" id="2">
          <div class="two-table common-tab">
            <div class="common-table">
              <h3>FAS Table</h3>
              <div>
                <table class="table table-bordered" id="boxlevel">
                  <thead class="table_header">
                    <th>S.No</th>
                    <th>Branch Code</th>
                    <th>Entry Gid</th>
                    <th>Transaction Date</th>
                    <th>Remark</th>
                    <th>Entry Crno</th>
                    <th>Entry Module</th>
                    <th>Dr/Cr</th>
                    <th>Amount</th>
                    <th>Action</th>
                    <!-- <th>Compare</th> -->
                    <th>Tag Number</th>
                    <!-- <th *ngIf="actionChange">Select</th> -->

                    <!-- <th>Action Type</th> -->
                  </thead>
                  <tbody>
                    <tr *ngFor="let sum of tabledata; let i = index">
                      <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                      <td (click)="
                          getfassearch(sum?.fas_branch_code, 'Branch Code')
                        " class="pointer">
                        {{ sum?.fas_branch_code }}
                      </td>
                      <td (click)="getfassearch(sum?.fas_entry_gid, 'Entry Gid')" class="pointer">
                        {{ sum?.fas_entry_gid }}
                      </td>
                      <td (click)="
                          getfassearch(sum?.fas_transaction_date, 'Branch date')
                        " class="pointer">
                        {{ sum?.fas_transaction_date }}
                      </td>
                      <td (click)="getfassearch(sum?.fas_remark, 'Remark')" class="pointer">
                        {{ sum?.fas_remark }}
                      </td>
                      <td (click)="
                          getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                        " class="pointer">
                        {{ sum?.fas_entry_crno }}
                      </td>
                      <td (click)="
                          getfassearch(sum?.fas_entry_module, 'Entry Module')
                        " class="pointer">
                        {{ sum?.fas_entry_module }}
                      </td>
                      <td (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')" class="pointer">
                        {{ sum?.fas_dr_cr }}
                      </td>
                      <td (click)="getfassearch(sum?.fas_amount, 'Amount')" class="pointer" style="text-align: right">
                        {{ formatNumberWithCommas(sum?.fas_amount) }}
                      </td>

                      <td>
                        {{ sum?.fas_action }}
                      </td>

                      <td>
                        {{ sum?.fas_tag_no }}
                      </td>
                      <!-- <td *ngIf="actionChange" class="text-center">
                         <mat-checkbox class="jwcheck" mat-primary
                      (change)="isChecked(sum,$event,1)"
                      [checked]="checkedItems.includes(sum?.id) || sum?.fas_tag_no.length == 13"
                      [disabled]="sum?.fas_tag_no.length == 13"></mat-checkbox>
                          </td> -->
                    </tr>
                    <tr *ngIf="tabledata?.length == 0">
                      <td colspan="5" class="text-center">
                        No Records Found..!
                      </td>
                    </tr>
                  </tbody>
                  <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
                </table>
              </div>
              <div class="pagination-div">
                <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary"
                  (click)="fasmanualpreviousClick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                {{ pagination.index }}
                <button mat-icon-button [disabled]="pagination.has_next === false" color="primary"
                  (click)="fasmanualnextClick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>

            <div class="common-table">
              <h3>CBS Table</h3>
              <div>
                <table class="table table-bordered" id="boxlevel">
                  <thead class="table_header">
                    <tr>
                      <th>S.No</th>
                      <th>Branch Code</th>
                      <th>Date</th>
                      <th>Narration</th>
                      <th>Dr/Cr</th>
                      <th>Amount</th>
                      <th>Action</th>
                      <!-- <th>Compare</th> -->
                      <th>Tag Number</th>
                      <!-- <th>Action Type</th> -->
                      <!-- <th *ngIf="actionChange">
                    Select
                  </th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let sum of cbstabledata; let i = index">
                      <td>
                        {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                      </td>
                      <td (click)="
                          getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                        " class="pointer">
                        {{ sum?.cbs_branch_code }}
                      </td>
                      <td (click)="
                          getcbssearch(sum?.cbs_transaction_date, 'Branch date')
                        ">
                        {{ sum?.cbs_transaction_date }}
                      </td>
                      <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
                      <!-- <td>{{sum?.cbs_narration}}</td> -->

                      <!-- <td>{{sum?.cbs_branch_code}}</td> -->
                      <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
                      <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
                      <!-- <td>{{sum?.cbs_amount}}</td> -->

                      <td (click)="getcbssearch(sum?.cbs_narration, 'Narration')" class="pointer">
                        {{ sum?.cbs_narration }}
                      </td>
                      <td (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')" class="pointer">
                        {{ sum?.cbs_dr_cr }}
                      </td>
                      <td (click)="getcbssearch(sum?.cbs_amount, 'Amount')" class="pointer" style="text-align: right">
                        {{ formatNumberWithCommas(sum?.cbs_amount) }}
                      </td>
                      <td>
                        {{ sum?.cbs_action }}
                      </td>

                      <!-- <td>{{sum?.cbs_action}}</td> -->
                      <!-- <td *ngIf="sum?.cbs_action === ''">
                    <button
                      (click)="addiconcbs(sum)"
                      mat-icon-button
                      class="btn btn-outline-primary"
                      [disabled]="sum.isCompareClicked"
                    >
                      <span class="material-icons">add_circle</span>
                    </button>
                  </td> -->
                      <td>
                        {{ sum?.cbs_tag_no }}
                      </td>
                      <!-- <td *ngIf="actionChange" class="text-center">
                    <mat-checkbox mat-primary
                      class="gefucheck" 
                      (change)="isChecked(sum, $event,2)" 
                      [checked]="checkedItems.includes(sum?.id) || sum?.cbs_tag_no.length == 13"
                      [disabled]="sum?.cbs_tag_no.length == 13"></mat-checkbox>
                  </td> -->
                    </tr>
                    <tr *ngIf="cbstabledata?.length == 0">
                      <td colspan="4" class="text-center">
                        No Records Found..!
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="pagination-div">
                <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary"
                  (click)="cbsmanualpreviousClick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                {{ paginationcbs.index }}
                <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                  (click)="cbsmanualnextClick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
  <!-- </div> -->
  <!-- <p>
            FAS Amount:{{
              formatNumberWithCommas(fas_compare_total)
            }}
          </p> -->
  <!-- <h3 style="margin-top: 25px; font-weight: bold; margin-left: 2%">
           </h3> -->
  <!-- </div> -->
  <!-- <p>
            CBS Amount:{{
              formatNumberWithCommas(cbs_compare_total)
            }}
          </p> -->
  <!-- <div style="margin-left: 91%;">
              <button class="btn btn-outline-info" style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: -35px;" (click)="getbacktomain()">Back</button>
              
            </div> -->

  <!-- <div class="col-md-3">
                        <mat-form-field appearance="outline" style="width: 70%;margin-top: 3%;    margin-left: -17%;">
                            <mat-label>To Date</mat-label>
                            <input matInput readonly [matDatepicker]="picker31" placeholder="Date" autocomplete="off"
                                formControlName="todate">
                            <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker31">
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker31></mat-datepicker>
                        </mat-form-field>
                    </div> -->

  <!-- <mat-form-field
              appearance="outline"
              style="
                color: black;
                width: 100%;
                margin-left: -15%;
                margin-top: 3%;
              "
            >
              <mat-label style="color: black; font-size: small"
                >Account/GL</mat-label>

              <mat-select matInput formControlName="account_id">
                <mat-option
                  *ngFor="let item of integritydata"
                  [value]="item"
                  (click)="getglcodeid(item)"
                >
                  {{ item.gl_code }}
                </mat-option>
              </mat-select>
            </mat-form-field>
             -->
  <!-- <lib-vs-dynamicform-cmp
                [InputFields]="searchvar"
                (dataEvent)="getglcodeid($event)" 
                [ResetForm]="resetForm"
                >
            </lib-vs-dynamicform-cmp> -->

  <!-- <div class="col-md-2 accgl"> -->
  <!-- <mat-form-field
              style="width: 100%; margin-left: -11%; margin-top: 3%"
              appearance="outline"
              (click)="branchslist()"
            >
              <mat-label>Branch Code</mat-label>
              <mat-select matInput formControlName="branch">
                <mat-option
                  *ngFor="let branch of branchlist"
                  [value]="branch"
                  (click)="selectBranch(branch)"
                >
                  {{ branch.branch }}
                </mat-option>
              </mat-select>
            </mat-form-field> -->
  <!-- <lib-vs-dynamicform-cmp
                class="branch"
                [InputFields]="searchvar1"
                (dataEvent)="selectBranch($event)" [ResetForm]="resetFormdata" 
                >
            </lib-vs-dynamicform-cmp> -->
  <!-- </div> -->

  <!-- <mat-form-field
              style="width: 100%; margin-left: -20%; margin-top: 6.5%"
              appearance="outline"
            >
              <mat-label>ARS Status</mat-label>
              <mat-select formControlName="status" #select [(value)]="selectedStatus">
                <mat-option
                  *ngFor="let obj of statusList"
                  [value]="obj.id"
                  >{{ obj.value }}</mat-option>
              </mat-select>
              <button mat-button *ngIf="selectedStatus" matSuffix mat-icon-button aria-label="Clear" (click)="clearSelection()">
                <mat-icon class="clear-icon">close</mat-icon>
              </button>
            </mat-form-field> -->

  <!-- <div class="row"> -->
  <!-- </div> -->
  <!-- <div class="row"> -->
  <!-- </div> -->
  <!-- <div class="row">
          <div class="col-md-4">
            <button
              class="btn btn-outline-info getdata"
              (click)="adddocument(1)">
              Get Data
            </button>
            <button
            class="btn btn-outline-secondary reset"
            (click)="reset()"
          >
            Reset
          </button>
          </div>
        </div> -->

  <mat-card style="margin-bottom: 2%" *ngIf="displayactionK">
    <mat-card-header>
      <mat-card-title style="font-size: smaller">ACTION KNOCKOFF
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="actionKnock">
        <div class="row">
          <div class="col-sm-2">
            <mat-form-field style="color: black; width: 165px; margin-left: 25px" appearance="outline">
              <mat-label style="color: black; font-size: small">Actions</mat-label>

              <mat-select formControlName="actions" #select>
                <mat-option *ngFor="let columns of columnList" [value]="columns.id">{{ columns.type }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <!-- <div class="col-sm-2">
                        <mat-form-field class="example-form-field" style="margin-left: 18%;">
                            <mat-label>Action Ref No</mat-label>
                            <input matInput type="text" formControlName="arn">
                        </mat-form-field>
                    </div> -->
          <div class="col-sm-3">
            <mat-form-field style="color: black; margin-left: 5px" appearance="outline">
              <mat-label style="color: black">Action Ref Date</mat-label>
              <input matInput readonly [matDatepicker]="picker10" placeholder="ARN Date" autocomplete="off"
                formControlName="arn_date" />
              <mat-datepicker-toggle matSuffix [for]="picker10"></mat-datepicker-toggle>
              <mat-datepicker #picker10></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-sm-3">
            <mat-form-field appearance="outline">
              <textarea matInput placeholder="Comment" formControlName="description">
              </textarea>
            </mat-form-field>
          </div>
          <div class="col-sm-2">
            <button class="btn btn-outline-success" style="
                font-size: smaller;
                margin-left: 20px;
                border-radius: 25px;
                margin-top: 10%;
              " id="autobtn" (click)="newAction()">
              SUBMIT
            </button>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

  <!-- <div class="row" *ngIf="displaybuttonss" style="text-align:center;">
        <br>

        <mat-button-toggle-group name="chooseSystem" aria-label="Choose System"
            style="margin-left:6%;font-size: 13px;border-radius: 25px;height: 34px;" [ngModel]="selectedVal">
            <mat-button-toggle value="brs" (click)="showbrs()" style="font-size:smaller;">Mirror</mat-button-toggle>
            <mat-button-toggle value="inter" (click)="showinter()" style="font-size:smaller ;">CC</mat-button-toggle>
        </mat-button-toggle-group>
        <button class="btn btn-outline-success"
            style="font-size:smaller; margin-left: 20px;border-radius: 25px;height: 34px; " id="autobtn"
            (click)="autoknockoff()">Auto Knockoff</button>

        <button class="btn btn-outline-success"
            style="margin-left:25px;font-size: 13px;border-radius: 25px;height: 34px;" id="manualbtn"
            (click)="manualknockoff()">Manual Knockoff</button>
        <button class="btn btn-outline-warning"
            style="margin-left:25px;font-size: 13px;border-radius: 25px;height: 34px;" id="actionbtn"
            (click)="actionknockoff()">Action
            Knockoff</button>
        <button class="btn btn-outline-success"
            style="margin-left:25px;font-size: 13px;border-radius: 25px;height: 34px;" id="historybtn"
            (click)="showHistory()">Knockoff
            History</button>
        <button class="btn btn-outline-success"
            style="margin-left:20px;font-size: 13px;border-radius: 25px;height: 34px;" (click)="purgeHistory()">Purge
            History</button>


    </div> -->

  <br />
  <br />
</main>

<div *ngIf="showknockofftable" style="margin-top: -7%">
  <mat-accordion class="autoknockss">
    <mat-expansion-panel [expanded]="isExpanded">
      <mat-expansion-panel-header>
        <mat-panel-title>Autoknock Off</mat-panel-title>
      </mat-expansion-panel-header>
      <!-- <mat-panel-description>
                Total Count: {{dataArrays?.length }}
            </mat-panel-description> -->
      <div class="row">
        <div class="col">
          <mat-form-field appearance="standard" class="full-width" style="margin-top: -6%">
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Amount" #input />
          </mat-form-field>
        </div>
        <div class="col">
          <div>
            <p>Total Count: {{ dataArrays?.length }}</p>
            <!-- <p *ngIf="schedulerstat == 0" style="font-size:large ;">COMPLETED
                            <mat-progress-bar mode="determinate" value="100%" color="warn"></mat-progress-bar>   
                        </p>
                        <p *ngIf="schedulerstat == 1">PROCESSING
                            <mat-progress-bar mode="indeterminate"   ></mat-progress-bar> 
                        </p> -->
            <!-- <p *ngIf="schedulerstat == 2">Intiated
                            <mat-progress-bar mode="indeterminate"></mat-progress-bar> 
                        </p>
                        <p *ngIf="schedulerstat == 3">Processing
                            <mat-progress-bar mode="indeterminate"></mat-progress-bar> 
                        </p>
                        <p *ngIf="schedulerstat == 4">Error
                            <mat-progress-bar mode="determinate" value="100%" color="warn"></mat-progress-bar> 
                        </p>
                        <p *ngIf="schedulerstat == 5">Completed
                            <mat-progress-bar mode="determinate" value="100%"></mat-progress-bar> 
                        </p> -->
          </div>
          <!-- <form class="date-block" [formGroup]="filterForm">
                        <div class="date-block__list">
                            <mat-form-field>
                                <input matInput [matDatepicker]="fromDate" placeholder="From Date"
                                    formControlName="fromDate">
                                <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
                                <mat-datepicker #fromDate></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="date-block__list">
                            <mat-form-field>
                                <input matInput [matDatepicker]="toDate" placeholder="To Date" formControlName="toDate">
                                <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
                                <mat-datepicker #toDate></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <button mat-button color="primary" class="primary"
                            (click)="getDateRange(filterForm.value)">Submit</button>
                    </form> -->
        </div>
      </div>

      <div class="mat-elevation-z5">
        <table mat-table [dataSource]="newDataSource" matSort #matSorts="matSort">
          <ng-container matColumnDef="gl_date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="width: 75px; font-size: medium; font-weight: bold">
              GL Date
            </th>
            <td mat-cell *matCellDef="let element" class="left-text">
              {{ element.gl_date | date : "dd-MM-yyyy" }}
            </td>
          </ng-container>
          <ng-container matColumnDef="branch_code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="width: 110px; font-size: small; font-weight: bold">
              Branch Code
            </th>
            <td mat-cell *matCellDef="let element" class="left-text">
              {{ element.branch_code }}
            </td>
          </ng-container>

          <ng-container matColumnDef="line_description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-size: medium; font-weight: bold">
              Line Description
            </th>
            <td mat-cell *matCellDef="let element" class="left-text">
              {{ element.line_description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="gl_doc_no">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="font-size: medium; font-weight: bold; width: 80px">
              GID
            </th>
            <td mat-cell *matCellDef="let element" class="left-text">
              {{ element.gl_doc_no }}
            </td>
          </ng-container>

          <ng-container matColumnDef="debit_amount_ledger">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="font-size: medium; font-weight: bold; width: 85px">
              Debit
            </th>
            <td mat-cell *matCellDef="let element" class="right-text">
              {{
              element.debit_amount_ledger
              | currency : "INR" : "symbol" : "0.2-6"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="credit_amount_ledger">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="font-size: medium; font-weight: bold; width: 85px">
              Credit
            </th>
            <td mat-cell *matCellDef="let element" class="right-text">
              {{
              element.credit_amount_ledger
              | currency : "INR" : "symbol" : "0.2-6"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="font-size: medium; font-weight: bold; padding-left: 16px">
              Description
            </th>
            <td mat-cell *matCellDef="let element" class="left-text" style="padding-left: 16px">
              {{ element.description }}
            </td>
          </ng-container>
          <ng-container matColumnDef="transaction_date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-size: medium; font-weight: bold">
              Date
            </th>
            <td mat-cell *matCellDef="let element" class="left-text">
              {{ element.transaction_date | date : "dd-MM-yyyy" }}
            </td>
          </ng-container>
          <ng-container matColumnDef="credit_amount_statement">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="font-size: medium; font-weight: bold; width: 85px">
              Credit
            </th>
            <td mat-cell *matCellDef="let element" class="right-text">
              {{
              element.credit_amount_statement
              | currency : "INR" : "symbol" : "0.2-6"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="debit_amount_statement">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="font-size: medium; font-weight: bold; width: 85px">
              Debit
            </th>
            <td mat-cell *matCellDef="let element" class="right-text">
              {{
              element.debit_amount_statement
              | currency : "INR" : "symbol" : "0.2-6"
              }}
            </td>
          </ng-container>

          <ng-container matColumnDef="ref_1">
            <th mat-header-cell *matHeaderCellDef mat-sort-header
              style="font-size: medium; font-weight: bold; width: 70px">
              REF 1
            </th>
            <td mat-cell *matCellDef="let element" class="left-text" style="color: #ff597b; padding-left: 0px">
              {{ element.ref_1 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox (change)="$event ? toggleAllRows() : null"
                [checked]="selection.hasValue() && isAllSelected()"
                [indeterminate]="selection.hasValue() && !isAllSelected()">
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row" style="padding-left: 15px; padding-right: 12px">
              <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                [checked]="selection.isSelected(row)">
              </mat-checkbox>
            </td>
          </ng-container>

          <ng-container matColumnDef="header-row-first-group">
            <th mat-header-cell *matHeaderCellDef [attr.colspan]="1">MATCH</th>
          </ng-container>
          <ng-container matColumnDef="header-row-second-group">
            <th mat-header-cell *matHeaderCellDef [attr.colspan]="5">FAS</th>
          </ng-container>
          <ng-container matColumnDef="header-row-third-group">
            <th mat-header-cell *matHeaderCellDef [attr.colspan]="5">CBS</th>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="[
              'header-row-first-group',
              'header-row-second-group',
              'header-row-third-group'
            ]"></tr>
          <tr mat-header-row *matHeaderRowDef="displayedCoulmnsA"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedCoulmnsA"></tr>
        </table>
        <mat-paginator #pageCol3="matPaginator" [pageSize]="10" [pageSizeOptions]="[10, 25, 50, 100]"
          showFirstLastButtons></mat-paginator>
      </div>

      <section *ngIf="confirmbutton" style="text-align: center; margin-top: 15px">
        <!-- <button type="button" class="btn" (click)="downloadAuto()" style="margin-right:25px ;">Download Autoknockoff
                    Data</button> -->

        <button class="btn btn-outline-success" id="rmubtn" (click)="confirmsknockoff()" style="border-radius: 25px">
          Confirm Autoknockoff
        </button>

        <button class="btn btn-outline-warning" id="rmubtn" style="margin-left: 25px; border-radius: 25px"
          (click)="backtoHome()">
          Back
        </button>
        <!-- <button type="button" class="btn" (click)="gotoBack()" style="margin-left:25px ;">Back</button> -->
      </section>
    </mat-expansion-panel>
  </mat-accordion>
</div>

<div id="filtermodal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Add Filters</h2>
        <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="wisefinUpload">
          <table>
            <tr>
              <td>
                <mat-form-field style="width: 175px">
                  <mat-label>Filter Column Name</mat-label>
                  <input matInput placeholder="filter column" name="fColumnName" formControlName="fColumnName"
                    autocomplete="off" />
                </mat-form-field>
              </td>
              <td>
                <mat-form-field style="width: 175px; margin-left: 0px">
                  <mat-label>Filter Column Value</mat-label>
                  <input matInput placeholder="filter value" name="fColumnValue" type="number"
                    formControlName="fColumnValue" autocomplete="off" />
                </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>
                <mat-form-field style="width: 175px">
                  <mat-label>Filter Column Name</mat-label>
                  <input matInput placeholder="filter column" name="fColumnName1" formControlName="fColumnName1"
                    autocomplete="off" />
                </mat-form-field>
              </td>
              <td>
                <mat-form-field style="width: 175px; margin-left: 0px">
                  <mat-label>Filter Column Value</mat-label>
                  <input matInput placeholder="filter value" name="fColumnValue1" type="number"
                    formControlName="fColumnValue1" autocomplete="off" />
                </mat-form-field>
              </td>
              <td>
                <button type="button" class="btn btn-primary" style="border-radius: 25px" data-dismiss="modal">
                  OK
                </button>
              </td>
              <td>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" style="border-radius: 25px">
                  Cancel
                </button>
              </td>
            </tr>
          </table>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="modal closed" tabindex="1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="manualSubmit">
  <div class="modal-dialog modal-xl" role="document" style="width: 100%">
    <div class="modal-content">
      <div class="modal-header" style="background: rgba(23, 204, 23, 0.288)">
        <h2 class="modal-title" style="color: black">Selected Records</h2>
        <!-- <h2 *ngIf="action == 4" class="modal-title" style="color:black ;">Pass GEFU</h2> -->

        <button type="button" #closebuttonclosed class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- <br> -->
      <div class="modal-body">
        <!-- <div class="row remark">
                <form [formGroup]="remarksClose">
                  <mat-label class="label">Remarks</mat-label>
                  <mat-form-field appearance="standard" class="remark">
                    <input matInput formControlName="remarksClose" type="text" required>
                  </mat-form-field>
                </form>
              </div> -->
        <div class="row">
          <div class="col-md-6 padd">
            <h3 style="margin-left: 10px; margin-top: 15px; font-weight: bold">
              FAS Table
            </h3>
            <div>
              <div class="table-container1">
                <table class="table table-bordered width mat-elevation-z8" id="boxlevel" style="margin-left: -2%">
                  <thead class="table_header">
                    <th>S.No</th>
                    <!-- <th>Branch Code</th>
                  <th>Entry Gid</th>
                  <th>Transaction Date</th>
                  <th>Remark</th>
                  <th>Entry Crno</th>
                  <th>Entry Module</th>
                  <th>Dr/Cr</th>
                  <th>Amount</th> -->
                    <th *ngFor="let key of this.wisefinKeys">{{ key }}</th>
                    <th>Action</th>
                    <!-- <th>Compare</th> -->
                    <th>Tag Number</th>
                    <!-- <th *ngIf="actionChange">Select</th> -->

                    <!-- <th>Action Type</th> -->
                  </thead>
                  <tbody>
                    <tr *ngFor="let sum of selectedRecFasList; let i = index">
                      <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                      <td *ngFor="let key of wisefinKeys">
                        {{ sum[wisefindatas[key]] }}
                      </td>
                      <!-- <td
                      (click)="
                        getfassearch(sum?.fas_branch_code, 'Branch Code')
                      "
                      class="pointer"
                    >
                      {{ sum?.fas_branch_code }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_entry_gid, 'Entry Gid')"
                      class="pointer"
                    >
                      {{ sum?.fas_entry_gid }}
                    </td>
                    <td
                      (click)="
                        getfassearch(sum?.fas_transaction_date, 'Branch date')
                      "
                      class="pointer"
                    >
                      {{ sum?.fas_transaction_date }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_remark, 'Remark')"
                      class="pointer"
                    >
                      {{ sum?.fas_remark }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_entry_crno, 'Entry Crno')"
                      class="pointer"
                    >
                      {{ sum?.fas_entry_crno }}
                    </td>
                    <td
                      (click)="
                        getfassearch(sum?.fas_entry_module, 'Entry Module')
                      "
                      class="pointer"
                    >
                      {{ sum?.fas_entry_module }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                      class="pointer"
                    >
                      {{ sum?.fas_dr_cr }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_amount, 'Amount')"
                      class="pointer"
                      style="text-align: right"
                    >
                      {{ formatNumberWithCommas(sum?.fas_amount) }}
                    </td> -->

                      <td>
                        {{
                        sum?.fas_action
                        }}
                      </td>

                      <td>
                        {{ sum?.fas_tag_no }}
                        <span style="background-color: #ffde4d; font-size: large">{{ sum?.fas_digit }}</span>
                      </td>
                      <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox class="jwcheck" mat-primary
                                (change)="isChecked(sum,$event,1)"
                                [checked]="checkedItems.includes(sum?.id) || sum?.fas_tag_no.length == 13"
                                [disabled]="sum?.fas_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                      <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox class="jwcheck" mat-primary
                                (change)="isCheckedClose(sum,$event,1)"
                                [checked]="closedcheckedItems.includes(sum?.id)">
                              </mat-checkbox>
                            </td> -->
                    </tr>
                    <tr *ngIf="selectedRecFasList?.length == 0">
                      <td colspan="5" class="text-center">No Records Found..!</td>
                    </tr>
                  </tbody>
                  <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
                </table>
              </div>
              <div class="paginationDiv">
                <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary"
                  (click)="fasmanualpreviousClick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                <b style="align-items: center;margin-top: 9px;"> {{ pagination.index }}</b>
                <button mat-icon-button [disabled]="pagination.has_next === false" color="primary"
                  (click)="fasmanualnextClick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>

            <!-- </div> -->
            <!-- <p>
                      FAS Amount:{{
                        formatNumberWithCommas(fas_compare_total)
                      }}
                    </p> -->
          </div>
          <div class="col-md-6 padd">
            <h3 style="font-weight: bold; margin-top: 15px">CBS Table</h3>

            <div>
              <div class="table-container1">
                <table class="table table-bordered width mat-elevation-z8" id="boxlevel">
                  <thead class="table_header">
                    <tr>
                      <th>S.No</th>
                      <!-- <th>Branch Code</th>
                    <th>Date</th>
                    <th>Narration</th>
                    <th>Dr/Cr</th>
                    <th>Amount</th> -->
                      <th *ngFor="let key of this.cbsKeys">{{ key }}</th>
                      <th>Action</th>
                      <!-- <th>Compare</th> -->
                      <th>Tag Number</th>
                      <!-- <th>Action Type</th> -->
                      <!-- <th *ngIf="actionChange"> -->
                      <!-- Select
                            </th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let sum of selectedRecCbsList; let i = index">
                      <td>
                        {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                      </td>
                      <td *ngFor="let key of cbsKeys">
                        {{ sum[cbsdatas[key]] }}
                      </td>
                      <!-- <td
                      (click)="
                        getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                      "
                      class="pointer"
                    >
                      {{ sum?.cbs_branch_code }}
                    </td>
                    <td
                      (click)="
                        getcbssearch(sum?.cbs_transaction_date, 'Branch date')
                      "
                    >
                      {{ sum?.cbs_transaction_date }}
                    </td> -->
                      <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
                      <!-- <td>{{sum?.cbs_narration}}</td> -->

                      <!-- <td>{{sum?.cbs_branch_code}}</td> -->
                      <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
                      <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
                      <!-- <td>{{sum?.cbs_amount}}</td> -->

                      <!-- <td
                      (click)="getcbssearch(sum?.cbs_narration, 'Narration')"
                      class="pointer"
                    >
                      {{ sum?.cbs_narration }}
                    </td>
                    <td
                      (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                      class="pointer"
                    >
                      {{ sum?.cbs_dr_cr }}
                    </td>
                    <td
                      (click)="getcbssearch(sum?.cbs_amount, 'Amount')"
                      class="pointer"
                      style="text-align: right"
                    >
                      {{ formatNumberWithCommas(sum?.cbs_amount) }}
                    </td> -->
                      <td>
                        {{
                        sum?.cbs_action
                        }}
                      </td>

                      <!-- <td>{{sum?.cbs_action}}</td> -->
                      <!-- <td *ngIf="sum?.cbs_action === ''">
                              <button
                                (click)="addiconcbs(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </td> -->
                      <td>
                        {{ sum?.cbs_tag_no }}
                        <span style="background-color: #ffde4d; font-size: large">
                          {{ sum?.cbs_digit }}
                        </span>
                      </td>
                      <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox mat-primary
                                class="gefucheck" 
                                (change)="isChecked(sum, $event,2)" 
                                [checked]="checkedItems.includes(sum?.id) || sum?.cbs_tag_no.length == 13"
                                [disabled]="sum?.cbs_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                      <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox mat-primary
                                class="gefucheck" 
                                (change)="isCheckedClose(sum, $event,2)" 
                                [checked]="closedcheckedItems.includes(sum?.id)">
                              </mat-checkbox>
                            </td> -->
                    </tr>
                    <tr *ngIf="selectedRecCbsList?.length == 0">
                      <td colspan="4" class="text-center">No Records Found..!</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="paginationDiv">
                <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary"
                  (click)="cbsmanualpreviousClick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                <b style="align-items: center;margin-top: 9px;">{{ paginationcbs.index }}</b>
                <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                  (click)="cbsmanualnextClick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>

            <!-- </div> -->
            <!-- <p>
                      CBS Amount:{{
                        formatNumberWithCommas(cbs_compare_total)
                      }}
                    </p> -->
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-outline-primary orders" (click)="combineSave()" [disabled]="readonlyy"></button> -->
        <button type="button" class="btn btn-outline-success orders" (click)="submitManual(1)">
          Submit
        </button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="showpopup">
  <div class="modal" id="remarks">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header" style="background: rgba(23, 204, 23, 0.288)">
          <h2 class="modal-title" style="color: black">Remarks</h2>
          <button type="button" #closebuttonremarks class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="remarks">
            <mat-label class="label">Enter Remarks</mat-label>
            <mat-form-field appearance="standard" class="remark">
              <input matInput formControlName="remarks" type="text" required />
            </mat-form-field>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-info" (click)="dataSubmit(1)">
            Submit
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal closed" tabindex="1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="closed">
  <div class="modal-dialog modal-xl" role="document" style="width: 100%">
    <div class="modal-content">
      <div class="modal-header" style="background: rgba(23, 204, 23, 0.288)">
        <h2 *ngIf="action == 2" class="modal-title" style="color: black">
          Pass Wisefin JV
        </h2>
        <h2 *ngIf="action == 1" class="modal-title" style="color: black">
          Pass GEFU
        </h2>

        <button type="button" #closebuttonclosed class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- <br> -->
      <div class="modal-body">
        <div class="row remark">
          <form [formGroup]="remarksClose">
            <mat-label class="label">Remarks</mat-label>
            <mat-form-field appearance="standard" class="remark">
              <input matInput formControlName="remarksClose" type="text" required />
            </mat-form-field>
          </form>
        </div>
        <div class="row">
          <div class="col-md-6 padd">
            <h3 style="margin-left: 10px; margin-top: 15px; font-weight: bold">
              FAS Table
            </h3>
            <div class="table-container1">
              <table class="table table-bordered width" id="boxlevel" style="margin-left: -2%">
                <thead class="table_header">
                  <th>S.No</th>
                  <th>Branch Code</th>
                  <th>Entry Gid</th>
                  <th>Transaction Date</th>
                  <th>Remark</th>
                  <th>Entry Crno</th>
                  <th>Entry Module</th>
                  <th>Dr/Cr</th>
                  <th>Amount</th>
                  <th>Action</th>
                  <!-- <th>Compare</th> -->
                  <th>Tag Number</th>
                  <th *ngIf="actionChange">Select</th>

                  <!-- <th>Action Type</th> -->
                </thead>
                <tbody>
                  <tr *ngFor="let sum of tabledata; let i = index">
                    <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                    <td (click)="
                        getfassearch(sum?.fas_branch_code, 'Branch Code')
                      " class="pointer">
                      {{ sum?.fas_branch_code }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_entry_gid, 'Entry Gid')" class="pointer">
                      {{ sum?.fas_entry_gid }}
                    </td>
                    <td (click)="
                        getfassearch(sum?.fas_transaction_date, 'Branch date')
                      " class="pointer">
                      {{ sum?.fas_transaction_date }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_remark, 'Remark')" class="pointer">
                      {{ sum?.fas_remark }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_entry_crno, 'Entry Crno')" class="pointer">
                      {{ sum?.fas_entry_crno }}
                    </td>
                    <td (click)="
                        getfassearch(sum?.fas_entry_module, 'Entry Module')
                      " class="pointer">
                      {{ sum?.fas_entry_module }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')" class="pointer">
                      {{ sum?.fas_dr_cr }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_amount, 'Amount')" class="pointer" style="text-align: right">
                      {{ formatNumberWithCommas(sum?.fas_amount) }}
                    </td>

                    <td>
                      {{ sum?.fas_action }}
                    </td>

                    <td>
                      {{ sum?.fas_tag_no }}
                    </td>
                    <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox class="jwcheck" mat-primary
                                (change)="isChecked(sum,$event,1)"
                                [checked]="checkedItems.includes(sum?.id) || sum?.fas_tag_no.length == 13"
                                [disabled]="sum?.fas_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                    <td *ngIf="actionChange" class="text-center">
                      <mat-checkbox class="jwcheck" mat-primary (change)="isCheckedClose(sum, $event, 1)"
                        [checked]="closedcheckedItems.includes(sum?.id)">
                      </mat-checkbox>
                    </td>
                  </tr>
                  <tr *ngIf="tabledata?.length == 0">
                    <td colspan="5" class="text-center">No Records Found..!</td>
                  </tr>
                </tbody>
                <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
              </table>
              <div class="paginationDiv">
                <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary"
                  (click)="fasmanualpreviousClick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                <button mat-icon-button [disabled]="pagination.has_next === false" color="primary"
                  (click)="fasmanualnextClick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>

            <!-- </div> -->
            <!-- <p>
                      FAS Amount:{{
                        formatNumberWithCommas(fas_compare_total)
                      }}
                    </p> -->
          </div>
          <div class="col-md-6 padd">
            <h3 style="font-weight: bold; margin-top: 15px">CBS Table</h3>

            <div class="table-container1">
              <table class="table table-bordered width" id="boxlevel">
                <thead class="table_header">
                  <tr>
                    <th>S.No</th>
                    <th>Branch Code</th>
                    <th>Date</th>
                    <th>Narration</th>
                    <th>Dr/Cr</th>
                    <th>Amount</th>
                    <th>Action</th>
                    <!-- <th>Compare</th> -->
                    <th>Tag Number</th>
                    <!-- <th>Action Type</th> -->
                    <th *ngIf="actionChange">Select</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let sum of cbstabledata; let i = index">
                    <td>
                      {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                    </td>
                    <td (click)="
                        getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                      " class="pointer">
                      {{ sum?.cbs_branch_code }}
                    </td>
                    <td (click)="
                        getcbssearch(sum?.cbs_transaction_date, 'Branch date')
                      ">
                      {{ sum?.cbs_transaction_date }}
                    </td>
                    <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
                    <!-- <td>{{sum?.cbs_narration}}</td> -->

                    <!-- <td>{{sum?.cbs_branch_code}}</td> -->
                    <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
                    <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
                    <!-- <td>{{sum?.cbs_amount}}</td> -->

                    <td (click)="getcbssearch(sum?.cbs_narration, 'Narration')" class="pointer">
                      {{ sum?.cbs_narration }}
                    </td>
                    <td (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')" class="pointer">
                      {{ sum?.cbs_dr_cr }}
                    </td>
                    <td (click)="getcbssearch(sum?.cbs_amount, 'Amount')" class="pointer" style="text-align: right">
                      {{ formatNumberWithCommas(sum?.cbs_amount) }}
                    </td>
                    <td>
                      {{ sum?.cbs_action }}
                    </td>

                    <!-- <td>{{sum?.cbs_action}}</td> -->
                    <!-- <td *ngIf="sum?.cbs_action === ''">
                              <button
                                (click)="addiconcbs(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </td> -->
                    <td>
                      {{ sum?.cbs_tag_no }}
                    </td>
                    <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox mat-primary
                                class="gefucheck" 
                                (change)="isChecked(sum, $event,2)" 
                                [checked]="checkedItems.includes(sum?.id) || sum?.cbs_tag_no.length == 13"
                                [disabled]="sum?.cbs_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                    <td *ngIf="actionChange" class="text-center">
                      <mat-checkbox mat-primary class="gefucheck" (change)="isCheckedClose(sum, $event, 2)"
                        [checked]="closedcheckedItems.includes(sum?.id)">
                      </mat-checkbox>
                    </td>
                  </tr>
                  <tr *ngIf="cbstabledata?.length == 0">
                    <td colspan="4" class="text-center">No Records Found..!</td>
                  </tr>
                </tbody>
              </table>
              <div class="paginationDiv">
                <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary"
                  (click)="cbsmanualpreviousClick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                <b style="align-items: center;margin-top: 9px;">{{ paginationcbs.index }}</b>
                <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                  (click)="cbsmanualnextClick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>

            <!-- </div> -->
            <!-- <p>
                      CBS Amount:{{
                        formatNumberWithCommas(cbs_compare_total)
                      }}
                    </p> -->
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-outline-primary orders" (click)="combineSave()" [disabled]="readonlyy"></button> -->
        <button type="button" class="btn btn-outline-success orders" (click)="closeSubmit(1)">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal closed" tabindex="1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="closed">
  <div class="modal-dialog modal-xl" role="document" style="width: 100%">
    <div class="modal-content">
      <div class="modal-header" style="background: rgba(23, 204, 23, 0.288)">
        <h2 *ngIf="action == 2" class="modal-title" style="color: black">
          Pass Wisefin JV
        </h2>
        <h2 *ngIf="action == 1" class="modal-title" style="color: black">
          Pass GEFU
        </h2>

        <button type="button" #closebuttonclosed class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- <br> -->
      <div class="modal-body">
        <div class="row remark">
          <form [formGroup]="remarksClose">
            <mat-label class="label">Remarks</mat-label>
            <mat-form-field appearance="standard" class="remark">
              <input matInput formControlName="remarksClose" type="text" required />
            </mat-form-field>
          </form>
        </div>
        <div class="row">
          <div class="col-md-6 padd">
            <h3 style="margin-left: 10px; margin-top: 15px; font-weight: bold">
              FAS Table
            </h3>
            <div class="table-container">
              <table class="table table-bordered width" id="boxlevel" style="margin-left: -2%">
                <thead class="table_header">
                  <th>S.No</th>
                  <th>Branch Code</th>
                  <th>Entry Gid</th>
                  <th>Transaction Date</th>
                  <th>Remark</th>
                  <th>Entry Crno</th>
                  <th>Entry Module</th>
                  <th>Dr/Cr</th>
                  <th>Amount</th>
                  <th>Action</th>
                  <!-- <th>Compare</th> -->
                  <th>Tag Number</th>
                  <th *ngIf="actionChange">Select</th>

                  <!-- <th>Action Type</th> -->
                </thead>
                <tbody>
                  <tr *ngFor="let sum of tabledata; let i = index">
                    <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                    <td (click)="
                        getfassearch(sum?.fas_branch_code, 'Branch Code')
                      " class="pointer">
                      {{ sum?.fas_branch_code }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_entry_gid, 'Entry Gid')" class="pointer">
                      {{ sum?.fas_entry_gid }}
                    </td>
                    <td (click)="
                        getfassearch(sum?.fas_transaction_date, 'Branch date')
                      " class="pointer">
                      {{ sum?.fas_transaction_date }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_remark, 'Remark')" class="pointer">
                      {{ sum?.fas_remark }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_entry_crno, 'Entry Crno')" class="pointer">
                      {{ sum?.fas_entry_crno }}
                    </td>
                    <td (click)="
                        getfassearch(sum?.fas_entry_module, 'Entry Module')
                      " class="pointer">
                      {{ sum?.fas_entry_module }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')" class="pointer">
                      {{ sum?.fas_dr_cr }}
                    </td>
                    <td (click)="getfassearch(sum?.fas_amount, 'Amount')" class="pointer" style="text-align: right">
                      {{ formatNumberWithCommas(sum?.fas_amount) }}
                    </td>

                    <td>
                      {{ sum?.fas_action }}
                    </td>

                    <td>
                      {{ sum?.fas_tag_no }}
                    </td>
                    <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox class="jwcheck" mat-primary
                                (change)="isChecked(sum,$event,1)"
                                [checked]="checkedItems.includes(sum?.id) || sum?.fas_tag_no.length == 13"
                                [disabled]="sum?.fas_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                    <td *ngIf="actionChange" class="text-center">
                      <mat-checkbox class="jwcheck" mat-primary (change)="isCheckedClose(sum, $event, 1)"
                        [checked]="closedcheckedItems.includes(sum?.id)">
                      </mat-checkbox>
                    </td>
                  </tr>
                  <tr *ngIf="tabledata?.length == 0">
                    <td colspan="5" class="text-center">No Records Found..!</td>
                  </tr>
                </tbody>
                <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
              </table>
              <div class="paginationDiv">
                <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary"
                  (click)="fasmanualpreviousClick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                <button mat-icon-button [disabled]="pagination.has_next === false" color="primary"
                  (click)="fasmanualnextClick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>

            <!-- </div> -->
            <!-- <p>
                      FAS Amount:{{
                        formatNumberWithCommas(fas_compare_total)
                      }}
                    </p> -->
          </div>
          <div class="col-md-6 padd">
            <h3 style="font-weight: bold; margin-top: 15px">CBS Table</h3>

            <div class="table-container">
              <table class="table table-bordered width" id="boxlevel">
                <thead class="table_header">
                  <tr>
                    <th>S.No</th>
                    <th>Branch Code</th>
                    <th>Date</th>
                    <th>Narration</th>
                    <th>Dr/Cr</th>
                    <th>Amount</th>
                    <th>Action</th>
                    <!-- <th>Compare</th> -->
                    <th>Tag Number</th>
                    <!-- <th>Action Type</th> -->
                    <th *ngIf="actionChange">Select</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let sum of cbstabledata; let i = index">
                    <td>
                      {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                    </td>
                    <td (click)="
                        getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                      " class="pointer">
                      {{ sum?.cbs_branch_code }}
                    </td>
                    <td (click)="
                        getcbssearch(sum?.cbs_transaction_date, 'Branch date')
                      ">
                      {{ sum?.cbs_transaction_date }}
                    </td>
                    <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
                    <!-- <td>{{sum?.cbs_narration}}</td> -->

                    <!-- <td>{{sum?.cbs_branch_code}}</td> -->
                    <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
                    <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
                    <!-- <td>{{sum?.cbs_amount}}</td> -->

                    <td (click)="getcbssearch(sum?.cbs_narration, 'Narration')" class="pointer">
                      {{ sum?.cbs_narration }}
                    </td>
                    <td (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')" class="pointer">
                      {{ sum?.cbs_dr_cr }}
                    </td>
                    <td (click)="getcbssearch(sum?.cbs_amount, 'Amount')" class="pointer" style="text-align: right">
                      {{ formatNumberWithCommas(sum?.cbs_amount) }}
                    </td>
                    <td>
                      {{ sum?.cbs_action }}
                    </td>

                    <!-- <td>{{sum?.cbs_action}}</td> -->
                    <!-- <td *ngIf="sum?.cbs_action === ''">
                              <button
                                (click)="addiconcbs(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </td> -->
                    <td>
                      {{ sum?.cbs_tag_no }}
                    </td>
                    <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox mat-primary
                                class="gefucheck" 
                                (change)="isChecked(sum, $event,2)" 
                                [checked]="checkedItems.includes(sum?.id) || sum?.cbs_tag_no.length == 13"
                                [disabled]="sum?.cbs_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                    <td *ngIf="actionChange" class="text-center">
                      <mat-checkbox mat-primary class="gefucheck" (change)="isCheckedClose(sum, $event, 2)"
                        [checked]="closedcheckedItems.includes(sum?.id)">
                      </mat-checkbox>
                    </td>
                  </tr>
                  <tr *ngIf="cbstabledata?.length == 0">
                    <td colspan="4" class="text-center">No Records Found..!</td>
                  </tr>
                </tbody>
              </table>
              <div class="paginationDiv">
                <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary"
                  (click)="cbsmanualpreviousClick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                <b style="align-items: center;margin-top: 9px;">{{ paginationcbs.index }}</b>
                <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                  (click)="cbsmanualnextClick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>

            <!-- </div> -->
            <!-- <p>
                      CBS Amount:{{
                        formatNumberWithCommas(cbs_compare_total)
                      }}
                    </p> -->
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-outline-primary orders" (click)="combineSave()" [disabled]="readonlyy"></button> -->
        <button type="button" class="btn btn-outline-success orders" (click)="closeSubmit(1)">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal" tabindex="1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="combineDataJW">
  <div class="modal-dialog" [ngClass]="{'custom-modal-size': action === 2,'custom-modal-sizepassgefu':action===1}"
    role="document">
    <div class="modal-content">
      <div class="modal-header" style="background: rgba(23, 204, 23, 0.288)">
        <h2 *ngIf="action == 2" class="modal-title" style="color: black">
          Pass JW
        </h2>
        <h2 *ngIf="action == 1" class="modal-title" style="color: black">
          Pass GEFU
        </h2>

        <button type="button" #closebuttons class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- <br> -->
      <div class="modal-body">
        <!-- <div class="container"> -->
        <mat-tab-group *ngIf="action === 2 " (selectedTabChange)="entrytabletabchange($event)">
          <mat-tab label="Entry Table">
            <div style="margin-top: 15px;">
              <section class="layout5" *ngIf="action == 2">
                <div id="matInput-size" style="margin-top: 10px;"> <form [formGroup]="remark">
                  
                  <mat-form-field appearance="outline" class="remark" style="width: 250px;">
                    <mat-label>Remarks</mat-label>
                    <input matInput type="text" formControlName="remark" required  />
                  </mat-form-field>
                </form>
              </div>
              <div id="matInput-size" style="margin-top: 10px;">
                <lib-vs-dynamicform-cmp [InputFields]="branch_datas" (dataEvent)="branch_datas_select($event)"
                [ResetForm]="branch_name_reset"></lib-vs-dynamicform-cmp>
              </div>
              <div style="display: flex;justify-content: center;gap: 20px;">
                <div style="margin-top: 15px;">
                  <span style="font-size: 15px;font-weight: 600;">Credit Amount :</span>
                  <span class="badge-btn" style="margin-left: 5px;">{{credit_amount}}</span>
                </div>
                <div style="margin-top: 15px;">
                  <span style="font-size: 15px;font-weight: 600;">Debit Amount :</span>
                  <span class="badge-btn" style="margin-left: 5px;">{{debit_amount}}</span>
                </div>
                <div style="margin-top: 15px;">
                  <span style="font-size: 15px;font-weight: 600;">Count :</span>
                  <span class="badge-btn" style="margin-left: 5px;">{{total_count}}</span>
                </div>
              </div>
               <!-- <div>
                <mat-form-field (click)="getbs()" appearance="outline">
                  <mat-label>BS</mat-label>
                  <input #bsInput  matInput [formControl]="entrytablebsform"
                    [matAutocomplete]="bstype"/>
                  <mat-autocomplete #bstype="matAutocomplete" [displayWith]="displaybsFn"
                    (opened)="bsScroll()">
                    <mat-option *ngIf="isLoading" class="is-loading">Loading...
                    </mat-option>
                    <ng-container *ngIf="!isLoading">
                      <mat-option *ngFor="let bsname of bsNameData" [value]="bsname"
                        (click)="bsidselectall(bsname)"  ngbTooltip="{{ bsname.name }}" placement="bottom">
                        {{ bsname.name }}
                      </mat-option>
                    </ng-container>
                  </mat-autocomplete>
                </mat-form-field>
               </div>
               <div>
                <mat-form-field appearance="outline">
                  <mat-label>CC</mat-label>
                  <input #ccinput matInput [formControl]="entrytableccform" 
                    [matAutocomplete]="cctype"/>
                  <mat-autocomplete #cctype="matAutocomplete" [displayWith]="displayccFn"
                    (opened)="ccScroll()">
                    <mat-option *ngIf="isLoading" class="is-loading">Loading...
                    </mat-option>
                    <ng-container *ngIf="!isLoading">
                      <mat-option *ngFor="let ccname of ccNameData" [value]="ccname"
                        (click)="getccdataselectall(ccname)"  ngbTooltip="{{ ccname.name }}" placement="bottom">
                        {{ ccname.name }}
                      </mat-option>
                    </ng-container>
                  </mat-autocomplete>
                </mat-form-field>
               </div>
               <mat-form-field  appearance="outline">
                <mat-label>Description</mat-label>
                <input matInput type="text" [formControl]="entrytabledescform"  />
              </mat-form-field>
                <div style="margin-top: 15px;">
                  <mat-checkbox [formControl]="entrytableselectform" (change)="entrytableselectall($event)">Select all</mat-checkbox>
                 </div> -->
              
                <div class="marginLeft5">
                  <button class="btn btn-outline-success add" style="border-radius: 50px;margin-right: 10px;"
                    (click)="submitmonojw()">Pass JW</button>
                  <button type="button" style="margin-right: 5px;" (click)="addRecord()" [disabled]="readonlyy" class="btn btn-outline-info add">
                    Add <span class="fa fa-plus"></span>
                  </button>
                </div>
              </section>
             
              <br />
              <div>
                <form [formGroup]="combineDataForm">
                  <div class="table-container">
                    <table class="table table-bordered" style="text-align: center;">
                      <thead class="table_header tabheader">
                        <th>S.No</th>
                        <th> 
                          <mat-form-field style="width: 70px;margin-bottom: -15px;" >
                            <mat-label>Entry Type</mat-label>
                          <input matInput placeholder="Credit/Debit" aria-label="State" [matAutocomplete]="auto"
                          [formControl]="entrytable_entry_type_form"  required/>
                          <mat-autocomplete #auto="matAutocomplete">
                            <mat-option *ngFor="let state of filteredStates | async" [value]="state.name">
                              <span>{{ state.name }}</span>
                            </mat-option>
                          </mat-autocomplete>
                        </mat-form-field>
                        <span style="margin-left: 10px;">
                          <mat-checkbox [formControl]="entrytableselectformentrytype" (change)="entrytableselectallentrytype($event)" ngbTooltip="Select all" placement="right"></mat-checkbox>
                        </span>
                      </th>
                        <th>Branch Code <span class="text-danger">*</span></th>
                        <th *ngIf="action == 2">
                          Category<span class="text-danger">*</span>
                        </th>
                        <th *ngIf="action == 2">
                          Sub Category<span class="text-danger">*</span>
                        </th>
                        <th *ngIf="action == 2">
                          <mat-form-field (click)="getbs()" style="width: 70px;margin-bottom: -15px;">
                            <mat-label>BS</mat-label>
                            <input #bsInput  matInput [formControl]="entrytablebsform"
                              [matAutocomplete]="bstype" required/>
                            <mat-autocomplete #bstype="matAutocomplete" [displayWith]="displaybsFn"
                              (opened)="bsScroll()">
                              <mat-option *ngIf="isLoading" class="is-loading">Loading...
                              </mat-option>
                              <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let bsname of bsNameData" [value]="bsname"
                                  (click)="bsidselectall(bsname)"  ngbTooltip="{{ bsname.name }}" placement="bottom">
                                  {{ bsname.name }}
                                </mat-option>
                              </ng-container>
                            </mat-autocomplete>
                          </mat-form-field>
                          <span style="margin-left: 10px;">
                            <mat-checkbox [formControl]="entrytableselectformbs" (change)="entrytableselectallbs($event)" ngbTooltip="Select all" placement="right"></mat-checkbox>
                          </span>
                        </th>
                        <th *ngIf="action == 2">
                          <mat-form-field style="width: 70px;margin-bottom: -15px;">
                            <mat-label>CC</mat-label>
                            <input #ccinput matInput [formControl]="entrytableccform" 
                              [matAutocomplete]="cctype" required/>
                            <mat-autocomplete #cctype="matAutocomplete" [displayWith]="displayccFn"
                              (opened)="ccScroll()">
                              <mat-option *ngIf="isLoading" class="is-loading">Loading...
                              </mat-option>
                              <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let ccname of ccNameData" [value]="ccname"
                                  (click)="getccdataselectall(ccname)"  ngbTooltip="{{ ccname.name }}" placement="bottom">
                                  {{ ccname.name }}
                                </mat-option>
                              </ng-container>
                            </mat-autocomplete>
                          </mat-form-field>
                          <span style="margin-left: 10px;">
                            <mat-checkbox [formControl]="entrytableselectformcc" (change)="entrytableselectallcc($event)" ngbTooltip="Select all" placement="right"></mat-checkbox>
                          </span>
                        </th>
                        <th>CBSGL <span class="text-danger">*</span></th>
                        <th> 
                          <mat-form-field style="width: 70px;margin-bottom: -15px;">
                          <mat-label>Description</mat-label>
                          <input matInput type="text" [formControl]="entrytabledescform"  required/>
                        </mat-form-field>
                        <span style="margin-left: 10px;">
                          <mat-checkbox [formControl]="entrytableselectformdesc" (change)="entrytableselectalldescription($event)" ngbTooltip="Select all" placement="right"></mat-checkbox>
                        </span>
                      </th>
                        <th>Amount<span class="text-danger">*</span></th>
                        <th *ngIf="action == 1">Narration</th>
                        <!-- <th>Tag Number</th>
                        <th *ngIf="action == 2">
                          Date<span class="text-danger">*</span>
                        </th> -->
                        <th *ngIf="!readonlyy">Action</th>
                      </thead>
                      <tbody formArrayName="rows">
                        <ng-container *ngFor="let row of rows.controls; let i = index">
                          <tr [formGroupName]="i" class="fields">
                            <td>
                              {{ (paginationwisfinjv?.index- 1) * limit + i + 1 }}
                            </td>
                            <td>
                              <mat-form-field class="example-full-width passgefufieldwidth" appearance="outline">
                                <input matInput placeholder="Credit/Debit" aria-label="State" [matAutocomplete]="auto"
                                  formControlName="entry_type" [readonly]="isReadOnly1(i) || isReadOnly(i)" />
                                <mat-autocomplete #auto="matAutocomplete">
                                  <mat-option *ngFor="let state of filteredStates | async" [value]="state.name">
                                    <span>{{ state.name }}</span>
                                  </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                            </td>
                            <td>
                              <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                                <input matInput type="text" [readonly]="row.value.readonly"
                                  formControlName="branch_code" />
                              </mat-form-field>
                              <!-- readonly -->
                              <!-- [value]="branch_codeid" -->
                              <!-- {{branch_codeid}} -->
                            </td>
                            <td *ngIf="action == 2">
                              <mat-form-field appearance="outline" class="passgefufieldwidth"
                                (click)="getCategoryList()">
                                <input #categoryInput matInput formControlName="category" [matAutocomplete]="cattype"
                                  placeholder="Category" [readonly]="readonlyy || isReadOnly1(i)" />
                                <mat-autocomplete #cattype="matAutocomplete" (opened)="categoryScroll()"
                                  [displayWith]="displaycatFn">
                                  <mat-option *ngIf="isLoading" class="is-loading">Loading...
                                  </mat-option>
                                  <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let cat of categoryList" [value]="cat"
                                      (click)="getCategoryId(cat.id)" ngbTooltip="{{ cat.name }}" placement="bottom">
                                      {{ cat.name }}
                                    </mat-option>
                                  </ng-container>
                                </mat-autocomplete>
                              </mat-form-field>
                            </td>
                            <td *ngIf="action == 2">
                              <mat-form-field appearance="outline" class="passgefufieldwidth">
                                <input #subcategoryInput matInput formControlName="sub_category"
                                  [matAutocomplete]="subcattype" placeholder="Sub Category"
                                  [readonly]="readonlyy || isReadOnly1(i)" />
                                <mat-autocomplete #subcattype="matAutocomplete" (opened)="subcategoryScroll()"
                                  [displayWith]="displaysubcatFn">
                                  <mat-option *ngIf="isLoading" class="is-loading">Loading...
                                  </mat-option>
                                  <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let cat of subCategoryList" [value]="cat"
                                    ngbTooltip="{{ cat.name }}" placement="bottom" (click)="getsubcatgl(cat,i)">
                                      {{ cat.name }}
                                    </mat-option>
                                  </ng-container>
                                </mat-autocomplete>
                              </mat-form-field>
                            </td>
                            <td *ngIf="action == 2">
                              <mat-form-field (click)="getbs()" appearance="outline" class="passgefufieldwidth">
                                <input #bsInput placeholder="BS" matInput formControlName="bs"
                                  [matAutocomplete]="bstype" required [readonly]="readonlyy || isReadOnly1(i)" />
                                <mat-autocomplete #bstype="matAutocomplete" [displayWith]="displaybsFn"
                                  (opened)="bsScroll()">
                                  <mat-option *ngIf="isLoading" class="is-loading">Loading...
                                  </mat-option>
                                  <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let bsname of bsNameData" [value]="bsname"
                                      (click)="bsid(bsname.id)"  ngbTooltip="{{ bsname.name }}" placement="bottom">
                                      {{ bsname.name }}
                                    </mat-option>
                                  </ng-container>
                                </mat-autocomplete>
                              </mat-form-field>
                            </td>
                            <td *ngIf="action == 2">
                              <mat-form-field appearance="outline" class="passgefufieldwidth">
                                <input #ccinput placeholder="CC" matInput formControlName="cc"
                                  [matAutocomplete]="cctype" required [readonly]="readonlyy || isReadOnly1(i)" />
                                <mat-autocomplete #cctype="matAutocomplete" [displayWith]="displayccFn"
                                  (opened)="ccScroll()">
                                  <mat-option *ngIf="isLoading" class="is-loading">Loading...
                                  </mat-option>
                                  <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let ccname of ccNameData" [value]="ccname"
                                      (click)="getccdata(ccname.id)"  ngbTooltip="{{ ccname.name }}" placement="bottom">
                                      {{ ccname.name }}
                                    </mat-option>
                                  </ng-container>
                                </mat-autocomplete>
                              </mat-form-field>
                            </td>
                            <td>
                              <mat-form-field class="columns" appearance="outline" class="passgefufieldwidth">
                                <input matInput type="text" formControlName="gl_no" value="" readonly />
                              </mat-form-field>
                              <!-- readonly -->
                            </td>
                            <td>
                              <!-- [readonly]="isReadOnly(i) || isReadOnly1(i)" -->
                              <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                                <input matInput type="text" formControlName="description" value="" />
                              </mat-form-field>
                            </td>
                            <td>
                              <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                                <input matInput type="number" formControlName="amount" value=""
                                  [readonly]="isReadOnly(i) || isReadOnly1(i)" />
                              </mat-form-field>
                            </td>
                            <td *ngIf="action == 1">
                              <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                                <input matInput type="text" formControlName="narration" value=""
                                  [readonly]="isReadOnly(i) || isReadOnly1(i)" />
                              </mat-form-field>
                            </td>
                            <!-- <td>
                              <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                                <input matInput type="text" formControlName="tag_no" value=""
                                  [readonly]="isReadOnly(i) || isReadOnly1(i)" />
                              </mat-form-field>
                            </td> -->
                            <!-- <td *ngIf="action == 2">
                              <mat-form-field appearance="outline" class="passgefufieldwidth">
                                <mat-label>Select Date</mat-label>
                                <input matInput [matDatepicker]="picker1" placeholder="Date" autocomplete="off"
                                  formControlName="trans_date" />

                                <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker1">
                                </mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                              </mat-form-field>
                            </td> -->
                            <td *ngIf="!readonlyy">
                              <!-- <mat-form-field> -->
                              <button class="transparent" [disabled]="isReadOnly(i) || isReadOnly1(i)"
                                (click)="deleteRecord(i)">
                                <mat-icon class="del text-danger">delete</mat-icon>
                              </button>
                              <!-- </mat-form-field> -->
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                  </div>
                  <div class="pagination-container">
                    <span class="items-per-page">
                      Items per page:
                      <mat-form-field style="width: 45px;">
                        <input matInput [formControl]="jwpagelimitform" type="number" (input)="jwpagelimit($event)">
                      </mat-form-field>
                    </span>

                    <div class="pagination-controls">
                      <button mat-icon-button [disabled]="paginationwisfinjv?.has_previous === false" color="primary"
                      (click)="wisfinjvpreviousClick()">
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                      <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                      <button mat-icon-button [disabled]="paginationwisfinjv?.has_next === false" color="primary"
                      (click)="wisfinjvnextClick()">
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                    </div>
                  </div>
                  <!-- <div style="display: flex;float: right;">
                    <button mat-icon-button [disabled]="paginationwisfinjv?.has_previous === false" color="primary"
                      (click)="wisfinjvpreviousClick()">
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                    <b style="align-items: center;margin-top: 9px;">{{ paginationwisfinjv?.index }}</b>
                    <button mat-icon-button [disabled]="paginationwisfinjv?.has_next === false" color="primary"
                      (click)="wisfinjvnextClick()">
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                  </div> -->
                </form>
              </div>
            </div>
          </mat-tab>
          <mat-tab label="Mono JW">
            <div style="margin-top:15px ;">
              <div class="refresh_summary">
                <button class="btn btn-outline-success refresh_status" ngbTooltip="Refresh" placement="bottom"
                  (click)="refresh_sum(4)"><mat-icon>refresh</mat-icon></button>
              </div>

              <lib-vs-cbox-summary [SummaryDetails]="entry_table_summary_data"
                [SummaryApiObj]="entry_table_summary_get"></lib-vs-cbox-summary>
            </div>
          </mat-tab>

        </mat-tab-group>
        <div class="row" *ngIf="action == 1">
          <div class="col-md-6 text-left" style="margin-top: 10px;" id="matInput-size">
            <form [formGroup]="remark">
              
              <mat-form-field appearance="outline" class="remark" style="width: 250px;">
                <mat-label>Remarks</mat-label>
                <input matInput type="text" formControlName="remark" required  />
              </mat-form-field>
            </form>
          </div>
          <div class="col-md-6 text-right">
            <button type="button" (click)="addRecord()" [disabled]="readonlyy" class="btn btn-outline-info add">
              Add <span class="fa fa-plus"></span>
            </button>
          </div>
        </div>
        <br />
        <div *ngIf="action == 1">
          <form [formGroup]="combineDataForm">
            <div class="table-container">
              <table class="table table-bordered" style="text-align: center;">
                <thead class="table_header tabheader">
                  <th>S.No</th>
                  <th>Entry Type <span class="text-danger">*</span></th>
                  <th>Branch Code <span class="text-danger">*</span></th>
                  <!-- <th *ngIf="action == 2">
                  Category<span class="text-danger">*</span>
                </th>
                <th *ngIf="action == 2">
                  Sub Category<span class="text-danger">*</span>
                </th>
                <th *ngIf="action == 2">
                  BS<span class="text-danger">*</span>
                </th>
                <th *ngIf="action == 2">
                  CC<span class="text-danger">*</span>
                </th> -->
                  <th>CBSGL <span class="text-danger">*</span></th>
                  <th>Description </th>
                  <th>Amount <span class="text-danger">*</span></th>
                  <th *ngIf="action == 1">Narration</th>
                  <!-- <th>Tag Number <span class="text-danger">*</span></th> -->
                  <!-- <th *ngIf="action == 2">
                  Date<span class="text-danger">*</span>
                </th> -->
                  <th *ngIf="!readonlyy">Action</th>
                </thead>
                <tbody formArrayName="rows">
                  <ng-container *ngFor="let row of rows.controls; let i = index">
                    <tr [formGroupName]="i" class="fields">
                      <td>
                        {{ (paginationwisfinjv?.index- 1) * limit + i + 1 }}
                      </td>
                      <td>
                        <mat-form-field class="example-full-width passgefufieldwidth" appearance="outline">
                          <input matInput placeholder="Credit/Debit" aria-label="State" [matAutocomplete]="auto"
                            formControlName="entry_type" [readonly]="isReadOnly1(i) || isReadOnly(i)" />
                          <mat-autocomplete #auto="matAutocomplete">
                            <mat-option *ngFor="let state of filteredStates | async" [value]="state.name">
                              <span>{{ state.name }}</span>
                            </mat-option>
                          </mat-autocomplete>
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                          <input matInput type="text" formControlName="branch_code" [readonly]="row.value.readonly" />
                        </mat-form-field>
                        <!-- [value]="branch_codeid"
                      readonly -->
                        <!-- {{branch_codeid}} -->
                      </td>
                      <!-- <td *ngIf="action == 2">
                      <mat-form-field
                        appearance="outline"
                        class="passgefufieldwidth"
                        (click)="getCategoryList()"
                      >
                        <input
                          #categoryInput
                          matInput
                          formControlName="category"
                          [matAutocomplete]="cattype"
                          placeholder="Category"
                          [readonly]="readonlyy || isReadOnly1(i)"
                        />
                        <mat-autocomplete
                          #cattype="matAutocomplete"
                          (opened)="categoryScroll()"
                          [displayWith]="displaycatFn"
                        >
                          <mat-option *ngIf="isLoading" class="is-loading"
                            >Loading...
                          </mat-option>
                          <ng-container *ngIf="!isLoading">
                            <mat-option
                              *ngFor="let cat of categoryList"
                              [value]="cat"
                              (click)="getCategoryId(cat.id)"
                              matTooltip="{{ cat.name }}"
                            >
                              {{ cat.name }}
                            </mat-option>
                          </ng-container>
                        </mat-autocomplete>
                      </mat-form-field>
                    </td>
                    <td *ngIf="action == 2">
                      <mat-form-field appearance="outline" class="passgefufieldwidth">
                        <input
                          #subcategoryInput
                          matInput
                          formControlName="sub_category"
                          [matAutocomplete]="subcattype"
                          placeholder="Sub Category"
                          [readonly]="readonlyy || isReadOnly1(i)"
                        />
                        <mat-autocomplete
                          #subcattype="matAutocomplete"
                          (opened)="subcategoryScroll()"
                          [displayWith]="displaysubcatFn"
                        >
                          <mat-option *ngIf="isLoading" class="is-loading"
                            >Loading...
                          </mat-option>
                          <ng-container *ngIf="!isLoading">
                            <mat-option
                              *ngFor="let cat of subCategoryList"
                              [value]="cat"
                              matTooltip="{{ cat.name }}"
                            >
                              {{ cat.name }}
                            </mat-option>
                          </ng-container>
                        </mat-autocomplete>
                      </mat-form-field>
                    </td>
                    <td *ngIf="action == 2">
                      <mat-form-field (click)="getbs()" appearance="outline" class="passgefufieldwidth">
                        <input
                          #bsInput
                          placeholder="BS"
                          matInput
                          formControlName="bs"
                          [matAutocomplete]="bstype"
                          required
                          [readonly]="readonlyy || isReadOnly1(i)"
                        />
                        <mat-autocomplete
                          #bstype="matAutocomplete"
                          [displayWith]="displaybsFn"
                          (opened)="bsScroll()"
                        >
                          <mat-option *ngIf="isLoading" class="is-loading"
                            >Loading...
                          </mat-option>
                          <ng-container *ngIf="!isLoading">
                            <mat-option
                              *ngFor="let bsname of bsNameData"
                              [value]="bsname"
                              (click)="bsid(bsname.id)"
                              matTooltip="{{ bsname.name }}"
                            >
                              {{ bsname.name }}
                            </mat-option>
                          </ng-container>
                        </mat-autocomplete>
                      </mat-form-field>
                    </td>
                    <td *ngIf="action == 2">
                      <mat-form-field appearance="outline" class="passgefufieldwidth">
                        <input
                          #ccinput
                          placeholder="CC"
                          matInput
                          formControlName="cc"
                          [matAutocomplete]="cctype"
                          required
                          [readonly]="readonlyy || isReadOnly1(i)"
                        />
                        <mat-autocomplete
                          #cctype="matAutocomplete"
                          [displayWith]="displayccFn"
                          (opened)="ccScroll()"
                        >
                          <mat-option *ngIf="isLoading" class="is-loading"
                            >Loading...
                          </mat-option>
                          <ng-container *ngIf="!isLoading">
                            <mat-option
                              *ngFor="let ccname of ccNameData"
                              [value]="ccname"
                              (click)="getccdata(ccname.id)"
                              matTooltip="{{ ccname.name }}"
                            >
                              {{ ccname.name }}
                            </mat-option>
                          </ng-container>
                        </mat-autocomplete>
                      </mat-form-field>
                    </td> -->
                      <td>
                        <mat-form-field class="columns" appearance="outline" class="passgefufieldwidth">
                          <input matInput type="text" formControlName="gl_no" value=""
                            [readonly]="row.value.readonly" />
                        </mat-form-field>
                        <!-- readonly -->
                      </td>
                      <td>
                        <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                          <input matInput type="text" formControlName="description" value=""
                            [readonly]="isReadOnly(i) || isReadOnly1(i)" />
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                          <input matInput type="number" formControlName="amount" value=""
                            [readonly]="isReadOnly(i) || isReadOnly1(i)" />
                        </mat-form-field>
                      </td>
                      <td *ngIf="action == 1">
                        <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                          <input matInput type="text" formControlName="narration" value=""
                            [readonly]="isReadOnly(i) || isReadOnly1(i)" />
                        </mat-form-field>
                      </td>
                      <!-- <td>
                        <mat-form-field class="columns passgefufieldwidth" appearance="outline">
                          <input matInput type="text" formControlName="tag_no" value=""
                            [readonly]="isReadOnly(i) || isReadOnly1(i)" />
                        </mat-form-field>
                      </td> -->
                      <!-- <td *ngIf="action == 2">
                      <mat-form-field appearance="outline" class="passgefufieldwidth">
                        <mat-label>Select Date</mat-label>
                        <input
                          matInput
                          [readonly]="isReadOnly(i) || isReadOnly1(i)"
                          [matDatepicker]="picker1"
                          placeholder="Date"
                          autocomplete="off"
                          formControlName="trans_date"
                        />

                        <mat-datepicker-toggle
                          class="rmudatetoggle"
                          matSuffix
                          [for]="picker1"
                          [disabled]="isReadOnly(i) || isReadOnly1(i)"
                        >
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                      </mat-form-field>
                    </td> -->
                      <td *ngIf="!readonlyy">
                        <!-- <mat-form-field> -->
                        <button class="transparent" [disabled]="isReadOnly(i) || isReadOnly1(i)"
                          (click)="deleteRecord(i)">
                          <mat-icon class="del text-danger">delete</mat-icon>
                        </button>
                        <!-- </mat-form-field> -->
                      </td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
            <div class="pagination-container">
              <span class="items-per-page">
                Items per page:
                <mat-form-field style="width: 45px;">
                  <input matInput [formControl]="jwpagelimitform" type="number" (input)="jwpagelimit($event)">
                </mat-form-field>
              </span>

              <div class="pagination-controls">
                <button mat-icon-button [disabled]="paginationwisfinjv?.has_previous === false" color="primary"
                (click)="wisfinjvpreviousClick()">
                <mat-icon>arrow_back</mat-icon>
              </button>
                <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                <button mat-icon-button [disabled]="paginationwisfinjv?.has_next === false" color="primary"
                (click)="wisfinjvnextClick()">
                <mat-icon>arrow_forward</mat-icon>
              </button>
              </div>
            </div>
            <!-- <div style="display: flex;float: right;">
              <button mat-icon-button [disabled]="paginationwisfinjv?.has_previous === false" color="primary"
                (click)="wisfinjvpreviousClick()">
                <mat-icon>arrow_back</mat-icon>
              </button>
              <b style="align-items: center;margin-top: 9px;">{{ paginationwisfinjv?.index }}</b>
              <button mat-icon-button [disabled]="paginationwisfinjv?.has_next === false" color="primary"
                (click)="wisfinjvnextClick()">
                <mat-icon>arrow_forward</mat-icon>
              </button>
            </div> -->
          </form>
        </div>
        <!-- </div> -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary orders" (click)="combineSave()" [disabled]="readonlyy">
          Save
        </button>
        <button type="button" class="btn btn-outline-success orders" (click)="combineSubmit()" [disabled]="readonlyy">
          Submit
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="viewData">
  <div class="modal-dialog modal-xl" style="width: 100%">
    <div class="modal-content">
      <div class="modal-header" style="background: rgba(23, 204, 23, 0.288)">
        <h2 class="modal-title" style="color: black">Uploaded File Status</h2>
        <button type="button" #closebuttons class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <br />
      <mat-tab-group (selectedTabChange)="viewdatatabchange($event)">
        <mat-tab label="Current">
          <div class="refresh_summary">
            <button class="btn btn-outline-success refresh_status" ngbTooltip="Refresh" placement="bottom"
              (click)="refresh_sum(2)"><mat-icon>refresh</mat-icon></button>
          </div>
          <div style="margin-bottom: 15px;width: 98%;margin-left: 10px;" >
            <lib-vs-cbox-summary [SummaryDetails]="view_data_current_sum"
            [SummaryApiObj]="view_data_current"></lib-vs-cbox-summary> 
          </div>
          <!-- <div class="container" style="margin-top: 20px;">
            <div class="mat-elevation-z5" class="table-row">
              <table class="table table-bordered viewTable fixed">
                <thead class="table_header tabheader">
                  <th>S.No</th>
                  <th>Date</th>
                  <th>File Name</th>
                  <th>Type</th>
                  <th>
                    Status
                
                  </th>
                  <th>Action</th>
                </thead>
                <tbody>
                  <tr *ngFor="let col of viewDataLists; index as i">
                    <td>
                      {{ (pagination.index - 1) * limit + i + 1 }}
                    </td>
                    <td>
                      {{ col.date }}
                    </td>
                    <td style="width: 20%; word-wrap: break-word">
                      {{ col.file_name }}
                    </td>
                    <td>
                      {{
                      col.type == 4
                      ? "FAS"
                      : col.type == 5
                      ? "CBS"
                      : col.type == 6
                      ? "ARS"
                      : col.type
                      }}
                    </td>
                    <td>
                      {{
                      col.status == 1
                      ? "Active"
                      : col.status == 0
                      ? "Inactive"
                      : col.status == 4
                      ? "Success"
                      : col.status == 3
                      ? "Processing"
                      : col.status == 2
                      ? "Started"
                      : col.status == 10
                      ? "Failed"
                      : col.status
                      }}
                    </td>
                    <td>
                      <button type="button" class="btn download" matTooltip="Download" (click)="downloadFile(col)">
                        <span class="fa fa-download"></span>
                      </button>
                      <button type="button" class="btn delete" matTooltip="Delete" (click)="deleteFile(col)">
                        <mat-icon class="icondel">delete</mat-icon>
                      </button>
                    </td>
                    <td *ngIf="this.viewDataLists.length == 0" class="text-center">
                      No Records Found!..
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div> -->
        </mat-tab>
        <mat-tab label="History" *ngIf="externalpage">
          <div class="container">
            <form [formGroup]="externalhistory">
              <div class="row">
                <div class="col-md-10">
                  <mat-form-field appearance="outline" style="width: 25%; margin-top: 1%">
                    <mat-label>Select Date</mat-label>
                    <input matInput required [matDatepicker]="picker23" placeholder="Date" autocomplete="off"
                      formControlName="date" />

                    <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker23">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker23></mat-datepicker>
                  </mat-form-field>

                  <mat-form-field style="width: 25%; margin-left: 5%; margin-bottom: 0" appearance="outline">
                    <mat-label>GLNO</mat-label>
                    <input matInput formControlName="gl_no" />
                  </mat-form-field>

                  <mat-form-field style="
                      width: 25%;
                      margin-left: 3%;
                      margin-top: 0%;
                      margin-bottom: 0;
                    " appearance="outline">
                    <mat-label>Branch Code</mat-label>
                    <input matInput formControlName="branch_code" />
                  </mat-form-field>
                  <button mat-mini-fab type="button" id="buttonsSubmit" aria-label="Search" (click)="viewhistory(1)"
                    style="margin-left: 4%">
                    <mat-icon>search</mat-icon>
                  </button>
                  <!-- <lib-vs-dynamicform-cmp class="arswidth" [InputFields]="externalstatus" (dataEvent)="matchgl($event)"
                    [ResetForm]="resetFormstatus">
                  </lib-vs-dynamicform-cmp> -->
                </div>
              </div>
            </form>

            <div class="mat-elevation-z5" class="table-row">
              <table class="table table-bordered viewTable fixed">
                <thead class="table_header tabheader">
                  <th>S.No</th>
                  <th>Date</th>
                  <th>Type</th>
                  <th>GL No</th>
                  <th>Branch Code</th>
                  <th>
                    Status
                    <mat-icon ngbTooltip="Reload" placement="bottom" class="sync text-center flex-column"
                      (click)="viewhistory(1)">sync</mat-icon>
                  </th>
                  <th>Action</th>
                  <th>Fetch Summary</th>
                </thead>
                <tbody>
                  <tr *ngFor="let col of viewHistoryLists; index as i">
                    <td>
                      {{ (pagination.index - 1) * limit + i + 1 }}
                    </td>
                    <td>
                      {{ col.date }}
                    </td>
                    <td>
                      {{
                      col.type == 4
                      ? "FAS"
                      : col.type == 5
                      ? "CBS"
                      : col.type == 6
                      ? "ARS"
                      : col.type
                      }}
                    </td>
                    <td>
                      {{ col.kd_accountno }}
                    </td>
                    <td>
                      {{ col.kd_branchcode }}
                    </td>
                    <td>
                      {{
                      col.status == 1
                      ? "Active"
                      : col.status == 0
                      ? "Inactive"
                      : col.status == 4
                      ? "Success"
                      : col.status == 3
                      ? "Processing"
                      : col.status == 2
                      ? "Started"
                      : col.status == 10
                      ? "Rule
                      failed"
                      : col.status
                      }}
                    </td>
                    <td>
                      {{ col.ars_status }}
                    </td>
                    <td>
                      <button type="button" class="btn download" ngbTooltip="Download" placement="bottom" data-dismiss="modal" (click)="
                          handleButtonClick(
                            col.kd_accountno,
                            col.kd_branchcode,
                            col.date,
                            'Headers',
                            1,
                            col
                          )
                        ">
                        <span class="fa fa-eye"></span>
                      </button>
                    </td>
                    <td *ngIf="this.viewHistoryLists.length == 0" class="text-center">
                      No Records Found!..
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="paginationDiv">
                <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary"
                  (click)="historypreviousclick()">
                  <mat-icon>arrow_back</mat-icon>
                </button>
                <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                <button mat-icon-button [disabled]="pagination.has_next === false" color="primary"
                  (click)="historynextclick()">
                  <mat-icon>arrow_forward</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="JW/GEFU Reports" *ngIf="externalpage">
          <div class="container">
            <form [formGroup]="externaljwreport">
              <div class="row">
                <div class="col-md-10">
                  <mat-form-field appearance="outline" style="width: 25%; margin-top: 1%">
                    <mat-label>Select Date</mat-label>
                    <input matInput required [matDatepicker]="picker23" placeholder="Date" autocomplete="off"
                      formControlName="date" />

                    <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker23">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker23></mat-datepicker>
                  </mat-form-field>

                  <mat-form-field style="width: 25%; margin-left: 5%; margin-bottom: 0" appearance="outline">
                    <mat-label>GLNO</mat-label>
                    <input matInput formControlName="gl_no" />
                  </mat-form-field>

                  <mat-form-field style="
                      width: 25%;
                      margin-left: 3%;
                      margin-top: 0%;
                      margin-bottom: 0;
                    " appearance="outline">
                    <mat-label>Branch Code</mat-label>
                    <input matInput formControlName="branch_code" />
                  </mat-form-field>
                  <button mat-mini-fab type="button" id="buttonsSubmit" aria-label="Search" (click)="viewhistory(1)"
                    style="margin-left: 4%">
                    <mat-icon>search</mat-icon>
                  </button>
                </div>
              </div>
            </form>
            <div class="row">
              <div class="col-md-4" style="padding: 3%">
                <mat-label>Pass Wisefin JW Report</mat-label>
                <button type="button" class="btn btn-outline-success radius"  ngbTooltip="Download JW Report" placement="bottom"
                  style="white-space: nowrap; margin-right: 12px">
                  <span class="fa fa-download" (click)="externalreportdownload(1)">
                  </span>
                </button>
              </div>
              <div class="col-md-4" style="padding: 3%">
                <mat-label>Pass GEFU Report</mat-label>
                <button type="button" class="btn btn-outline-success radius" ngbTooltip="Download JW Report" placement="bottom"
                  style="white-space: nowrap; margin-right: 12px">
                  <span class="fa fa-download" (click)="externalreportdownload(1)">
                  </span>
                </button>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Auto fetch summary">
          <div class="refresh_summary">
            <button class="btn btn-outline-success refresh_status" ngbTooltip="Refresh" placement="bottom"
              (click)="refresh_sum(3)"><mat-icon>refresh</mat-icon></button>
          </div>
          <div style="margin-bottom: 15px;width: 98%;margin-left: 10px;">
            <lib-vs-cbox-summary [SummaryDetails]="autofetch_summary_withgl"
            [SummaryApiObj]="autofetch_summary_with_gl"></lib-vs-cbox-summary> 
          </div>
          <!-- <div style="width: 98%;margin-left: 10px;margin-top: 20px;">
            <div class="table-responsive">
              <table class="table" id="historytable" style="text-align: center;">
                <thead class="table_header">
                  <th>S.No</th>
                  <th>Date</th>
                  <th>GL NO</th>
                  <th>Branch</th>
                  <th>Status</th>
                  <th>File name</th>
                  <th>Download</th>
                  <th>Delete</th>
                </thead>
                <tbody style="padding:5px;">
                  <tr *ngFor="let sum of autofetchsumlist;index as ind">
                    <td>{{ (paginationauto.index - 1) * limit + ind + 1 }}</td>
                    <td>{{sum.date}}</td>
                    <td>{{sum.kd_accountno}}</td>
                    <td>{{sum.kd_branchcode}}</td>
                    <td>
                      <span *ngIf="sum.status===1">Active</span>
                      <span *ngIf="sum.status===2">Started</span>
                      <span *ngIf="sum.status===3">Processing</span>
                      <span *ngIf="sum.status===4">Success</span>
                    </td>
                    <td>{{sum.file_name}}</td>
                    <td><mat-icon (click)="downloadautofetch(sum.id)" style="cursor: pointer;">download</mat-icon></td>
                    <td><mat-icon style="cursor: pointer;" (click)="deletesummaryid(sum)">delete</mat-icon></td>
                  </tr>

                </tbody>
              </table>
              <div *ngIf="autofetchsumlist ?.length == 0" style="text-align: center;">
                <h3>Sorry data not found... </h3>
              </div>
              <div class="col-sm-12" style="font-size:x-small;text-align:right;">
                <button (click)="prevpageapi()" mat-icon-button [disabled]="paginationauto?.has_previous === false"
                  color="primary">
                  <mat-icon class="customIconSize">arrow_back</mat-icon>
                </button>
                <span style="font-size: 15px;"> {{paginationauto?.index}}</span>
                <button (click)="nextpageapi()" mat-icon-button [disabled]="paginationauto?.has_next === false"
                  color="primary">
                  <mat-icon class="customIconSize">arrow_forward</mat-icon>
                </button>

              </div>
            </div>
          </div> -->
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>

<div id="actionmodal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header runprocess">
        <h2 class="modal-title runpro">ARS Run Process</h2>
        <button type="button" #closebuttonrun class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <mat-card>
              <mat-card-title class="mat-card-title"> FAS </mat-card-title>
              <mat-card-actions>
                <table class="table table-bordered">
                  <thead class="table_header" style="text-align: center">
                    <th>S.No</th>
                    <th>File Name</th>
                  </thead>
                  <tbody style="text-align: center">
                    <ng-container *ngFor="let obj of fasFiles; let i = index">
                      <tr *ngIf="obj.type === '4'">
                        <td>{{ i + 1 }}</td>
                        <td style="white-space: pre-wrap">
                          {{ obj.file_name }}
                        </td>
                      </tr>
                    </ng-container>
                  </tbody>
                </table>
                <p *ngIf="this.fasFiles.length == 0" style="text-align: center">
                  Data Not Found..
                </p>
              </mat-card-actions>
            </mat-card>
          </div>

          <div class="col-md-6">
            <mat-card>
              <mat-card-title class="mat-card-title"> CBS </mat-card-title>
              <mat-card-actions>
                <table class="table table-bordered fixed">
                  <thead class="table_header" style="text-align: center">
                    <th>S.No</th>
                    <th>File Name</th>
                  </thead>
                  <tbody style="text-align: center">
                    <ng-container *ngFor="let obj of cbsFiles; let i = index">
                      <tr *ngIf="obj.type === '5'">
                        <td>{{ i + 1 }}</td>
                        <td style="word-wrap: break-word">
                          {{ obj.file_name }}
                        </td>
                      </tr>
                    </ng-container>
                  </tbody>
                </table>
                <p *ngIf="this.cbsFiles.length == 0" style="text-align: center">
                  Data Not Found..
                </p>
              </mat-card-actions>
            </mat-card>
          </div>
        </div>
        <br />
        <div class="modal-footer">
          <button class="btn btn-outline-success" (click)="run_progress(1)" style="border-radius: 25px">
            Run
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="boxlevelform" aria-hidden="true" id="editdatas"
  #editdatas>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="background: #ddefdd">
        <b class="modal-title" style="color: black">Conditions</b>
        <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <form [formGroup]="radiobuttonform">
          <div class="row">
            <div class="col-md-3">Multiple GL</div>
            <div class="col-md-9">
              <!-- <span >
                    <mat-checkbox  (change)="multipleglclick(1)"  [checked]="multiplecheckbox === 1" >Yes</mat-checkbox>
                    <mat-checkbox style="margin-left: 100px;"  [checked]="multiplecheckbox === 0"  (change)="multipleglclick(0)">No</mat-checkbox>
                  </span> -->
              <span>
                <mat-radio-group formControlName="radioOption" aria-label="Select an option">
                  <mat-radio-button value="1" (change)="multipleglclick(1)">Yes</mat-radio-button>
                  <mat-radio-button value="0" style="margin-left: 100px"
                    (change)="multipleglclick(0)">No</mat-radio-button>
                </mat-radio-group>
              </span>
            </div>
          </div>
          <div class="row" *ngIf="disable_gl !== 0">
            <div class="col-md-3">Compare GL</div>
            <div class="col-md-9">
              <!-- <span>
                    <mat-checkbox [checked]="hidecomparecheckbox===1"  (change)="compareglclick(1)">Yes</mat-checkbox>
                  <mat-checkbox style="margin-left: 100px;" [checked]="hidecomparecheckbox===0" (change)="compareglclick(0)">No</mat-checkbox>
                  </span> -->
              <span>
                <mat-radio-group formControlName="radioOptioncbs" aria-label="Select an option">
                  <mat-radio-button value="1" (change)="compareglclick(1)">Yes</mat-radio-button>
                  <mat-radio-button value="0" style="margin-left: 100px"
                    (change)="compareglclick(0)">No</mat-radio-button>
                </mat-radio-group>
              </span>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div style="float: right">
          <button style="border-radius: 50px" class="btn btn-outline-secondary" data-dismiss="modal">
            Back
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="fasvalidation">
  <div class="modal-dialog modal-xl" style="width: 40%">
    <div class="modal-content">
      <br />
      <div style="display: flex;justify-content: center;align-items: center;margin-top: 10px;margin-right: 50px;">
        <mat-icon style="font-size: 75px;color: gray;">warning</mat-icon>
      </div>
      <div style="text-align: center;margin-top: 55px;">
        <span style="font-size: 15px;font-weight: 600;font-family:'cursive';">
          Do you wish to overwrite the saved data?
        </span>
      </div>
      <div style="text-align: center;margin-top: 15px;margin-bottom: 30px;">
        <span> <button type="button" class="btn btn-success"  data-dismiss="modal" (click)="yesnopatch(true)">
            YES
          </button></span>
        <span style="margin-left: 30px;"> <button type="button" class="btn btn-danger"  data-dismiss="modal"
            (click)="yesnopatch(false)">
            NO
          </button></span>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="cbsvalidation">
  <div class="modal-dialog modal-xl" style="width: 40%">
    <div class="modal-content">
      <br />
      <div style="display: flex;justify-content: center;align-items: center;margin-top: 10px;margin-right: 50px;">
        <mat-icon style="font-size: 75px;color: gray;">warning</mat-icon>
      </div>
      <div style="text-align: center;margin-top: 55px;">
        <span style="font-size: 16px;font-weight: 700;;font-family:'cursive';">
          Do you wish to overwrite the saved data?
        </span>
      </div>
      <div style="text-align: center;margin-top: 15px;margin-bottom: 30px;">
        <span> <button type="button" class="btn btn-success" data-dismiss="modal" (click)="yesnopatchcbs(true)">
            YES
          </button></span>
        <span style="margin-left: 30px;"> <button type="button" class="btn btn-danger" data-dismiss="modal"
            (click)="yesnopatchcbs(false)">
            NO
          </button></span>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="boxlevelform" aria-hidden="true"
  id="viewsummaryfile" #editdatas>
  <div class="modal-dialog modal-xl" style="max-width: 92%;" >
    <div class="modal-content">
      <div class="modal-header" style="background: #ddefdd">
        <b class="modal-title" style="color: black">Summary details</b>
        <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <mat-tab-group (selectedTabChange)="summarydeatilstab($event)">
          <mat-tab label="Upload Summary">
            <div style="margin-top:15px ;">
              <lib-vs-cbox-summary [SummaryDetails]="template_summary_table"
                [SummaryApiObj]="template_search_summary_apis"></lib-vs-cbox-summary>
            </div>
          </mat-tab>
          <mat-tab label="Run Summary">
            <div class="refresh_summary">
              <button class="btn btn-outline-success refresh_status" ngbTooltip="Refresh" placement="bottom"
                (click)="refresh_sum(1)"><mat-icon>refresh</mat-icon></button>
            </div>
            <div style="margin-top:15px ;">
              <lib-vs-cbox-summary [SummaryDetails]="template_summary_tablehistory"
                [SummaryApiObj]="template_search_summary_api_history"></lib-vs-cbox-summary>
            </div>
          </mat-tab>
          <mat-tab label="Auto fetch summary">
            <div style="margin-top:15px ;">
              <section class="layout">
                <div style="margin-left: 10px;" id="matInput-size">
                  <lib-vs-dynamicform-cmp [InputFields]="temp_field"
                    (dataEvent)="get_temp_daata($event)" [ResetForm]="reset_template_name"></lib-vs-dynamicform-cmp>
                </div>
                <div id="matInput-size">
                  <lib-vs-depdropdown-cmp [ParentObj]="searchvar" (dataEventParent)="getglcodeid_autofetch($event)"
                    (dataEventChild)="selectBranch_autofetch($event)" [ResetForm]="resetFormpopup" [ChildObj]="searchvar1">
                  </lib-vs-depdropdown-cmp>
                </div>
                <div class="grow1">
                  <button class="btn btn-outline-success refresh_status" style="float: right;margin-top: 10px;margin-right: 5px;" ngbTooltip="Refresh" placement="bottom"
                    (click)="refresh_sum(5)"><mat-icon>refresh</mat-icon></button>
                    <button class="btn btn-outline-secondary"
                    style="float: right;margin-top: 10px;border-radius: 50px;margin-right:10px;"
                    (click)="resetallautofetch()">Reset</button>
                  <button class="btn btn-outline-success"
                    style="float: right;margin-top: 10px;border-radius: 50px;margin-right:10px;"
                    (click)="autofetchDownload_viewsummary()">Auto fetch</button>
                   
                </div>
              </section>

              <div>
                <lib-vs-cbox-summary [SummaryDetails]="autofetch_summary_wogl"
                [SummaryApiObj]="autofetch_summary_wgl"></lib-vs-cbox-summary>      
              </div>

            </div>
          </mat-tab>

        </mat-tab-group>
      </div>
      <div class="modal-footer">
        <div style="float: right">
          <button style="border-radius: 50px" class="btn btn-outline-secondary" data-dismiss="modal">
            Back
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="boxlevelform" aria-hidden="true"
  id="getglcount" #editdatas>
  <div class="modal-dialog modal-xl" style="width: 40%">
    <div class="modal-content">
      <div class="modal-header" style="background: #ddefdd">
        <b class="modal-title" style="color: black">GL Count Details</b>
        <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        
        <div style="display: flex;align-items: center;justify-content: space-between;margin-bottom: 10px;">
          <span *ngIf="GL_count">
            <span style="font-size: 15px;font-weight: 600;">GL Count :</span>
            <span class="badge-btn" style="margin-left: 5px;">{{GL_count}}</span>
          </span>
<button class="btn btn-outline-info refresh_status"  (click)="download_gl_count()"><mat-icon ngbTooltip="Download" placement="bottom">download</mat-icon></button>
        </div>
      <div>
        <lib-vs-cbox-summary [SummaryDetails]="gl_count_list_header"
        [SummaryApiObj]="sumarytable_get_gl_count"></lib-vs-cbox-summary>
      </div>
      </div>
      <div class="modal-footer">
        <div style="float: right">
          <button style="border-radius: 50px" class="btn btn-outline-secondary" data-dismiss="modal">
            Back
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
