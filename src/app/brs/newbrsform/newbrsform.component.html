<section class="screen-padding screen-lm">
  <div class="comp-header">
    <p   class="comp-header-p">
      <i class="fa fa-arrow-left back-button" (click)="goback()"></i>
      <span>Templates Creation</span>
    </p>
  </div>
  <!-- <div style="margin-top: 10px;">
    <b style="margin-left:35px;font-size: 16px;font-weight: bold;">Templates Creation</b>
  </div> -->
  <!-- <mat-icon (click)="toggleTheme()" title="Change theme">invert_colors</mat-icon> -->
<!-- <div class="row" style="text-align:center;">
<button type="button"  class="btn btn-basic" (click)="showwisefin()">NWISEFIN</button>

<button type="button"  class="btn btn-basic" (click)="showbnkstmtss()">BANK STATEMENT</button>
</div> -->
  <mat-card>
  <div style="display: flex; align-items: center; gap: 10px;flex-wrap: wrap;">
    
    
      <form [formGroup]="fileform">
        <!-- <input type="file" class="file-upload" multiple (change)="wisefinfileupload($event)"> -->
        <div class="filter-aling">
        <label class="custom-file-upload" style="border-radius: 50px;">
          <input type="file" (change)="wisefinfileupload($event)" formControlName="file_fas_upload"  style="display: none;">
          <i class="fa fa-cloud-upload"></i>FIle 1 excel upload
        </label>
        <span *ngIf="fas_file_name">
          <span class="file-name" >{{fas_file_name }}</span>
          <mat-icon type="button" class="delete-file-btn" style="margin-left: 5px;" (click)="deleteFile()">delete</mat-icon>
        </span>
   
       
        <label class="custom-file-upload-cbs" style="border-radius: 50px;" *ngIf="showandhide!==3">
          <input type="file" (change)="cbsfileupload($event)" formControlName="file_cbs_upload"  style="display: none;">
          <i class="fa fa-cloud-upload"></i>File 2 excel upload
        </label>
        <span *ngIf="cbs_file_name">
          <span class="file-name" >{{ cbs_file_name}}</span>
          <mat-icon type="button" class="delete-file-btn" style="margin-left: 5px;" (click)="deletecbsFile()">delete</mat-icon>
        </span>
        <div style="margin-top:5px">
          <button class="btn btn-outline-success"  style="border-radius: 50px;" (click)="clicktoupload()">Upload</button>
         </div>
      </div>
      </form>
      <form  [formGroup]="brsformdata" style="display: flex; align-items: center; gap: 10px">
       
        <div style="margin-left: 10px;margin-top: 15px;" id="matInput-size" >
          <mat-form-field  appearance="outline">
            <mat-label>Template Name</mat-label>
            <input matInput  name="name" formControlName="template_name" autocomplete="off">
            <!-- <mat-select matInput formControlName="template_name">
              <mat-option *ngFor="let item of templates" [value]="item.id">
                  {{item.template_name}}
              </mat-option>
          </mat-select> -->
          </mat-form-field>
        </div>
        <div id="matInput-size" style="margin-top: 15px;">
          <mat-form-field   appearance="outline">
            <mat-label>Description</mat-label>
            <input matInput  name="name" formControlName="description" autocomplete="off">
          
          </mat-form-field>
        </div>
        <div id="matInput-size" style="margin-top: 15px;">
          <mat-form-field  appearance="outline">
            <mat-label>Template</mat-label>
            <mat-select formControlName="recon_ars">
              <mat-option *ngFor="let data of recon_ars_array" [value]="data.id" (click)="gettemplateid(data.id)">
                {{data.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
       </form>
      
  </div>
</mat-card>
  

  <!-- <div class="col-md-6"> -->

    <!-- <form [formGroup]="userTable" >
        <table class="table" style="margin-left:150px;">
          <thead>
            <tr style="font-weight:bold;">
              <td>Template Columns</td>
              <td>Input Columns</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Line Description</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>GL Date</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="gl_date" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Branch Code</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="branch_code" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            
            <tr>
              <td>Source</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="customer_ref_no" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Category</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="category" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>

            <tr>
              <td>GL Doc No.</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="gl_doc_no" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>User Name</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="user_name" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Invoice Number</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="invoice_no" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
           <tr>
              <td>Credit</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="credit_amount" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Debit</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="debit_amount" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr> 
            <tr>
              <td>Journal Name</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="journal_name" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Account Number</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="account_number" style="font-size:16px;" required>
              </mat-form-field>
              </td>
              </tr>
              <tr>
            <tr>
              <td>Account Description</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="account_description" style="font-size:16px;" required>
              </mat-form-field>
              </td>
              </tr>
              <tr>
              <td>Credit/Debit</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline"> 
               
            </mat-form-field> 
              
                <input id="SingleColumn" 
                          type="radio" 
                          [value]="0"
                          name="Column" 
                          formControlName="amount_types" 
                          (change)="changeColumn($event)"/>
                <label for="SingleColumn">Single Column</label>
                <input id="multiColumn" 
                          type="radio" 
                          [value] = "1"
                          name="Column" 
                          formControlName="amount_types" 
                          (change)="changeColumn($event)"/>
                <label for="multiColumn">Seperate Coulmn</label>
               <mat-button-toggle-group name="chooseSystem" aria-label="Choose System"
                style="border-radius:28px;margin-left:400px;">
                <mat-button-toggle value="1" (click)="changeColumn($event)">Single </mat-button-toggle>
                <mat-button-toggle value="0" (click)="changeColumn($event)">Multi</mat-button-toggle>
    
            </mat-button-toggle-group> 
              </td>
            </tr>
           <tr>
              <td>Credit</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="credit_amount" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Credit</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="credit_amount" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
          <div *ngIf="singleColumn">
            <tr>
              <td>Credit</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="credit_amount" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Debit</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="debit_amount" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
          </div>
          <div *ngIf="multiColumns">
            <tr>
              <td>Credit Name</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="credit_name" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Debit Name</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="debit_name" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Amount</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="amount" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Credit/Debit</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="credit_debit" style="font-size:16px;" required>
              </mat-form-field>
              </td>
            </tr>
           
          </div>


          </tbody> 
          <tbody>
            <tr>
              <td>Gl Number</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Branch Code</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Transaction date</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Dr/Cr</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Amount</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Entry Crno</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Remark</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Entry Gid</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
            <tr>
              <td>Entry Module</td>
              <td>
                <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                appearance="outline">
                  <input matInput formControlName="line_description" class="matformfieldinputstyle"  required>
              </mat-form-field>
              </td>
            </tr>
          </tbody>
        </table>
      <div style="float:right;">
        <button mat-raised-button type="submit" (click)="addRow()">Add row</button> 
        <button class="btn btn-primary" type="submit" (click)="submitsForm()">Submit</button>
        <button style="margin-left: 15px;" class="btn btn-secondary" type="submit" (click)="goback()" >Back</button>
      </div>

      <br>
      <br>
    </form>-->
    <div style="display: flex;gap: 20px;justify-content: space-around;margin-top: 20px;">
     
      <mat-card  style="width: 50%;">
        <mat-card-content>
          <div style="display: flex;"> 
            <div id="matInput-size" >
              <mat-form-field  appearance="outline">
                <mat-label>File 1 Heading</mat-label>
                <input matInput [formControl]="wisefininput_form">
              </mat-form-field>
            </div>
            <!-- <div style="margin-left: 10px;margin-top: 12px;">
              <span class="header_font">Fields</span>
            </div> -->
          </div>
          <form [formGroup]="newisefinform" >
            <table class="table">
              <thead>
                <tr style="font-weight:bold;">
                  <td>Template Columns</td>
                  <td>Input Columns</td>
                </tr>
              </thead>
          <tbody>
            <tr>
              <td>Gl Number</td>
              <td class="temp_td">
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select formControlName="account_number" class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'account_number')">x</button>
              </td>
            </tr>
            <tr>
              <td>Branch Code</td>
              <td class="temp_td">
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select formControlName="branch_code" class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'branch_code')">x</button>
              </td>
            </tr>
            <tr>
              <td>Transaction Date</td>
              <td class="temp_td">
            
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select formControlName="transaction_date" class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'transaction_date')">x</button>
              </td>
            </tr>
            <tr>
              <td>Dr/Cr</td>
              <td class="temp_td">
               
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select formControlName="credit_debit" class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'credit_debit')">x</button>
              </td>
            </tr>
            <tr>
              <td>Amount</td>
              <td class="temp_td">
               
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select formControlName="amount" class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'amount')">x</button>
              </td>
            </tr>
            <tr>
              <td>Entry Crno</td>
              <td class="temp_td">
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select formControlName="entry_crno"  class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'entry_crno')">x</button>
              </td>
            </tr>
            <tr>
              <td>Remark</td>
              <td class="temp_td">
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select formControlName="remarks"  class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'remarks')">x</button>
              </td>
            </tr>
            <tr>
              <td>Entry GID</td>
              <td class="temp_td">
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select  formControlName="entry_gid" class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'entry_gid')">x</button>
              </td>
            </tr>
            <tr>
              <td>Entry Module</td>
              <td class="temp_td">
              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                <mat-select formControlName="entry_module" class="matformfieldinputstyle">
                  <mat-option *ngFor="let data of header_fas_array" [value]="data">
                    {{data}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newisefinform,'entry_module')">x</button>
              </td>
            </tr>
           
          </tbody>
        </table>
        <hr>
       
      <div  [formGroup]="fas_form" style="margin-bottom: 10px;margin-top: 15px;">
        <ng-container formArrayName="fas">
            <div *ngFor="let form of fas?.controls; let i = index">
                <div  [formGroup]="form">
                  
                    <span style="margin-left: 13px;">Column&nbsp;{{i+1}}</span>
                    
                      <span style="display: flex;float:right;margin-right: 142px;margin-top: -7px;gap:10px">
                        <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                          <mat-select [formControlName]="'column' + (i + 1)" class="matformfieldinputstyle">
                            <mat-option *ngFor="let data of header_fas_array" [value]="data">
                              {{data}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <span ><button class="btn btn-danger refresh_status" (click)="deletefascolumn(i)">X</button></span>
                        </span>
                
                </div>
                <hr>
              </div>
              
        </ng-container>
    
    </div>
    <div>
      <span style="margin-left: 13px;"><button class="btn btn-outline-info" style="border-radius: 50px;" ngbTooltip="Add column" (click)="fasaddform()">ADD</button></span>
    
    </div>
      <br>
      <br>
      </form>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="showandhide!==3" style="width: 50%;">
        <mat-card-content>  
          <div style="display: flex;"> 
            <div id="matInput-size" >
              <mat-form-field  appearance="outline">
                <mat-label>File 2 Heading</mat-label>
                <input matInput [formControl]="cbsinput_form">
              </mat-form-field>
            </div>
            <!-- <div style="margin-left: 10px;margin-top: 12px;">
              <span class="header_font">Fields</span>
            </div> -->
          </div>
          <form [formGroup]="newcbsform">
            <table class="table">
              <thead>
                <tr style="font-weight:bold;">
                  <td>Template Columns</td>
                  <td>Input Columns</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Account Number</td>
                  <td class="temp_td">
                  <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                    <mat-select formControlName="account_number" class="matformfieldinputstyle">
                      <mat-option *ngFor="let data of header_cbs_array" [value]="data">
                        {{data}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newcbsform,'account_number')">x</button>
                  </td>
                </tr>
                <tr>
                  <td>Branch Code	</td>
                  <td class="temp_td">
                  <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                    <mat-select formControlName="branch_code" class="matformfieldinputstyle">
                      <mat-option *ngFor="let data of header_cbs_array" [value]="data">
                        {{data}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newcbsform,'branch_code')">x</button>
                  </td>
                </tr>
                <tr>
                  <td>Narration</td>
                  <td class="temp_td">
                  <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                    <mat-select formControlName="narration" class="matformfieldinputstyle">
                      <mat-option *ngFor="let data of header_cbs_array" [value]="data">
                        {{data}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newcbsform,'narration')">x</button>
                  </td>
                </tr>
                <tr>
                  <td>Dr/Cr</td>
                  <td class="temp_td">
                  <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                    <mat-select formControlName="credit_debit" class="matformfieldinputstyle">
                      <mat-option *ngFor="let data of header_cbs_array" [value]="data">
                        {{data}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newcbsform,'credit_debit')">x</button>
                  </td>
                </tr>
                <tr>
                  <td>Amount</td>
                  <td class="temp_td">
                  <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                    <mat-select formControlName="amount" class="matformfieldinputstyle">
                      <mat-option *ngFor="let data of header_cbs_array" [value]="data">
                        {{data}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newcbsform,'amount')">x</button>
                  </td>
                </tr>
                <tr>
                  <td>Transaction Date</td>
                  <td class="temp_td">
                
                  <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                    <mat-select formControlName="transaction_date" class="matformfieldinputstyle">
                      <mat-option *ngFor="let data of header_cbs_array" [value]="data">
                        {{data}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button class="btn btn-danger refresh_status" ngbTooltip="Reset Field" placement="right" (click)="resetfunction(newcbsform,'transaction_date')">x</button>
                  </td>
                </tr>
              </tbody>
            </table>
            <hr>
           
            <div  [formGroup]="cbs_form" style="margin-bottom: 10px;margin-top: 15px;">
              <ng-container formArrayName="cbs">
                  <div *ngFor="let form of cbs?.controls; let i = index">
                      <div  [formGroup]="form">
                        
                          <span style="margin-left: 13px;">Column&nbsp;{{i+1}}</span>
                          
                            <span style="display: flex;float:right;margin-right: 142px;margin-top: -7px;gap: 10px;">
                              <mat-form-field  style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"  appearance="outline">
                                <mat-select [formControlName]="'column'+(i+1)" class="matformfieldinputstyle">
                                  <mat-option *ngFor="let data of header_cbs_array" [value]="data">
                                    {{data}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                              <span ><button class="btn btn-danger refresh_status" (click)="deletecbscolumn(i)">X</button></span>
                              </span>
                      
                     
                      </div>
                      <hr>
                    </div>
                    
              </ng-container>
          
          </div>
          <div>
            <span style="margin-left: 13px;"><button class="btn btn-outline-info" style="border-radius: 50px;" ngbTooltip="Add column" (click)="cbsaddform()">ADD</button></span>
        
          </div>
          <br>
          <br>
        </form>
      </mat-card-content>
      </mat-card>
   
    </div>
    <div class="col-md-6">
   
  
    </div>
    

 

<div style="display: flex; align-items: center; gap: 10px; margin-top: 10px; width:100%; justify-content: flex-end;">
  <!-- <button mat-raised-button type="submit" (click)="addRow()">Add row</button> -->
  <button class="btn btn-outline-success" type="submit" style="border-radius: 50px;" (click)="submitsForm()">Submit</button>
  <button style="margin-left: 15px;border-radius: 50px;" class="btn btn-outline-primary" type="submit" (click)="goback()" >Back</button>
</div>


</section>
