<section class="screen-padding screen-lm" >
    <div class="comp-header">
        <span style="font-weight: 600;">Archival Request Summary</span>
    </div>


    <div class="filter-aling-2">
        <lib-vs-search-cmp class="npm-mat-edit" [SearchArr]="archival_summary_search"  [Outputtype]="searcharchievalvar" (dataoutput)="archievalsummarySearch($event)"   [ButtonArr]="archievalbutton" >
        </lib-vs-search-cmp>
    </div>
<!-- <form [formGroup]="summaryarchival" style="margin-top:1%;margin-left:15px">
    <div class="row">

        <div class="col-md-2">

            <mat-form-field appearance="outline" style="width: 100%;">
                <mat-label>Archival Code</mat-label>
                <input matInput formControlName="archival_code">
            </mat-form-field>
        </div>
        <div class="col-md-2">

            <mat-form-field appearance="outline" style="width: 100%;">
                <mat-label>Archival Date</mat-label>
                <input matInput [matDatepicker]="picker1" placeholder="Date" autocomplete="off"
                    formControlName="archival_date">
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
        </div>
        <div class="col-md-2">

            <mat-form-field appearance="outline" style="width: 100%;">
                <mat-label>Vendor</mat-label>
                <mat-select matInput formControlName="vendor">
                    <mat-option>

                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-2" >
            <mat-form-field appearance="outline" style="width: 100%;">
                <mat-label>Archival Status</mat-label>
                <mat-select matInput formControlName="archival_status">
                    <mat-option>

                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-3" style="margin-top: 1%;">

            <button matTooltip="Search Records" class="btn btn-outline-success" id="rmubtn" (click)="searcharchival()"
                color="primary"><i class="fa fa-search" aria-hidden="true"></i></button>
            <button class="btn btn-warning" matTooltip="Clear Entries" style="margin-left:20px"
                (click)="summaryarchival.reset()" id="rmubtn">Clear</button>
                <button matTooltip="Archival Request" type="button" class="btn btn-outline-success"
            id="rmubtn" (click)="addNewArchival()" style="margin-left: 20px;" data-target="#addNew" data-toggle="modal"><span class="fa fa-plus"></span>
            NEW </button> -->

            <!--  <button matTooltip="Return Request" type="button" class="btn btn-outline-primary" id="rmubtn"
                (click)="returnreq()" style="margin-left: 20px;"><span class="fa fa-plus"></span>
                RETURN </button>-->
        <!-- </div> -->
        <!-- <div class="col-md-3">

            <mat-form-field>
                <mat-label>Vendor</mat-label>
                <mat-select matInput formControlName="vendor">
                    <mat-option>

                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div> -->
    <!-- </div> -->
    <!-- <section class="row"> -->
        <!-- <div class="col-md-4">
            <mat-form-field>
                <mat-label></mat-label>
                <mat-select matInput formControlName="action">
                    <mat-option>

                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div> -->
    

    <!-- </section> -->

<!-- </form> -->
<lib-vs-cbox-summary [SummaryDetails]="archivalsummaryData"
[SummaryApiObj]="archivalsummary"></lib-vs-cbox-summary>
<!-- <div id="archsummary" class="table-responsive"> -->
    <!--Maker Summary-->
    <!-- <table class="table table-bordered" id="archivetable" style=" line-height: 50px;">
        <thead class="table_header">
            <th>S.No</th>
            <th>Archival Code</th>
            <th>Date</th>
            <th>No Of Boxes </th>
            <th>Status</th> -->
            <!-- <th>View</th> -->
            <!-- <th>Action</th> -->
            <!-- <th>Action</th> -->
        <!-- </thead>
        <tbody *ngFor="let lists of archivalsummarylist;index as ind">
            <td>{{(pagination.index-1)*limit+ind+1}}</td>
            <td>{{lists.archival_code}}</td>
            <td>{{lists.archival_date | date:'dd-MM-yyyy'}}</td>
            <td>{{lists.num_of_boxes}}</td>
            <td>{{lists.archival_status.value}}</td>
            <td>
                <div class="share-button">
                    <span>View</span> -->
                    <!-- <a data-toggle="modal" data-target="#singlerecordform" (click)="getsinglerecord(lists.id)"><i class="fa  fa-id-card-o " matTooltip="Single Record"></i></a> -->
                    <!-- <a data-toggle="modal" data-target="#boxlevelform"
                        (click)="getboxlevel(lists.id, lists.barcode, lists.archival_date)"><i class="fa fa-archive"
                            matTooltip="Box Level"></i></a>
                    <a data-toggle="modal" data-target="#filelevelform" (click)="getfilelevel(lists.id)"><i class="fa fa-file"
                            matTooltip="File level"></i></a>
                    <a *ngIf="archstatus[lists.archival_status.value] == 'REQUESTED' " data-toggle="modal"
                        data-target="#trackingArch" (click)="canceldata(lists)"><i class="fa fa-trash"
                            matTooltip="Cancel"></i></a>

                    <a *ngIf="archstatus[lists.archival_status.value] == 'SCHEDULED' " data-toggle="modal"
                        data-target="#trackingArch" (click)="canceldata(lists)"><i class="fa fa-trash"
                            matTooltip="Cancel"></i></a>
                </div> -->
                <!-- <button matTooltip="Archival Request" type="button" class="btn btn-outline-info" id="rmubtn"
                (click)="getsinglerecord(lists.id)" style="margin-left: 20px;" data-toggle="modal" data-target="#singlerecordform">
                Single Record </button>
                <button matTooltip="Archival Request" type="button" class="btn btn-outline-info" id="rmubtn"
                (click)="addNewArchival()" style="margin-left: 20px;">File View </button>
                <button matTooltip="Archival Request" type="button" class="btn btn-outline-info" id="rmubtn"
                (click)="addNewArchival()" style="margin-left: 20px;">BOX View </button> -->

                <!-- <mat-icon matTooltip=" Single View" (click)="viewarchival()">visibility</mat-icon>
                    
                <mat-icon matTooltip=" Single View" (click)="viewarchival()"> insert_drive_file</mat-icon> -->
            <!-- </td> -->
            <!-- <td>
                <button *ngIf="archstatus[lists.archival_status.value] != 'CANCELLED' " matTooltip="Cancel Request" type="button" class="btn btn-outline-info" id="rmubtn"
                 data-toggle="modal" data-target="#trackingArch" (click)="canceldata(lists)"
                 
               style="margin-left: 20px;" >
                CANCEL </button>

                <button *ngIf="archstatus[lists.archival_status.value] == 'CANCELLED' " matTooltip="Cancel Request" type="button" class="btn btn-outline-warning" id="rmubtn"
                data-toggle="modal" data-target="#trackingArch" (click)="canceldata(lists)"
                
              style="margin-left: 20px;"  disabled>
               CANCEL </button> -->
            <!-- <mat-icon matTooltip="Track" data-toggle="modal" data-target="#trackingArch" style="font-size:30px;">location_on</mat-icon> -->
            <!-- </td> -->
            <!-- <td>
                <mat-icon matTooltip="Edit Archival Request" (click)="editarchival()">edit</mat-icon>
            </td> -->
        <!-- </tbody>

    </table> -->
    <!-- <div *ngIf="!archivalsummarylist.length" style="margin-left: 42%;">
        <h3>Sorry no data found!... </h3>
    </div> -->

    <!-- <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
        <button (click)="prevpage()" mat-icon-button [disabled]="pagination.has_previous === false" color="primary">
            <mat-icon>arrow_back</mat-icon>
        </button>
        {{pagination.index}}
        <button (click)="nextpage()" mat-icon-button [disabled]="pagination.has_next === false" color="primary">
            <mat-icon>arrow_forward</mat-icon>
        </button>

    </div> -->

    <!--Checker Summary-->
    <!-- <table *ngIf="user == 'Approver'" class="table table-bordered table-responsive" id="archivetable">
        <thead class="table_header">
            <th>S.No</th>
            <th>Date</th>
            <th>Department</th>
            <th>Document Type</th>
            <th>No Of Boxes </th>
            <th>Address</th>
            <th>Contact Person</th>
            <th>Action</th>
        </thead>
        <tbody>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <mat-icon matTooltip="Edit Archival Request" (click)="editarchival()">visibility</mat-icon>
            </td>
        </tbody>
    </table>

</div> -->

<!-- <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="singlerecordform" aria-hidden="true"
id="singlerecordform" #singlerecordform>
<div class="modal-dialog modal-xl" style="width: 60%;">
    <div class="modal-content">
        <div class="modal-header" style="background:#DDEFDD;">
            <h2 class="modal-title" style="color:black ;">Single Record</h2>
            <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div style="margin-left:10px;">
            <table class="table table-bordered table-responsive" id="singlerecord">
                <thead class="table_header">
                    <th>Archival Date</th>
                    <th>Barcode Type</th>
                    <th>Name</th>
                    <th>Address</th>
                    <th>Contact number </th>
                    <th>Branch Code</th>
                    <th> Branch Name</th>
                    <th>Status</th>
                </thead>
                <tbody *ngFor="let singles of singlerecord;index as ind">
                    <td>{{singles.archival_date |  date:'dd-MM-yyyy'}}</td>
                    <td>{{singles.archival_details[0].barcode_type.name}}</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>
                        <mat-icon matTooltip="Edit Archival Request" (click)="editarchival()">visibility</mat-icon> 
                    </td>
                </tbody>
            </table>
           
        </div>
    </div>
</div>
</div> -->

<div
    class="modal fade"
    id="boxlevelform"
    tabindex="-1"
    aria-labelledby="boxlevelform"
    aria-hidden="true"
    >
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content" >
        <div class="modal-header">
          <p class="modal-title mb-0" id="boxlevelform" style="font-weight: 600;">Box Level View</p>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            #closeachievalpopup
            aria-label="Close"
            (click)="closedpopup()"
          >
            <i aria-hidden="true">&times;</i>
          </button>
        </div>
    
        <div class="modal-body">
            <lib-vs-cbox-summary
            [SummaryDetails]="archival_summary_popup"
            [SummaryApiObj]="archieval_summaryapi"
          ></lib-vs-cbox-summary>
            </div>
      </div>
    </div>
    </div>
<!-- <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="boxlevelform" aria-hidden="true" id="boxlevelform"
    #boxlevelform>
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Box Level View</h2>
                <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <br>
            <br>

            <div style="margin-left:10px;">
                <table class="table table-bordered table-responsive" id="boxlevel">
                    <thead class="table_header">
                        <th>S.No</th>
                        <th>Archival Date</th>
                        <th>Barcode Type</th>
                        <th>Barcode No</th>
                        <th>Vendor</th>

                        <th>Status</th>
                    </thead>
                    <tbody *ngFor="let lists of boxlevellists;index as ind">
                        <td>{{(pagination.index-1)*limit+ind+1}}</td>
                        <td>{{lists.archival_date | date:'dd-MM-yyyy'}}</td>
                        <td>{{lists.barcode_type.name}}</td>
                        <td>{{lists.barcode_no}}</td>
                        <td>{{lists.vendor.name}}</td>
                        <td>{{lists.archival_status.value}}</td>
                    </tbody>
                </table>

                <div *ngIf="!boxlevellists.length" style="margin-left: 42%;">
                    <h3>Sorry no data found!... </h3>
                </div>

                <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
                    <button (click)="prevpages()" mat-icon-button [disabled]="pagination.has_previous === false"
                        color="primary">
                        <mat-icon>arrow_back</mat-icon>
                    </button>
                    {{pagination.index}}
                    <button (click)="nextpages()" mat-icon-button [disabled]="pagination.has_next === false"
                        color="primary">
                        <mat-icon>arrow_forward</mat-icon>
                    </button>

                </div>

            </div>
        </div>
    </div>
</div> -->

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="singlerecordform" aria-hidden="true"
    id="singlerecordform" #singlerecordform>
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">View Single Record</h2>
                <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <br>
            <br>

            <div style="margin-left:10px;">
                <table class="table table-bordered table-responsive" id="singlerecord">
                    <thead class="table_header">
                        <th>Archival Date</th>
                        <th>Archival Code</th>
                        <!-- <th>Barcode Type</th> -->
                        <!-- <th>Name</th>
                    <th>Address</th>
                    <th>Contact number </th> -->

                        <th>Branch Code</th>
                        <th> Branch Name</th>
                        <th>Vendor</th>
                        <th>Status</th>
                    </thead>
                    <tbody>
                        <td>{{singlerecord.archival_date | date:'dd-MM-yyyy'}}</td>
                        <td>{{singlerecord.archival_code}}</td>
                        <!-- <td>{{singlerecord['archival_details[0]'].barcode_type.name}}</td> -->
                        <!-- <td>{{singlerecord['contact_person']}}</td> -->
                        <!-- <td>{{singlerecord['contact_person']}}</td>
                    <td>{{singlerecord['archival_code']}}</td> -->
                        <!-- <td>{{singlerecord['archival_details'][0].barcode_type.name}}</td> -->
                        <td>{{singlerecord.branch?.code}}</td>
                        <td>{{singlerecord.branch?.name}}</td>
                        <td>{{singlerecord.vendor?.name}}</td>
                        <td>{{singlerecord.archival_status?.value}}</td>

                        <!-- <td>{{singlerecord['contact_person']}}</td>
                    <td>{{singlerecord['contact_person']}}</td>
                    <td>{{singlerecord['contact_person']}}</td> -->

                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>


<div
    class="modal fade"
    id="filelevelform"
    tabindex="-1"
    aria-labelledby="filelevelform"
    aria-hidden="true"
    >
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content" >
        <div class="modal-header">
          <p class="modal-title mb-0" id="filelevelform" style="font-weight: 600;">File Level View</p>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            #closeachievalpopup
            aria-label="Close"
            (click)="closedpopup()"
          >
            <i aria-hidden="true">&times;</i>
          </button>
        </div>
    
        <div class="modal-body">
            <lib-vs-cbox-summary
            [SummaryDetails]="archival_summary_popup1"
            [SummaryApiObj]="archieval_summaryapi_popup"
          ></lib-vs-cbox-summary>
            </div>
      </div>
    </div>
    </div>


<!-- <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="filelevelform" aria-hidden="true"
    id="filelevelform" #filelevelform>
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">File Level View</h2>
                <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <br>
            <br>

            <div style="margin-left:10px;">
                <table  class="table table-bordered
                " id="boxlevel">
                    <thead class="table_header">
                        <th>S.No</th>
                        <th>Product </th>
                        <th>Product Barcode</th>
                        <th>Retention Date</th>
                        <th>Status</th> -->
                        <!-- <th>Legitimate</th> -->
                    <!-- </thead> -->
                    <!-- <tbody *ngFor="let lists of filelevellists;index as ind">
                        <td>{{(pagination.index-1)*limit+ind+1}}</td>
                        <td>{{lists.product.name}}</td>
                        <td>{{lists.product_barcode}}</td>
                        <td>{{lists.retention_date | date:'dd-MM-yyyy'}}</td>
                        <td>{{lists.archival_status.value}}</td> -->
                        <!-- <td>
                            <div>

                                <div class="btn-group" role="group" aria-label="buttons">
                                    <button type="button" class="btn btn-light" data-toggle="modal"
                                        href="#myModal">✓</button>
                                    <button type="button" class="btn btn-light">View</button>
                                    <button type="button" class="btn btn-light" (click)="deleteLegitimate(lists.id)">X</button>
                                </div> -->

                                <!-- <a data-toggle="modal" data-target="#" ><i class="fa fa-plus-square" matTooltip="Create"></i></a>
                            <a data-toggle="modal" data-target="#" style="margin-left:15px;"><i class="fa fa-eye" matTooltip="View"></i></a>
                            <a data-toggle="modal" data-target="#" style="margin-left:15px;"><i class="fa fa-minus-square" matTooltip="Delete"></i></a>
                            <a  *ngIf="archstatus[lists.archival_status.value] == 'REQUESTED' " data-toggle="modal" data-target="#trackingArch" (click)="canceldata(lists)"><i class="fa fa-trash" matTooltip="Cancel"></i></a> -->

                                <!-- <a  *ngIf="archstatus[lists.archival_status.value] == 'SCHEDULED' " data-toggle="modal" data-target="#trackingArch" (click)="canceldata(lists)"><i class="fa fa-trash" matTooltip="Cancel"></i></a> -->
                            <!-- </div>
                        </td> -->
                    <!-- </tbody>
                </table>

                <div *ngIf="!filelevellists.length" style="margin-left: 42%;">
                    <h3>Sorry no data found!... </h3>
                </div>

                <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
                    <button (click)="prevpages()" mat-icon-button [disabled]="pagination.has_previous === false"
                        color="primary">
                        <mat-icon>arrow_back</mat-icon>
                    </button>
                    {{pagination.index}}
                    <button (click)="nextpages()" mat-icon-button [disabled]="pagination.has_next === false"
                        color="primary">
                        <mat-icon>arrow_forward</mat-icon>
                    </button>

                </div>

            </div>
        </div>
    </div>
</div> -->

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="trackingArch" aria-hidden="true" id="trackingArch"
    #trackingArch>
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Archival Request Cancellation</h2>
                <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <br>
            <br>
            <form [formGroup]="cancelrequest">
                <div class="modal-body">
                    <mat-form-field>
                        <mat-label>Comments</mat-label>
                        <input matInput formControlName="comments">
                    </mat-form-field>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" #modalclose id="rmubtn" class="btn btn-outline-secondary"
                    data-dismiss="modal">Close</button>
                <button type="button" id="rmubtn" class="btn btn-outline-primary" (click)="deletesinglerecord()">Request
                    Cancel</button>
            </div>


        </div>
    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createLegitimate" aria-hidden="true"
    data-bs-backdrop="static" id="createLegitimate" #createLegitimate>
    <div class="modal-dialog modal" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Create Legitimate File</h2>
                <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <br>
            <br>
            <div style="margin-left:10px;">

                <form [formGroup]="createLegitimates">
                    <br><br>
                    <section class="row">

                        <div class="col-md-3">
                            <mat-form-field>
                                <mat-label>Product Barcode:</mat-label>
                                <input matInput formControlName="barcode_no" required>
                            </mat-form-field>
                        </div>
                    </section>
                    <section class="row">
                        <div class="col-md-3">
                            <!-- <mat-form-field> -->
                                <!-- <mat-label>Legitimate Date</mat-label>
                                <input matInput formControlName="scheduled_date" type="number"> 
                                <input matInput [matDatepicker]="datepicker" formControlName="legit_date">
                                 <mat-hint>MM/DD/YYYY</mat-hint> 
                                <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker>
                                    <mat-datepicker-actions>
                                        <button mat-button matDatepickerCancel>Cancel</button>
                                        <button mat-raised-button color="primary" matDatepickerApply>Apply</button>
                                    </mat-datepicker-actions>
                                </mat-datepicker> -->
                            <!-- </mat-form-field> -->
                        </div>
                    </section>
                    <div class="row">
                        <div class="col-md-3">
                            <mat-form-field>
                                <mat-label>Comments</mat-label>
                                <input matInput formControlName="comment" required>

                            </mat-form-field>
                        </div>
                    </div>
                    <section class="row" style="text-align:center;margin-left:10px;" (click)="submitLegitimate()">
                        <button class="btn btn-outline-success" id="rmubtn">Submit</button>

                        <button data-dismiss="modal" class="btn btn-outline-primary" id="rmubtn"
                            style="margin-left: 20px;" #closebtn>Close</button>
                    </section>



                </form>
                <br><br>
            </div>
        </div>
    </div>
</div>




<div class="modal" id="myModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">File Level View</h4>
                <button type="button" class="close" data-dismiss="modal">×</button>
            </div>
            <div class="container"></div>
            <div class="modal-body">
                <div style="margin-left:10px;">
                    <table class="table table-bordered" id="boxlevel">
                        <thead class="table_header">
                            <th>S.No</th>
                            <th>Product </th>
                            <th>Product Barcode</th>
                            <th>Retention Date</th>
                            <th>Status</th>
                            <th>Legitimate</th>
                        </thead>
                        <tbody *ngFor="let lists of filelevellists;index as ind">
                            <td>{{(pagination.index-1)*limit+ind+1}}</td>
                            <td>{{lists.product.name}}</td>
                            <td>{{lists.product_barcode}}</td>
                            <td>{{lists.retention_date | date:'dd-MM-yyyy'}}</td>
                            <td>{{lists.archival_status.value}}</td>
                            <td>
                                <div>

                                    <div class="btn-group" role="group" aria-label="buttons">
                                        <button type="button" class="btn btn-light" data-toggle="modal" href="#myModal2"
                                            (click)="legitimatedata(lists)">✓</button>
                                        <button type="button" class="btn btn-light">View</button>
                                        <button type="button" class="btn btn-light">X</button>
                                    </div>

                                    <!-- <a data-toggle="modal" data-target="#" ><i class="fa fa-plus-square" matTooltip="Create"></i></a>
                                    <a data-toggle="modal" data-target="#" style="margin-left:15px;"><i class="fa fa-eye" matTooltip="View"></i></a>
                                    <a data-toggle="modal" data-target="#" style="margin-left:15px;"><i class="fa fa-minus-square" matTooltip="Delete"></i></a>
                                    <a  *ngIf="archstatus[lists.archival_status.value] == 'REQUESTED' " data-toggle="modal" data-target="#trackingArch" (click)="canceldata(lists)"><i class="fa fa-trash" matTooltip="Cancel"></i></a> -->

                                    <!-- <a  *ngIf="archstatus[lists.archival_status.value] == 'SCHEDULED' " data-toggle="modal" data-target="#trackingArch" (click)="canceldata(lists)"><i class="fa fa-trash" matTooltip="Cancel"></i></a> -->
                                </div>
                            </td>
                        </tbody>
                    </table>

                    <div *ngIf="!filelevellists.length" style="margin-left: 42%;">
                        <h3>Sorry no data found!... </h3>
                    </div>

                    <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
                        <button (click)="prevpages()" mat-icon-button [disabled]="pagination.has_previous === false"
                            color="primary">
                            <mat-icon>arrow_back</mat-icon>
                        </button>
                        {{pagination.index}}
                        <button (click)="nextpages()" mat-icon-button [disabled]="pagination.has_next === false"
                            color="primary">
                            <mat-icon>arrow_forward</mat-icon>
                        </button>

                    </div>

                </div>
                <!-- <a data-toggle="modal" href="#myModal2" class="btn btn-primary">Open modal2</a> -->
            </div>
            <div class="modal-footer">
                <a href="#" data-dismiss="modal" class="btn">Close</a>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="myModal2" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Create Legitimate</h4>
                <button type="button" class="close" data-dismiss="modal">×</button>
            </div>
            <div class="container"></div>
            <div class="modal-body">
                <form [formGroup]="createLegitimates">
                    <br><br>
                    <!-- <section class="row">
    
                        <div class="col-md-3">
                            <mat-form-field>
                                <mat-label>Product Barcode:</mat-label>
                                <input matInput formControlName="barcode_no" required>
                            </mat-form-field>
                        </div>
                    </section> -->
                    <section class="row">
                        <div class="col-md-3">
                            <mat-form-field>
                                <mat-label>Legitimate Date</mat-label>
                                <input matInput readonly [matDatepicker]="picker3" placeholder="Date" autocomplete="off"
                                     formControlName="legitimate_date"
                                    required>
                                <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker3">
                                </mat-datepicker-toggle>
                                <mat-datepicker #picker3></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </section>
                    <div class="row">
                        <div class="col-md-3">
                            <mat-form-field>
                                <mat-label>Comments</mat-label>
                                <input matInput formControlName="comment" required>

                            </mat-form-field>
                        </div>
                    </div>
                    <section class="row" style="text-align:center;margin-left:10px;" (click)="submitLegitimate()">
                        <button class="btn btn-outline-success" id="rmubtn">Submit</button>

                        <button data-dismiss="modal" class="btn btn-outline-primary" id="rmubtn"
                            style="margin-left: 20px;" #closebtn>Close</button>
                    </section>



                </form>
            </div>

        </div>
    </div>
</div>



<!-- <div class="modal" id="addNew" data-backdrop="static">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #DDEFDD;">
                <h2 class="modal-title">New Archival Request</h2>
                <button type="button" class="close" data-dismiss="modal" (click)="closedpopup()">×</button>
            </div>
            <div class="container"></div>
            <div class="modal-body">
                <form [formGroup]="archivalrequestForm">
                    
                    <div class="row">
                        <div class="col-sm-4">
                           <mat-form-field appearance="outline" style="width: 100%;">
                              <mat-label>No. Of Boxes</mat-label>
                              <input matInput formControlName="num_of_boxes" required type="number">
                           </mat-form-field>
                        </div>
                        <div class="col-sm-4">
                           <mat-form-field appearance="outline" style="width: 100%;">
                              <mat-label>Vendor</mat-label>
                              <mat-select matInput formControlName="vendor" required >
                                  <mat-option *ngFor="let val of vendorlist" [value]="val.vendor_master_id">
                                      {{val.name}}
                                  </mat-option>
                              </mat-select>            
                           </mat-form-field>
                        </div>
                        <div class="col-sm-4" >
                           <mat-form-field appearance="outline" style="width: 100%;">
                              <mat-label>Comments</mat-label>
                              <textarea  style="max-height:100px; " rows="1" matInput formControlName="comments" required></textarea>
                           </mat-form-field>
                        </div>
                     </div>
                  
                     <div class="row">
                        <div class="col-sm-6">
                           <input style="border-bottom-style:none;width: 100%;" type="file" (change)="uploadchoose($event)"
                           accept=".xls, .xlsx, .xlsm, .csv" name="filedata" formControlName="filedata">
                        </div>
                        <div class="col-sm-5">
                           <mat-form-field appearance="outline" style="width: 100%;">
                              <mat-label>Products</mat-label>            
                              <mat-select matInput formControlName="productlist" required>
                                  <mat-option *ngFor="let val of productlist" [value]="val.id">
                                      {{val.name}}
                                  </mat-option>
                              </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-1" style="    margin-top: 1%;">
                           <button class="btn btn-light" matTooltip="Download Example Format"
                                       matTooltipPosition="left" type="submit" style="border-radius:40px;"
                                       color="primary" (click)="formatdownload()">
                                       <i class="fa fa-download" aria-hidden="true"></i>
                                   </button>
                        </div>
                  
                  
                     </div>
                  
                     <div class="row">
                        <div class="col-sm-3">    
                           <mat-form-field appearance="outline" style="width: 100%;">
                              <mat-label>Employee Code</mat-label>
                              <input matInput formControlName="contact_person" required readonly="true" >
                           </mat-form-field>
                        </div>
                        <div class="col-sm-3">        
                           <mat-form-field appearance="outline" style="width: 100%;">
                              <mat-label>Phone Number</mat-label>            
                              <input matInput formControlName="contact_no" type="number" required >            
                          </mat-form-field>
                        </div>
                        <div class="col-sm-4">         
                           <mat-form-field appearance="outline" style="width:100%">
                              <mat-label>Pickup Address</mat-label>
                              <textarea [readonly]="mychoice"  style="max-height:100px; " rows="4" cols="25" matInput formControlName="contact_address" [(ngModel)]="addrdetails" required></textarea>
                           </mat-form-field>
                        </div>
                        <div class="col-sm-2">
                           <mat-checkbox color="primary" style="margin-left:15px;" [checked]="enableAddress()" >
                              <mat-label>Address Change</mat-label>
                           </mat-checkbox>
                        </div>
                     
                     </div>

                     <div style="float:right;">
                        <button class="btn btn-info" style="margin-left: 10px;" mat-button (click)="submitArchivalrequest()" >Submit</button>
                        <button class="btn btn-info" style="margin-left: 10px;" mat-button mat-dialog-close #closebtn (click)="closedpopup()">Close</button>
                     </div>
                   



                </form>
            </div>

        </div>
    </div>
</div> -->

<div
class="modal fade"
id="addNew"
tabindex="-1"
aria-labelledby="addNew"
aria-hidden="true"
>
<div class="modal-dialog modal-dialog-centered modal-xl">
  <div class="modal-content" >
    <div class="modal-header">
      <p class="modal-title mb-0" id="addNew" style="font-weight: 600;">New Archival Request</p>
      <button
        type="button"
        class="close"
        data-dismiss="modal"
        #closearchivalecode
        aria-label="Close"
        (click)="closedpopup()"
      >
        <i aria-hidden="true">&times;</i>
      </button>
    </div>

    <div class="modal-body">
        <form [formGroup]="archivalrequestForm">
                    
            <div class="row">
                <div class="col-sm-4">
                   <mat-form-field appearance="outline" style="width: 100%;">
                      <mat-label>No. Of Boxes</mat-label>
                      <input matInput formControlName="num_of_boxes" required type="number">
                   </mat-form-field>
                </div>
                <div class="col-sm-4">
                   <mat-form-field appearance="outline" style="width: 100%;">
                      <mat-label>Vendor</mat-label>
                      <mat-select matInput formControlName="vendor" required >
                          <mat-option *ngFor="let val of vendorlist" [value]="val.vendor_master_id">
                              {{val.name}}
                          </mat-option>
                      </mat-select>            
                   </mat-form-field>
                </div>
                <div class="col-sm-4" >
                   <mat-form-field appearance="outline" style="width: 100%;">
                      <mat-label>Comments</mat-label>
                      <textarea  style="max-height:100px; " rows="1" matInput formControlName="comments" required></textarea>
                   </mat-form-field>
                </div>
             </div>
          
             <div class="row">
                <div class="col-sm-6">
                   <input style="border-bottom-style:none;width: 100%;" type="file" (change)="uploadchoose($event)"
                   accept=".xls, .xlsx, .xlsm, .csv" name="filedata" formControlName="filedata">
                </div>
                <div class="col-sm-5">
                   <mat-form-field appearance="outline" style="width: 100%;">
                      <mat-label>Products</mat-label>            
                      <mat-select matInput formControlName="productlist" required>
                          <mat-option *ngFor="let val of productlist" [value]="val.id">
                              {{val.name}}
                          </mat-option>
                      </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-sm-1" style="    margin-top: 1%;">
                   <button class="btn btn-light" matTooltip="Download Example Format"
                               matTooltipPosition="left" type="submit" style="border-radius:40px;"
                               color="primary" (click)="formatdownload()">
                               <i class="fa fa-download" aria-hidden="true"></i>
                           </button>
                </div>
          
          
             </div>
          
             <div class="row">
                <div class="col-sm-3">    
                   <mat-form-field appearance="outline" style="width: 100%;">
                      <mat-label>Employee Code</mat-label>
                      <input matInput formControlName="contact_person" required readonly="true" >
                   </mat-form-field>
                </div>
                <div class="col-sm-3">        
                   <mat-form-field appearance="outline" style="width: 100%;">
                      <mat-label>Phone Number</mat-label>            
                      <input type="tel" pattern="\d{10}" matInput formControlName="contact_no"  maxlength="10" minlength="10"
                       oninput="this.value = this.value.replace(/[^0-9.]/g, ''); if (this.value.indexOf('.') !== -1) { let decimalPart = this.value.split('.')[1]; if (decimalPart.length > 2) this.value = this.value.slice(0, this.value.lastIndexOf('.') + 3);}"
                       required >            
                  </mat-form-field>
                </div>
                <div class="col-sm-4">         
                   <mat-form-field appearance="outline" style="width:100%">
                      <mat-label>Pickup Address</mat-label>
                      <textarea [readonly]="mychoice"  style="max-height:100px; " rows="4" cols="25" matInput formControlName="contact_address" [(ngModel)]="addrdetails" required></textarea>
                   </mat-form-field>
                </div>
                <div class="col-sm-2">
                   <mat-checkbox color="primary" style="margin-left:15px;" [checked]="enableAddress()" >
                      <mat-label>Address Change</mat-label>
                   </mat-checkbox>
                </div>
             
             </div>
        </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline-success" (click)="submitArchivalrequest(archivalrequestForm.value)" >Submit</button>
            <button class="btn btn-outline-secondary"  #closearchivalecode (click)="closedpopup()">Close</button>
    </div>
  </div>
</div>
</div>
</section>