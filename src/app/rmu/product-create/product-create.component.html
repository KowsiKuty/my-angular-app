<main role="main" style="margin-top:1%;margin-left:15px">
    <h2>Products List</h2>
    <form [formGroup]="summaryform">
        <section role="search" class="row">

            <!-- <div class="col-md-2">

                <mat-form-field class="summaryformfield">
                    <mat-label>Branch/Dept</mat-label>
                    <input matInput formControlName="department">
                </mat-form-field>
            </div> -->
            <!-- <div class="col-md-2">

                <mat-form-field class="summaryformfield">
                    <mat-label>Product</mat-label>
                    <mat-select matInput formControlName="product_id">
                        <mat-option *ngFor="let item of barcodetype" [value]="item.value">
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div> -->
            <div class="col-md-3" class="npm-mat-edit">

                <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                    <mat-label>Product Name</mat-label>
                    <input matInput formControlName="name">
                </mat-form-field>



            </div>

            <div class="col-md-3" class="npm-mat-edit" style="padding-left: 2%;">
                <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                    <mat-label>Product Code</mat-label>
                    <input matInput formControlName="code">
                </mat-form-field>
            </div>

            <div class="col-md-3" >
                <!-- <div id="rmubtngrp"> -->
                    <button matTooltip="Search Records" matTooltipClass="rmutooltip" (click)="getsummary()"
                        class="btn btn-outline-success" style="margin-left:5%" id="rmubtn" color="primary"><i
                            class="fa fa-search" aria-hidden="true"></i></button>
                    <button class="btn btn-warning" matTooltipClass="rmutooltip" (click)="summaryform_reset()" [matTooltip]="'Clear Entries'"
                        style="margin-left:20px" id="rmubtn">Clear</button>
                        <button matTooltip="Add Product" matTooltipClass="rmutooltip" type="button"
                        (click)="productformcreation()"  data-toggle="modal" class="btn btn-outline-success" id="rmubtn"
                        style="margin-left: 20px;"><span class="fa fa-plus"></span>
                        ADD</button>
                <!-- </div> -->
            </div>


        </section>
    </form>
    <div id="rmucontent" class="table-responsive">
        <table class="table table-bordered" id="rmutable">
            <thead class="table_header">
                <th>S.No</th>
                <th>Product (code) & Name</th>
                <th>Product Fields</th>
                <th>Retention Period in Months</th>
                <th>Business Owner</th>
                <th>Counts per Batch</th>
                <th>Counts per Box</th>
                <th>Batches per Box</th>

                <th>Edit</th>
            </thead>
            <tbody *ngFor="let sum of summarylist;index as ind">
                <td>{{(pagination.index-1)*limit+ind+1}}</td>
                <td>({{sum.code}}) {{sum.name}} </td>
                <td>
                    <mat-list style="line-height:0">
                        <mat-list-item style="height:25px" *ngFor="let field of sum.available_fields;index as ind1">
                            {{ind1+1}}. {{field}}
                        </mat-list-item>
                    </mat-list>

                </td>
                <td>{{sum.retention_period}}</td>
                <td>{{sum.business_owner}}</td>
                <td>{{sum.counts_per_batch}}</td>
                <td>{{sum.counts_per_box}}</td>
                <td>{{sum.batches_per_box}}</td>

                <td>
                    <button id="rmubtn" matTooltipClass="rmutooltip" matTooltip="Edit Product"
                         data-toggle="modal" (click)="editproduct(sum)" mat-icon-button
                        class="btn btn-outline-success">
                        <mat-icon>edit</mat-icon>
                    </button>
                </td>
            </tbody>
        </table>
        <div *ngIf="!summarylist.length" style="margin-left: 42%;">
            <h3>Sorry no data found!... </h3>
        </div>

        <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
            <button (click)="prevpage()" mat-icon-button [disabled]="pagination.has_previous === false" color="primary">
                <mat-icon>arrow_back</mat-icon>
            </button>
            {{pagination.index}}
            <button (click)="nextpage()" mat-icon-button [disabled]="pagination.has_next === false" color="primary">
                <mat-icon>arrow_forward</mat-icon>
            </button>

        </div>
    </div>
</main>

<div
class="modal fade"
id="productmodal"
tabindex="-1"
aria-labelledby="productmodal"
aria-hidden="true"
>
<div class="modal-dialog modal-dialog-centered modal-xl">
  <div class="modal-content" >
    <div class="modal-header">
      <p class="modal-title mb-0"  *ngIf="!productform.value.id" id="productmodal" style="font-weight: 600;">Product Creation</p>
      <p class="modal-title mb-0" *ngIf="productform.value.id" id="productmodal" style="font-weight: 600;">Product Updation</p>
      <button
        type="button"
        class="close"
        data-dismiss="modal"
        #closeproducted
        aria-label="Close"
        (click)="closedpopup()"
      >
        <i aria-hidden="true">&times;</i>
      </button>
    </div>

    <div class="modal-body">
        <form [formGroup]="productform">
            <div class="row">
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Product Name*</mat-label>
                        <input matInput formControlName="name">
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Product Code*</mat-label>
                        <input matInput formControlName="code">
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Business Owner</mat-label>
                        <input matInput formControlName="business_owner">
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Batches Per Box</mat-label>
                        <input matInput formControlName="batches_per_box" type="number">
                    </mat-form-field>
                </div>
            </div>

            <div class="row">
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Counts Per Batch</mat-label>
                        <input matInput formControlName="counts_per_batch" type="number">
                    </mat-form-field>
                </div>

                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Counts Per Box*</mat-label>
                        <input matInput formControlName="counts_per_box" type="number">
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Retention Period In Months*</mat-label>
                        <input matInput formControlName="retention_period" type="number">
                    </mat-form-field>
                </div>

                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Field 1</mat-label>
                        <input matInput formControlName="arc_1">
                    </mat-form-field>
                </div>


            </div>

            <div class="row">
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Field 2</mat-label>
                        <input matInput formControlName="arc_2">
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Field 3</mat-label>
                        <input matInput formControlName="arc_3">
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Field 4</mat-label>
                        <input matInput formControlName="arc_4">
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Field 5</mat-label>
                        <input matInput formControlName="arc_5">
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Field 6</mat-label>
                        <input matInput formControlName="arc_6">
                    </mat-form-field>
                </div>



                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Field 7</mat-label>
                        <input matInput formControlName="arc_7">
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                        <mat-label>Field 8</mat-label>
                        <input matInput formControlName="arc_8">
                    </mat-form-field>
                </div>


            </div>
        </form>
        </div>
        <div class="modal-footer">
            <button type="button" (click)="submitproduct()"   class="btn btn-outline-success">Submit</button>
            <button type="button" #closeproducted   (click)="closedpopup()" class="btn btn-outline-secondary"
                data-dismiss="modal">Close</button>
    </div>
  </div>
</div>
</div>


<!-- <div class="modal fade" id="productmodal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header hdrclr">
                <h2 class="modal-title" *ngIf="!productform.value.id" id="exampleModalLongTitle">Product Creation</h2>
                <h2 class="modal-title" *ngIf="productform.value.id" id="exampleModalLongTitle">Product Updation</h2> -->
                <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button> -->
            <!-- </div>
            <div class="modal-body">
                <form [formGroup]="productform">
                    <div class="row">
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Product Name</mat-label>
                                <input matInput formControlName="name">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Product Code</mat-label>
                                <input matInput formControlName="code">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Business Owner</mat-label>
                                <input matInput formControlName="business_owner">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Batches per Box</mat-label>
                                <input matInput formControlName="batches_per_box" type="number">
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Counts per Batch</mat-label>
                                <input matInput formControlName="counts_per_batch" type="number">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Counts per Box</mat-label>
                                <input matInput formControlName="counts_per_box" type="number">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Retention Period In Months</mat-label>
                                <input matInput formControlName="retention_period" type="number">
                            </mat-form-field>
                        </div>

                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Field 1</mat-label>
                                <input matInput formControlName="arc_1">
                            </mat-form-field>
                        </div>


                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Field 2</mat-label>
                                <input matInput formControlName="arc_2">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Field 3</mat-label>
                                <input matInput formControlName="arc_3">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Field 4</mat-label>
                                <input matInput formControlName="arc_4">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Field 5</mat-label>
                                <input matInput formControlName="arc_5">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Field 6</mat-label>
                                <input matInput formControlName="arc_6">
                            </mat-form-field>
                        </div>



                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Field 7</mat-label>
                                <input matInput formControlName="arc_7">
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field class="summaryformfield" appearance="outline" style="width: 100%;">
                                <mat-label>Field 8</mat-label>
                                <input matInput formControlName="arc_8">
                            </mat-form-field>
                        </div>


                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" (click)="submitproduct()"  id="rmubtn" class="btn btn-outline-success">Submit</button>
                <button type="button" #actionclose id="rmubtn" class="btn btn-outline-secondary"
                    data-dismiss="modal">Close</button>

            </div>
        </div>
    </div>
</div> -->