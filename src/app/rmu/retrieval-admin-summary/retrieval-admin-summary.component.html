<section class="screen-padding screen-lm">

    <div class="comp-header">
        <p   (click)="router.navigate(['rmu/rmu_summary'])"class="comp-header-p">
          <i class="fa fa-arrow-left back-button"></i>
          <span>Admin Retrieval Summary</span>
        </p>
      </div>

      <div class="filter-aling-2">
        <lib-vs-search-cmp
        class="npm-mat-edit"
        [SearchArr]="retrievaladminsearch"
        [Outputtype]="retrievaladminsearchvar"
        (dataoutput)="retrievaladminsummarysearch($event)"
        ></lib-vs-search-cmp>
        
      </div>
    <!-- <h2>Admin Retrieval Summary<button class="btn btn-outline-dark backbtn" style="margin-right:0px ;"
            (click)="router.navigate(['rmu/rmu_summary'])" id="rmubtn">Back</button> </h2> -->
    <!-- <form [formGroup]="summaryform">
        <section role="search" class="row">
            <div class="col-md-2">
                <mat-form-field class='summaryformfield' appearance="outline" style="width: 100%;">
                    <mat-label>Retrieval Code</mat-label>
                    <input matInput formControlName="department">
                </mat-form-field>
            </div>

            <div class="col-md-2">
                <mat-form-field class="summaryformfield" appearance="outline" style="width: 101%;">
                    <mat-label>Delivery Date</mat-label>
                    <input matInput readonly [matDatepicker]="picker3" placeholder="Date" autocomplete="off"
                        formControlName="delivery_date" required>
                    <mat-datepicker-toggle  matSuffix [for]="picker3">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker3></mat-datepicker>
                </mat-form-field>
            </div>

            <div class="col-md-2">

                <mat-form-field class='summaryformfield' appearance="outline" style="width: 100%;">
                    <mat-label>Retrieval Type</mat-label>
                    <mat-select matInput formControlName="retrieval_type">
                        <mat-option *ngFor="let item of retrievaltype" [value]="item.value">
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-2">

                <mat-form-field class='summaryformfield' appearance="outline" style="width: 100%;">
                    <mat-label>Retrieval Method</mat-label>
                    <mat-select matInput formControlName="retrieval_method">
                        <mat-option *ngFor="let item of retrievalmethod" [value]="item.value">
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-2">

                <mat-form-field class='summaryformfield' appearance="outline" style="width: 100%;">
                    <mat-label>Status</mat-label>
                    <mat-select matInput formControlName="status">
                        <mat-option *ngFor="let item of statuslist" [value]="item.value">
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-2" style="margin-top: 1.2%;"> -->
                <!-- <div id="rmubtngrp"> -->
                    <!-- <button matTooltip="Search Records" (click)="getarsummary()" [matTooltipPosition]="'above'"
                        matTooltipClass="rmutooltip" class="btn btn-outline-success" style="margin-left:5%" id="rmubtn"
                        color="primary"><i class="fa fa-search" aria-hidden="true"></i></button>
                    <button class="btn btn-warning" [matTooltip]="'Clear Entries'" [matTooltipPosition]="'above'"
                        matTooltipClass="rmutooltip" style="margin-left:20px" id="rmubtn">Clear</button> -->

                    <!-- <button matTooltip="Create Retrieval Request" [matTooltipPosition]="'above'"
                    matTooltipClass="rmutooltip" (click)="navtoform()" type="button" class="btn btn-outline-success"
                    id="rmubtn" style="margin-left: 20px;"><span class="fa fa-plus"></span>
                    Add
                </button> -->


                <!-- </div> -->
            <!-- </div>


        </section>
    </form> -->

    <lib-vs-cbox-summary    [SummaryDetails]="retrieval_archivalsummary"
    [SummaryApiObj]="retrieval_archivalsummaryapi"></lib-vs-cbox-summary>
    <!-- <div id="rmucontent" class="table-responsive"> -->
        <!-- Makersummary -->
        <!-- <table class="table table-bordered" id="rmutable">
            <thead class="table_header">
                <th>S.No</th>
                <th>Retrieval Code</th>
                <th>Raised By</th> -->
                <!-- <th>Raiser Branch</th> -->
                <!-- <th>Raised On</th>
                <th>Retrieval Type</th>
                <th>Status</th>
                <th>Approved By</th> -->
                <!-- <th>Approver Branch</th> -->
                <!-- <th>Approved On</th>
                <th>Download</th>
                <th>History</th>
            </thead> -->
            <!-- <tbody *ngFor="let sum of summarylist;index as ind">
                <td>{{(pagination.index-1)*limit+ind+1}}</td>
                <td>{{sum.id}}</td>
                <td>({{sum.maker.code}})</td> -->
                <!-- <td>({{sum.maker.branch.code}}) {{sum.maker.branch.name}}</td> -->
                <!-- <td>{{sum.request_date | date:'dd-MMM-yyyy'}}</td>
                <td>{{sum.retrieval_type.name}}</td>
                <td>{{sum.retrieval_status.name}}</td>
                <td>({{sum.approver_id.code}})</td> -->
                <!-- <td>({{sum.approver_id.branch.code}}) {{sum.approver_id.branch.name}}</td> -->
                <!-- <td>{{sum?.approved_date | date:'dd-MMM-yyyy'}}</td>
                <td>
                    <button id="rmubtn" matTooltipClass="rmutooltip" matTooltip="Download Retrieval Files"
                        mat-icon-button (click)="getretrievalcovernote(sum.id)" mat-button>
                        <mat-icon>download</mat-icon>
                    </button>
                </td>
                <td>
                    <mat-icon (click)="getrethistory(sum.id)" matTooltipClass="rmutooltip" data-target="#historypopup"
                        data-toggle="modal">visibility
                    </mat-icon>
                </td>
            </tbody>
        </table> -->

        <!-- CheckerSummary -->
        <!-- <div *ngIf="!summarylist.length" style="margin-left: 42%;">
            <h3>Sorry no data found!... </h3>
        </div>

        <div class="col-sm-12" *ngIf="summarylist.length > 0"
            style="font-size: small;text-align:right;margin-bottom: 5%;">
            <button mat-icon-button (click)="prevpage()" [disabled]="pagination.has_previous === false" color="primary">
                <mat-icon>arrow_back</mat-icon>
            </button>
            {{pagination.index}}
            <button mat-icon-button (click)="nextpage()" [disabled]="pagination.has_next === false" color="primary">
                <mat-icon>arrow_forward</mat-icon>
            </button>

        </div>
    </div> -->

    <div
    class="modal fade"
    id="historypopup"
    tabindex="-1"
    aria-labelledby="historypopup"
    aria-hidden="true"
    >
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content" >
        <div class="modal-header">
          <p class="modal-title mb-0" id="historypopup" style="font-weight: 600;">Retrieval History</p>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            #closeretrivalpopup
            aria-label="Close"
            (click)="closedpopup()"
          >
            <i aria-hidden="true">&times;</i>
          </button>
        </div>
    
        <div class="modal-body">
            <div id="rmucontent" class="table-responsive">
                <table class="table table-bordered" id="rmutable">
                    <thead class="table_header">
                        <th>S.No</th>
                        <th>Date</th>
                        <th>Employee</th>
                        <th>Branch</th>
                        <th>Comments</th>
                        <th>Processed</th>

                    </thead>
                    <tbody *ngFor="let sum of historylist;index as ind">
                        <td>{{ind+1}}</td>
                        <td>
                            {{sum?.request_date |date:'dd-MMM-yyyy'}}
                            {{sum?.approval_date | date:'dd-MMM-yyyy'}}
                        </td>
                        <td>
                            ({{sum.employee_code}}) {{sum.employee_name}}
                        </td>
                        <td>
                            ({{sum.branch_code}}) {{sum.branch_name | titlecase}}
                        </td>
                        <td>{{sum.comment}}</td>
                        <td>{{sum.request_type |titlecase}} {{sum.status |titlecase}}</td>
                    </tbody>
                </table>
                <div *ngIf="!historylist.length" style="margin-left: 42%;">
                    <h3>Sorry no data found!... </h3>
                </div>

                <!-- <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
                    <button (click)="prevpage()" mat-icon-button [disabled]="pagination.has_previous === false" color="primary">
                        <mat-icon>arrow_back</mat-icon>
                    </button>
                    {{pagination.index}}
                    <button  mat-icon-button [disabled]="pagination.has_next === false" color="primary">
                        <mat-icon>arrow_forward</mat-icon>
                    </button>
        
                </div> -->
            </div>
            </div>
            <div class="modal-footer">
                <button type="button" #closeretrivalpopup  class="btn btn-outline-secondary"
                data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
    </div>
<!-- <div class="modal fade" id="historypopup" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header hdrclr">
                <h2 class="modal-title" id="exampleModalLongTitle">Retrieval History</h2>
                <button type="button" class="close" data-dismiss="modal" #closeretrivalpopup (click)="closedpopup()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="rmucontent" class="table-responsive">
                    <table class="table table-bordered" id="rmutable">
                        <thead class="table_header">
                            <th>S.No</th>
                            <th>Date</th>
                            <th>Employee</th>
                            <th>Branch</th>
                            <th>Comments</th>
                            <th>Processed</th>

                        </thead>
                        <tbody *ngFor="let sum of historylist;index as ind">
                            <td>{{ind+1}}</td>
                            <td>
                                {{sum?.request_date |date:'dd-MMM-yyyy'}}
                                {{sum?.approval_date | date:'dd-MMM-yyyy'}}
                            </td>
                            <td>
                                ({{sum.employee_code}}) {{sum.employee_name}}
                            </td>
                            <td>
                                ({{sum.branch_code}}) {{sum.branch_name | titlecase}}
                            </td>
                            <td>{{sum.comment}}</td>
                            <td>{{sum.request_type |titlecase}} {{sum.status |titlecase}}</td>
                        </tbody>
                    </table>
                    <div *ngIf="!historylist.length" style="margin-left: 42%;">
                        <h3>Sorry no data found!... </h3>
                    </div> -->

                    <!-- <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
                        <button (click)="prevpage()" mat-icon-button [disabled]="pagination.has_previous === false" color="primary">
                            <mat-icon>arrow_back</mat-icon>
                        </button>
                        {{pagination.index}}
                        <button  mat-icon-button [disabled]="pagination.has_next === false" color="primary">
                            <mat-icon>arrow_forward</mat-icon>
                        </button>
            
                    </div> -->
                <!-- </div>
            </div>
            <div class="modal-footer">
                    <button type="button" #closeretrivalpopup  class="btn btn-outline-secondary"
                    data-dismiss="modal">Close</button>
            </div>
        </div> -->
    <!-- </div> -->
<!-- </div> -->

</section>