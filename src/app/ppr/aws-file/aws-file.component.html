<div class="container">
    <h2> PPR Documents</h2>
    <div>
        <from [formGroup]="aws_summary">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-3">
                        <mat-form-field>
                            <mat-label>Status</mat-label>
                            <input matInput formControlName="status" [matAutocomplete]="aws_status">
                            <mat-autocomplete #aws_status="matAutocomplete" [displayWith]="displayStatus">
                                <mat-option *ngFor="let status of status_list" [value]="status">
                                    {{status.name}}
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>
                    <div class="col-md-3">
                        <mat-form-field>
                            <mat-label>File Name</mat-label>
                            <input matInput formControlName="file_name" placeholder="File Name" autocomplete="off">
                        </mat-form-field>
                    </div>
                    <div class="col-md-3">
                        <mat-form-field>
                            <mat-label>Created Date</mat-label>
                            <input matInput [matDatepicker]="create_date" formControlName="create_date">
                            <mat-datepicker-toggle matSuffix [for]="create_date"></mat-datepicker-toggle>
                            <mat-datepicker #create_date startView="multi-year"></mat-datepicker>
                        </mat-form-field>
                    </div>

                    <div class="col-md-3">
                        <button type="submit" (click)="aws_search(aws_summary.value)" style="border-radius: 40px;"
                            class="btn btn-outline-primary">Search</button>
                    </div>
                    <div class="col-md-3">
                        <button type="button" (click)="clear_aws()" style="border-radius: 40px;"
                            class="btn btn-outline-primary">Clear</button>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-outline-primary" matTooltip="Upload" style="border-radius: 40px;"
                            data-toggle="modal" data-target="#file_uplod_popup">
                            <i class="fa fa-upload" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-outline-primary" matTooltip="Download" style="border-radius: 40px;"
                            data-toggle="modal" data-target="#downloadpopup" (click)="aws_download()">
                            <i class="fa fa-download" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </div>
        </from>
    </div>
    <div style="    padding-top: 2%;">
        <div class="tableFixHead">

            <table class="table table-bordered" fixed-header>
                <thead style="    background-color: #00800021;">
                    <tr>
                        <th>S.No</th>
                        <th>File Name</th>
                        <th>File Type</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th>Download</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let aws of aws_data;index as ind">
                        <td>{{(presentpage-1)*10+ind+1}}</td>
                        <td>{{aws.file_name}}</td>
                        <td>{{aws.type==1?'Income':(aws.type==2 ? 'Hr-Cost': (aws.type==3 ? 'Expense' : (aws.type==4 ?
                            'Report':(aws.type==6 ? 'Variance Report':(aws.type==10 ? 'Variance File' : (aws.type==21 ?
                            'Allocation' : (aws.type==24 ? 'Budget Report' : (aws.type==26 ? 'Business Wise' :
                            (aws.type==28 ? 'Gl Only' : (aws.type==30 ? 'OverAll Budget' : (aws.type==5 ? 'Allocation
                            Master Upload' :(aws.type==31 ? 'RawSheet' :( aws.type==33 ? 'CBSTB Upload':(aws.type==42 ?
                            'Transaction Download' :(aws.type==7 ?'DCS Master': (aws.type==9 ? 'Allocation Exception':(aws.type==32 ? 'PPR Summary':(aws.type==55 ? 'Allocation Master Download':(aws.type==54 ?'Before Allocation Download': (aws.type==52 ?'Fore Cast Download': (aws.type==56 ? 'Customized Download' : (aws.type==58 ? 'FAS for BSCC' : (aws.type==59 ? 'FAS for Subcategory' : '--')))))))))))))))))))))))}}</td>
                        <td>{{aws.created_date | date:'yyyy-MMM-dd'}}</td>
                        <!-- <td>{{(aws.status==1 && aws.status !=3 ) ? 'Uploaded':(aws.status==2 ? 'Processing' : ((aws.status==3 || aws.status==4 ) ? 'Success': ((aws.status==1 && aws.status ==3) ? 'File Download Processing':'--')))}} -->
                        <td>{{((aws.status == 1 && aws.type== 6) || (aws.status == 1 && aws.type== 10) || (aws.status ==
                            1 && aws.type== 8) || (aws.type == 4 && aws.status == 1) || (aws.type == 33 && aws.status ==
                            1) || (aws.type == 21 && aws.status == 2) || (aws.type == 24 && aws.status == 1) ||
                            (aws.type == 26 && aws.status == 1) || (aws.type == 28 && aws.status == 1) || (aws.type ==
                            30 && aws.status == 1) || (aws.status == 1 && aws.type== 5) || (aws.status == 1 &&
                            aws.type== 31) || (aws.status == 1 && aws.type== 32) || (aws.status == 1 && aws.type== 42) || (aws.status==1 && aws.type == 7) ||(aws.status==2 && aws.type == 54) || (aws.status==2 && aws.type == 55) || (aws.status==2 && aws.type == 52) )
                            ? 'Processing' :((aws.status==1 && aws.type == 54) || (aws.status==1 && aws.type == 55) || (aws.status==1 && aws.type == 52))? 'Started' :((aws.status == 4 && aws.type == 6) || (aws.status == 21 && aws.type == 3)
                            || (aws.status == 4 && aws.type== 8)|| (aws.type == 4 && aws.status == 3) || (aws.status ==
                            1 && aws.type== 10) || (aws.status == 4 && aws.type== 24) || (aws.type == 26 && aws.status
                            == 4) || (aws.type == 28 && aws.status == 4) || (aws.type == 30 && aws.status == 4) ||(aws.status==3 && aws.type == 54) || (aws.status==3 && aws.type == 55) || (aws.status==3 && aws.type == 52) ||
                            (aws.status == 4 && aws.type== 32) || (aws.status == 4 && aws.type== 42) || (aws.status==3 && aws.type == 9) ? "Success" :
                            (aws.status == 1 && aws.type != 56 ? "Uploaded" : (aws.status == 2 && aws.type != 56 ? "Processing" : (aws.status == 3 && aws.type != 56 ?
                            "Success" : (aws.status == 6 && aws.type != 56 ? "No Data Found": (aws.type== 56 && aws.status == 1 ? "Started" : aws.type == 56 && aws.status == 2 ? "Processing" : aws.type== 56 && aws.status == 7 ? "No Data Found" : aws.type == 56 && aws.status == 4 ? "Success" : aws.type == 56 && aws.status == 6 ? "Error" : "--"))))))}}</td>
                        <td>
                            <mat-icon
                                [ngStyle]="{'color':(aws.status == 3 || aws.status == 4) ? 'green' : 'gray','cursor': (aws.status == 3 || aws.status == 4) ? 'pointer':'default'}"
                                [matTooltip]="(aws.status == 3 || aws.status == 4) ? 'Download' : ''"
                                aria-label="Download" (click)="(aws.status == 3 || aws.status == 4)?aws_file(aws):''">
                                download
                            </mat-icon>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div>
                <p *ngIf="!data_found" style="text-align: center;">Data Not Found</p>
            </div>
            <div style="margin-bottom: 5%;font-size: small;text-align:right;">
                <button mat-icon-button [disabled]="has_previous === false" color="primary" (click)="previousClick()">
                    <mat-icon>arrow_back</mat-icon>
                </button> {{presentpage}}
                <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClick()">
                    <mat-icon>arrow_forward</mat-icon>
                </button>
            </div>
        </div>
    </div>
</div>



<!-- file Upload -->
<div class="modal fade bd-fileupload-modal-lg" data-toggle="modal" data-backdrop="static" data-keyboard="false"
    tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabels" id="file_uplod_popup">
    <div class="modal-dialog modal-lg" style="padding-top: 7%;">
        <div class="modal-content">
            <div class="modal-header" style="    background-color: #deefde;">
                <h2 class="modal-title"> &nbsp;&nbsp; File Upload</h2>
                <button type="button" (click)="clear_data()" class="close" #closepop data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="white-space: nowrap;">
                <div class="card">
                    <div class="card-body" style="margin-top: 2%;margin-bottom: 2%;">

                        <div class="input-group mb-3">
                            <form [formGroup]="awt_fileuploade">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <mat-form-field appearance="standard">
                                                <mat-label>File Type</mat-label>
                                                <mat-select formControlName="file_type">
                                                    <mat-option *ngFor="let types of file_types" [value]="types.id">
                                                        {{types.type}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="custom-file"
                                                style="display: flex;flex-direction: row;justify-content: center; margin-top: 7%;">
                                                <label>File:</label> &nbsp;&nbsp;<input type="file"
                                                    formControlName='awt_file' accept=".xlsx" class="choose"
                                                    (change)="Awt_file_data($event)">
                                                <!-- accept=".xlsx,.csv" -->
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </form>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-outline-secondary" type="button" class="btn btn-outline-primary"
                            style="float: right ;" (click)="awt_file_upload(awt_fileuploade.value)">
                            Upload
                        </button>
                        <button class="btn btn-outline-secondary" type="button" data-dismiss="modal"
                            style="float: right ;" (click)="clear_data()">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal " data-toggle="modal" data-backdrop="static" data-keyboard="false"
    tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabels" id="downloadpopup">
    <div class="modal-dialog modal-xl" style="padding-top: 7%;">
        <div class="modal-content">
            <div class="modal-header" style="    background-color: #deefde;">
                <h2 class="modal-title"> &nbsp;&nbsp; File Download</h2>
                <button type="button" (click)="clear_down_data()" class="close" #closepops data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="white-space: nowrap;">
                <div class="card">
                    <div class="card-body" style="margin-top: 2%;margin-bottom: 2%;">

                        <div class="input-group mb-3">
                            <form [formGroup]="awt_filedownload">
                                <div class="col-md-3">
                                    <mat-form-field>
                                        <mat-label>Download Type</mat-label>
                                        <mat-select  [formControl]="downloadTypeControl" >
                                            <mat-option (click)="download_type(types)" *ngFor="let types of download_types" [value]="types.id">
                                                {{types.type}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div *ngIf="download_typeee == 1" class="row col-md-12">
                                    <!-- <div class="row"> -->
                                        <div class="col-md-3">
                                            <mat-form-field (click)="finyear_dropdown()">
                                                <mat-label>Fin Year</mat-label>
                                                <input placeholder="Fin Year" matInput formControlName="finyear"
                                                    #finyearInput [matAutocomplete]="fin_year" required>
                                                <mat-autocomplete #fin_year="matAutocomplete"
                                                    [displayWith]="displayfnfinyear">
                                                    <mat-option *ngIf="isLoading"
                                                        class="is-loading">Loading...</mat-option>
                                                    <ng-container *ngIf="!isLoading">
                                                        <mat-option *ngFor="let finyearname of finyearList" (click)="finyr_value(finyearname)"
                                                            [value]="finyearname">
                                                            {{finyearname.finyer}} </mat-option>
                                                    </ng-container>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field>
                                                <mat-label>Month</mat-label>
                                                <mat-select formControlName="frommonth">
                                                    <mat-option *ngFor="let month of from_month" (click)="month_date(month)" [value]="month">
                                                        {{month.month}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3" *ngIf="finyear_based">
                                            <mat-form-field >
                                                <mat-label>From Date*</mat-label>
                                                <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="from_create_date" 
                                                    formControlName="from_date" [disabled]="awt_filedownload.value.finyear=='' || awt_filedownload.value.finyear==null || awt_filedownload.value.finyear==undefined" readonly>
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="from_create_date"></mat-datepicker-toggle>
                                                <mat-datepicker #from_create_date startView="multi-year"></mat-datepicker>
                                            </mat-form-field>                                                                             
                                        </div>
                                        <div class="col-md-3" *ngIf="finyear_based">
                                            <mat-form-field >
                                                <mat-label>To Date*</mat-label>
                                                <input matInput [min]="awt_filedownload.value.from_date" [max]="maxsDate"  [matDatepicker]="to_create_date"
                                                [disabled]="awt_filedownload.value.finyear=='' || awt_filedownload.value.finyear==null || awt_filedownload.value.finyear==undefined" formControlName="to_date" readonly>
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="to_create_date" ></mat-datepicker-toggle>
                                                <mat-datepicker #to_create_date  startView="multi-year"></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3" *ngIf="month_based">
                                            <mat-form-field >
                                                <mat-label>From Date*</mat-label>
                                                <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="from_create_date" 
                                                    formControlName="from_date" [disabled]="awt_filedownload.value.finyear=='' || awt_filedownload.value.finyear==null || awt_filedownload.value.finyear==undefined" readonly>
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="from_create_date"></mat-datepicker-toggle>
                                                <mat-datepicker #from_create_date ></mat-datepicker>
                                            </mat-form-field>                                                                             
                                        </div>
                                        <div class="col-md-3" *ngIf="month_based">
                                            <mat-form-field >
                                                <mat-label>To Date*</mat-label>
                                                <input matInput [min]="minsDate" [max]="maxsDate"  [matDatepicker]="to_create_date"
                                                [disabled]="awt_filedownload.value.finyear=='' || awt_filedownload.value.finyear==null || awt_filedownload.value.finyear==undefined" formControlName="to_date" readonly>
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="to_create_date" ></mat-datepicker-toggle>
                                                <mat-datepicker #to_create_date  ></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field (click)="branchname()">
                                                <mat-label>Branch</mat-label>
                                                <input #branchInput placeholder="Branch" matInput formControlName="branch_id"
                                                    #branchContactInput [matAutocomplete]="branch">
                                                <mat-autocomplete #branch="matAutocomplete" [displayWith]="displayfnbranch"
                                                    (opened)="autocompletebranchnameScroll()">
                                                    <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                    <ng-container *ngIf="!isLoading">
                                                        <mat-option *ngFor="let branch of branchList"  [value]="branch">
                                                            {{branch.code}}-{{branch.name}} </mat-option>
                                                    </ng-container>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field>
                                                <mat-label>Entry Module</mat-label>
                                                <input matInput formControlName="entry_module" autocomplete="off">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field  (click)="Catagorys()" matTooltip="{{cata_data.value}}">
                                                <mat-label>Category</mat-label>
                                                <input #cata_data type="text" matInput formControlName="cat"
                                                    [matAutocomplete]="Catagory" (keyup)="Catagorys()" >
                                                <mat-autocomplete #Catagory="matAutocomplete"                                                                   
                                                (opened)="autocompletecatScroll()" [displayWith]="Catagory_display">
                                                    <mat-option *ngFor="let Catagory of Catagory_list" [value]="Catagory" (click)="cat_clear()"
                                                    (focusout)="selectcat(Catagory)"  matTooltip={{Catagory.name}} >
                                                        {{Catagory.name}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field  (click)="Subcats()" matTooltip="{{subcat_data.value}}" >
                                                <mat-label>Sub Category</mat-label>
                                                <input #subcat_data type="text" matInput formControlName="subcat"
                                                    [matAutocomplete]="subcats" (keyup)="Catagorys()" >
                                                <mat-autocomplete #subcats="matAutocomplete"
                                                (opened)="autocompletesubcatScroll()" [displayWith]="subcats_display">
                                                    <mat-option  *ngFor="let subcats of subcats_list" [value]="subcats"
                                                    matTooltip={{subcats.name}} >
                                                        {{subcats.name}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field (click)="bsname_dropdown()">
                                                <mat-label>BS</mat-label>
                                                <input placeholder="BS" matInput formControlName="bs_id" #bsInput [matAutocomplete]="bs">
                                                <mat-autocomplete #bs="matAutocomplete" [displayWith]="displayfnbs"
                                                    (opened)="autocompletebsnameScroll()">
                                                    <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                    <ng-container *ngIf="!isLoading">
                                                        <mat-option *ngFor="let bs of bsList" [value]="bs" (click)="bs_cc_clear()"
                                                            (focusout)="selectbsSection(bs)" > {{bs.name}} </mat-option>
                                                    </ng-container>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field (click)="ccname_dropdown()">
                                                <mat-label>CC</mat-label>
                                                <input #bsclear_nameInput placeholder="CC" matInput formControlName="cc_id" #ccInput
                                                    [matAutocomplete]="cc_name">
                                                <mat-autocomplete #cc_name="matAutocomplete" [displayWith]="displayfncc"
                                                    (opened)="autocompletccnameScroll()">
                                                    <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                    <ng-container *ngIf="!isLoading">
                                                        <mat-option *ngFor="let cc of ccList"  [value]="cc"> {{cc.name}} </mat-option>
                                                    </ng-container>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                       
                                    <!-- </div> -->
                                </div>

                                <div *ngIf="download_typeee == 2 || download_typeee == 4" class="row col-md-12">
                                    <div class="col-md-3">
                                        <mat-form-field (click)="finyear_dropdown()">
                                            <mat-label>Fin Year</mat-label>
                                            <input placeholder="Fin Year" matInput formControlName="finyear"
                                                #finyearInput [matAutocomplete]="fin_year" required>
                                            <mat-autocomplete #fin_year="matAutocomplete"
                                                [displayWith]="displayfnfinyear">
                                                <mat-option *ngIf="isLoading"
                                                    class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let finyearname of finyearList"
                                                        [value]="finyearname" (click)="finyr_value(finyearname)">
                                                        {{finyearname.finyer}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>                                       
                                    <div class="col-md-3" >
                                        <mat-form-field >
                                            <mat-label>From Date*</mat-label>
                                            <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="from_create_date" 
                                                formControlName="from_date" [disabled]="awt_filedownload.value.finyear=='' || awt_filedownload.value.finyear==null || awt_filedownload.value.finyear==undefined">
                                            <mat-datepicker-toggle matSuffix
                                                [for]="from_create_date"></mat-datepicker-toggle>
                                            <mat-datepicker #from_create_date startView="multi-year"></mat-datepicker>
                                        </mat-form-field>                                                                             
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field >
                                            <mat-label>To Date*</mat-label>
                                            <input matInput [min]="awt_filedownload.value.from_date" [max]="maxsDate"  [matDatepicker]="to_create_date"
                                            formControlName="to_date" [disabled]="awt_filedownload.value.finyear=='' || awt_filedownload.value.finyear==null || awt_filedownload.value.finyear==undefined">
                                            <mat-datepicker-toggle matSuffix
                                                [for]="to_create_date" ></mat-datepicker-toggle>
                                            <mat-datepicker #to_create_date  startView="multi-year"></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="branchname()">
                                            <mat-label>Branch</mat-label>
                                            <input #branchInput placeholder="Branch" matInput formControlName="branch_id"
                                                #branchContactInput [matAutocomplete]="branch">
                                            <mat-autocomplete #branch="matAutocomplete" [displayWith]="displayfnbranch"
                                                (opened)="autocompletebranchnameScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let branch of branchList"  [value]="branch">
                                                        {{branch.code}}-{{branch.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <!-- <label style="margin-left: 20px;color: blue;">Branch: </label> -->
                                        <mat-form-field (click)="Sector_dropdown()">
                                            <mat-label>Sector</mat-label>
                                            <input placeholder="Sector" matInput formControlName="sectorname" #sectornameInput
                                                [matAutocomplete]="sector_name">
                                            <mat-autocomplete #sector_name="matAutocomplete" [displayWith]="displayfnsectorname"
                                                (opened)="autocompletesectorScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let sector of sectorList" [value]="sector"
                                                        (click)="secotralldata_clear()" (focusout)="selectsectorSection(sector)">
                                                        {{sector.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="Business_dropdown()">
                                            <mat-label>Business</mat-label>
                                            <input placeholder="Business" matInput formControlName="businesscontrol" #businessInput
                                                [matAutocomplete]="business_name">
                                            <mat-autocomplete #business_name="matAutocomplete" [displayWith]="displayfnbusiness"
                                                (opened)="autocompletebusinessnameScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let business of businessList"
                                                        [value]="business" (click)="bs_clear()"
                                                        (focusout)="selectbusinessSection(business)"> {{business.name}}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="bsname_dropdowns()">
                                            <mat-label>BS</mat-label>
                                            <input placeholder="BS" matInput formControlName="bs_id" #bsInput [matAutocomplete]="bs">
                                            <mat-autocomplete #bs="matAutocomplete" [displayWith]="displayfnbs"
                                                (opened)="autocompletebsnameScrolls()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let bs of bsList" [value]="bs" (click)="bs_cc_clear()"
                                                        (focusout)="selectbsSection(bs)" > {{bs.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="ccname_dropdown()">
                                            <mat-label>CC</mat-label>
                                            <input #bsclear_nameInput placeholder="CC" matInput formControlName="cc_id" #ccInput
                                                [matAutocomplete]="cc_name">
                                            <mat-autocomplete #cc_name="matAutocomplete" [displayWith]="displayfncc"
                                                (opened)="autocompletccnameScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let cc of ccList"  [value]="cc"> {{cc.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div *ngIf="download_typeee == 3" class="row col-md-12">
                                    <div class="col-md-3">
                                        <mat-form-field (click)="finyear_dropdown()">
                                            <mat-label>Fin Year</mat-label>
                                            <input placeholder="Fin Year" matInput formControlName="finyear"
                                                #finyearInput [matAutocomplete]="fin_year" required>
                                            <mat-autocomplete #fin_year="matAutocomplete"
                                                [displayWith]="displayfnfinyear">
                                                <mat-option *ngIf="isLoading"
                                                    class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let finyearname of finyearList"
                                                        [value]="finyearname" (click)="finyr_value(finyearname)">
                                                        {{finyearname.finyer}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>                                       
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-label>From Month*</mat-label>
                                            <mat-select formControlName="frommonths"
                                                (selectionChange)="frommonthsearch(awt_filedownload.value.frommonths)">
                                                <mat-option *ngFor="let month of from_month" [value]="month">
                                                    {{month.month}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-label>To Month {{awt_filedownload.value.frommonths ? '*' : '' }} </mat-label>
                                            <mat-select formControlName="tomonth"
                                                (selectionChange)="tomonthsearch(awt_filedownload.value.tomonth)">
                                                <mat-option *ngFor="let month of from_month"
                                                     [disabled]="month.id < frommonthid"
                                                    [value]="month">
                                                    {{month.month}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="branchname()">
                                            <mat-label>Branch</mat-label>
                                            <input #branchInput placeholder="Branch" matInput formControlName="branch_id"
                                                #branchContactInput [matAutocomplete]="branch">
                                            <mat-autocomplete #branch="matAutocomplete" [displayWith]="displayfnbranch"
                                                (opened)="autocompletebranchnameScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let branch of branchList"  [value]="branch">
                                                        {{branch.code}}-{{branch.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <!-- <label style="margin-left: 20px;color: blue;">Branch: </label> -->
                                        <mat-form-field (click)="Sector_dropdown()">
                                            <mat-label>Sector</mat-label>
                                            <input placeholder="Sector" matInput formControlName="sectorname" #sectornameInput
                                                [matAutocomplete]="sector_name">
                                            <mat-autocomplete #sector_name="matAutocomplete" [displayWith]="displayfnsectorname"
                                                (opened)="autocompletesectorScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let sector of sectorList" [value]="sector"
                                                        (click)="secotralldata_clear()" (focusout)="selectsectorSection(sector)">
                                                        {{sector.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="Business_dropdown()">
                                            <mat-label>Business</mat-label>
                                            <input placeholder="Business" matInput formControlName="businesscontrol" #businessInput
                                                [matAutocomplete]="business_name">
                                            <mat-autocomplete #business_name="matAutocomplete" [displayWith]="displayfnbusiness"
                                                (opened)="autocompletebusinessnameScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let business of businessList" 
                                                        [value]="business" (click)="bs_clear()"
                                                        (focusout)="selectbusinessSection(business)"> {{business.name}}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="bsname_dropdowns()">
                                            <mat-label>BS</mat-label>
                                            <input placeholder="BS" matInput formControlName="bs_id" #bsInput [matAutocomplete]="bs">
                                            <mat-autocomplete #bs="matAutocomplete" [displayWith]="displayfnbs"
                                                (opened)="autocompletebsnameScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let bs of bsList" [value]="bs" (click)="bs_cc_clear()"
                                                        (focusout)="selectbsSection(bs)" > {{bs.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="ccname_dropdown()">
                                            <mat-label>CC</mat-label>
                                            <input #bsclear_nameInput placeholder="CC" matInput formControlName="cc_id" #ccInput
                                                [matAutocomplete]="cc_name">
                                            <mat-autocomplete #cc_name="matAutocomplete" [displayWith]="displayfncc"
                                                (opened)="autocompletccnameScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let cc of ccList"  [value]="cc"> {{cc.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field (click)="lable_dropdown()">
                                            <mat-label>Label</mat-label>
                                            <input placeholder="Label" matInput formControlName="lable_id" #levelInput
                                                [matAutocomplete]="level_name" required>
                                            <mat-autocomplete #level_name="matAutocomplete" [displayWith]="displayfncc"
                                                (opened)="autocompletlabelnameScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let cc of label_list"  [value]="cc"> {{cc.name}} </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer" *ngIf="download_submit">
                        <button class="btn btn-outline-secondary" type="button" class="btn btn-outline-primary"
                            style="float: right ;" (click)="awt_file_download(awt_filedownload.value)">
                            Download
                        </button>
                        <button class="btn btn-outline-secondary" type="button" data-dismiss="modal"
                            style="float: right ;" (click)="clear_down_data()">
                            Close
                        </button>
                        <button class="btn btn-outline-primary" type="button"
                        style="float: right ;" (click)="clear_down_datas()">
                        Clear
                    </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>