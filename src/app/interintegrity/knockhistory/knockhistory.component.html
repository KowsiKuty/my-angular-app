<div style="display: flex; align-items: center; margin-left: 20px;">
    <mat-icon style="cursor: pointer; margin-right: 5px;" (click)="getbacktomain()">keyboard_backspace</mat-icon>
    <span style="font-size: 15px; font-weight: 800;">Integrity History</span>
</div>
<div style="margin-top: 1%;margin-left: 20px;">

    <div class="table-responsive">
        <table class="table table-bordered" id="historytable" style="margin-top: 2%;
        width: 95%;">
            <thead class="table_header">
                <th>S.No</th>
                <th>Integrity Code</th>
                <th>Transaction Date</th>
                <th>Integrity Run Date</th>
                <!-- <th>Branch Code</th> -->
                <th>Count</th>
                <!-- <th>View</th> -->
                <!-- <th>Download</th> -->
            </thead>
            <tbody *ngFor="let sum of summarylists;index as ind" style="padding:5px; text-align: center;" >
                <td>{{(pagination.index-1)*limit+ind+1}}</td>
                <td>{{sum.code}}</td>
                <td>{{sum.integrity_run_date | date:'dd-MM-yyyy' }}</td>
                <td>
                    {{sum.transaction_date | date:'dd-MM-yyyy' }}
                </td>
                <!-- <td>
                    {{sum?.branch_data.code}}
                </td> -->
                <td>
                    {{sum.count}}
                </td>
                <!-- <td>
                    <mat-icon (click)="viewsinglerecord(sum.id)" data-toggle="modal"
                        href="#myModal">visibility</mat-icon>
                </td> -->

                <!-- <td>
                    <mat-icon (click)="downloadrecord(sum.id, sum.code)">file_download</mat-icon>
                </td> -->

            </tbody>
        </table>
        <div *ngIf="summarylists ?.length == 0" style="text-align: center;">
            <h3>Sorry data not found... </h3>
        </div>
        <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
            <button (click)="prevpage()" mat-icon-button [disabled]="pagination.has_previous === false"
                color="primary">
                <mat-icon>arrow_back</mat-icon>
            </button>
            {{pagination.index}}
            <button (click)="nextpage()" mat-icon-button [disabled]="pagination.has_next === false"
                color="primary">
                <mat-icon>arrow_forward</mat-icon>
            </button>

        </div>


    </div>
</div>
<div class="modal" id="myModal">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Records</h4>
                <button type="button" class="close" data-dismiss="modal">Ã—</button>
            </div>
            <div class="container"></div>
            <div class="modal-body">
                <div style="margin-left:10px;">
                    <!-- <div class="row">
                        <div class="col">
                            <mat-form-field appearance="standard" style="margin-top: -8%;width: 50%;">
                                <mat-label>Filter</mat-label>
                                <input matInput (keyup)="applyFilterss($event)" placeholder="Ex. Amount" #input>
                            </mat-form-field>
                        </div>
                        </div> -->
                    <!-- <div class="mat-elevation-z7">
                        <table mat-table #sortCol1="matSort" [dataSource]="dataSource" matSort>

                            <ng-container matColumnDef="code">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="width:110px;font-size: small;font-weight: bold;">AutoKnockOff Code</th>
                                <td mat-cell *matCellDef="let element" class="center-text"> {{element.code}} </td>
                            </ng-container>
                            <ng-container matColumnDef="knockoff_date">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="width:110px;font-size: small;font-weight: bold;">KnockOff Date</th>
                                <td mat-cell *matCellDef="let element" class="center-text"> {{element.knockoff_date |
                                    date:'dd-MM-yyyy' }} </td>
                            </ng-container>
    
                            <ng-container matColumnDef="gl_date">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="width:110px;font-size: small;font-weight: bold;">GL Date</th>
                                <td mat-cell *matCellDef="let element" class="left-text"> {{element.gl_date |
                                    date:'dd-MM-yyyy' }} </td>
                            </ng-container>
                            <ng-container matColumnDef="line_description">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="font-size: small;font-weight: bold;"> Line Description </th>
                                <td mat-cell *matCellDef="let element" class="left-text"> {{element.line_description}} </td>
                            </ng-container>
    
                            <ng-container matColumnDef="debit_amount_ledger">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="font-size: small;font-weight: bold;">Debit</th>
                                <td mat-cell *matCellDef="let element" class="left-text"
                            
                                > {{element.debit_amount_ledger}} </td>
                            </ng-container>
                            <ng-container matColumnDef="credit_amount_ledger">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="font-size: small;font-weight: bold;">Credit</th>
                                <td mat-cell *matCellDef="let element" class="left-text"> {{element.credit_amount_ledger}} </td>
                            </ng-container>


                            <ng-container matColumnDef="transaction_date">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="width:110px;font-size: small;font-weight: bold;">Transaction Date</th>
                                <td mat-cell *matCellDef="let element" class="right-text"> {{element.transaction_date |
                                    date:'dd-MM-yyyy' }} </td>
                            </ng-container>
                            <ng-container matColumnDef="description">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="font-size: small;font-weight: bold;">Bank Description </th>
                                <td mat-cell *matCellDef="let element" class="right-text"> {{element.description}} </td>
                            </ng-container>
    
                            <ng-container matColumnDef="debit_amount_statement">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="font-size: small;font-weight: bold;">Debit</th>
                                <td mat-cell *matCellDef="let element" class="right-text"> {{element.debit_amount_statement}} </td>
                            </ng-container>
                            <ng-container matColumnDef="credit_amount_statement">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    style="font-size: small;font-weight: bold;">Credit</th>
                                <td mat-cell *matCellDef="let element" class="right-text"> {{element.credit_amount_statement}} </td>
                            </ng-container>
                            <ng-container matColumnDef="header-row-first-group">
                                <th mat-header-cell *matHeaderCellDef  [attr.colspan]="2">
                                    AUTOKNOCKOFF
                                  </th>
                                  </ng-container>
                                  <ng-container matColumnDef="header-row-second-group">
                                <th mat-header-cell *matHeaderCellDef  [attr.colspan]="4">
                                  Wisefin
                                </th></ng-container>
                                <ng-container matColumnDef="header-row-third-group">
                                <th mat-header-cell *matHeaderCellDef  [attr.colspan]="4">
                                    CBS
                                  </th>
                              </ng-container>
                              <tr mat-header-row *matHeaderRowDef="['header-row-first-group','header-row-second-group','header-row-third-group']"></tr>
                           
                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row  
                            *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                        <mat-paginator #pageCol1="matPaginator" [length]="10" [pageSize]="10"
                            [pageSizeOptions]="[10, 25, 50, 100]" showFirstLastButtons></mat-paginator>
                    </div> -->
                    <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                        <thead class="table_header">
                            <th>S.No</th>
                            <th>Integrity code</th>
                            <th>Integrity Run Date</th>
                            <th>Account Number</th>
                            <th>Branch Code</th>
                            <th>Transcation Date</th>
                            <th>Wisefin Balance</th>
                            <th>CBS Balance</th>
                            <th>Difference</th>


                        </thead>
                        <tbody *ngFor="let lists of knockofflists;index as ind">
                            <td>{{(pagination.index-1)*limit+ind+1}}</td>
                            <td>{{lists.code}}</td>
                            <td>{{lists.integrity_run_date | date:'dd-MM-yyyy'}}</td>
                            <td>{{lists.kd_accountno}}</td>
                            <td>{{lists.branch_code}}</td>
                            <td>{{lists.transaction_date | date:'dd-MM-yyyy'}}</td>
                            <td>{{lists.kd_runningbalancegl}}</td>
                            <td>{{lists.kd_running_balance_bs}}</td>
                            <td>{{lists.kd_differenceamount}}</td>

                        </tbody>
                    </table>

                    <div *ngIf="!knockofflists?.length" style="margin-left: 42%;">
                        <h3>Sorry no data found!... </h3>
                    </div>



                </div>


            </div>
            <div class="modal-footer">
                <a href="#" data-dismiss="modal" class="btn">Close</a>
            </div>
        </div>
    </div>
</div>