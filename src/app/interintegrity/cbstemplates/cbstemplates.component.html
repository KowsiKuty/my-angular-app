<div style="width: 82%;">
  <div class="search">
    <!-- <button type="button" class="btn btn-outline-success" (click)="opennewtemplates()" 
    style="border-radius:40px;text-align: center;margin-left: 25px;"><span class="fa fa-plus">&nbsp;</span>
CBS Template</button> -->
    <h3 style="margin-left:20px;margin-top:1%">CBS Templates
      <button type="button" class="btn btn-outline-success" (click)="opennewtemplates()"
        style="border-radius:40px;text-align: center; margin-left: 35px;"><span class="fa fa-plus">&nbsp;</span>
        CBS Template</button>
    </h3>

    <form [formGroup]="datassearch" style="margin-top:1%;margin-left:15px">
      <section>
        <div class="row">
          <div class="col-sm-2">
            <mat-form-field>
              <mat-label>Template Name</mat-label>

              <input matInput formControlName="template_name">
            </mat-form-field>
          </div>
          <div class="col-sm-2" style="margin-left: 35px;">
            <mat-form-field>
              <mat-label>Account Name</mat-label>

              <input matInput formControlName="account_name">
            </mat-form-field>
          </div>
          <div class="col-sm-2" style="margin-left: 35px;">
            <mat-form-field>
              <mat-label>Status</mat-label>

              <input matInput formControlName="status">
            </mat-form-field>
          </div>
          <div class="col-sm-4">
            <button matTooltip="Search Records" class="btn btn-outline-success" id="rmubtn"
              style=" border-radius: 25px;margin-left: 35px;" color="primary"><i class="fa fa-search"
                aria-hidden="true"></i></button>
            <button class="btn btn-outline-primary" matTooltip="Clear Entries"
              style="margin-left:20px; border-radius: 25px;margin-left: 35px;" (click)="datassearch.reset()"
              id="rmubtn">Clear</button>
          </div>
          <div class="row">
            <!-- <div class="col-md-4">
                <mat-form-field>
                    <mat-label>Status</mat-label>
                   
                    <input matInput formControlName="status">
                </mat-form-field>
            </div> -->


            <!-- <div class="col-sm-4">
                <button matTooltip="Search Records" class="btn btn-outline-success" id="rmubtn"  style=" border-radius: 15px;"
                color="primary"><i class="fa fa-search" aria-hidden="true"></i></button>
            <button class="btn btn-warning" matTooltip="Clear Entries" style="margin-left:20px; border-radius: 15px;margin-left: 35px;" (click)="datassearch.reset()"
                id="rmubtn">Clear</button> -->

          </div>
        </div>
      </section>

    </form>

  </div>


  <div class="mat-elevation-z5" class="table-row">

    <table mat-table #sortCol3="matSort" [dataSource]="dataSource" matSort style="    width: 119%;
  margin-left: 2%;margin-top: 3%;">

      <ng-container matColumnDef="template_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header
          style=" font-size: medium;font-weight: bold; text-align: center;">Template Name</th>
        <td mat-cell *matCellDef="let element"> {{element.template_name}} </td>
      </ng-container>

      <ng-container matColumnDef="account_number">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-size: medium;font-weight: bold;">Account
          Number </th>
        <td mat-cell *matCellDef="let element"> {{element.account_number }} </td>
      </ng-container>
      <ng-container matColumnDef="running_balance">
        <th mat-header-cell *matHeaderCellDef mat-sort-header
          style="font-size:medium;font-weight:bold;padding-left: 4%;">
          Running Balance</th>
        <td mat-cell *matCellDef="let element">{{element.running_balance}}</td>
      </ng-container>

      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-size: medium;font-weight: bold;">Edit</th>
        <td mat-cell *matCellDef="let element">
          <button mat-icon-button matTooltip="Click to Edit" class="iconbutton" (click)="editDatas(element)"
            data-toggle="modal" data-target="#editdatas">
            <mat-icon style="color: primary;" aria-label="Edit">edit</mat-icon>
          </button>
        </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header
          style="font-size: medium;font-weight: bold;padding-left: 3%;">Status
        </th>
        <td mat-cell *matCellDef="let element" style="padding-left: 4%;">
          <mat-slide-toggle [color]="primary" [(ngModel)]="element.status" color="gray"
            (click)="deletetemplate(element.id);">
          </mat-slide-toggle>

        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row matRipple class="element-row" *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>




    <div class="col-sm-12" style="font-size:x-small;text-align:right;margin-bottom: 5%;    margin-left: 21%;
    margin-top: 3%;">
      <button (click)="prevpage()" mat-icon-button [disabled]="pagination.has_previous === false" color="primary">
        <mat-icon class="customIconSize">arrow_back</mat-icon>
      </button>
      {{pagination.index}}
      <button (click)="nextpage()" mat-icon-button [disabled]="pagination.has_next === false" color="primary">
        <mat-icon class="customIconSize">arrow_forward</mat-icon>
      </button>

    </div>
    <!-- (click)="gotoBRS()" -->
    <!-- <mat-paginator #pageCol1="matPaginator"  [pageSize]="pageSize" [pageIndex]="pageIndex"
          ></mat-paginator> -->
    <!-- 
          <mat-paginator [pageSize]="pageSize" [pageIndex]="pageIndex" [length]="totalRecords"
             >
</mat-paginator> -->
  </div>

</div>

<!-- <div class="table">

  <div>
    <h3 style="margin-left:25px;">CBS Templates Summary</h3>
    <div class="table-responsive">

      <table class="table table-hover" id='commonstyle'>
        <thead class="table_header">
          <tr>
            <th>S.no</th>
            <th>
              <fieldset style="width:136px">
                Template Name
              </fieldset>
            </th>
            <th>

              <fieldset style="width:145px">
                Account Column
              </fieldset>
            </th>
            <th>Edit</th>

            <th>View</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let sum of summarylist;index as ind">
            <td>{{sum.id}}</td>
            <td>{{sum.template_name}}</td>
            <td>{{sum.account_number}}</td>
            <td>
              <mat-icon (click)="editDatas(sum)" data-toggle="modal" data-target="#editdatas">edit</mat-icon>
            </td>
            <td>
              <mat-icon (click)="viewsinglerecord(sum.id)" data-toggle="modal" href="#myModal">visibility</mat-icon>
            </td>

            <td>

              <mat-slide-toggle [(ngModel)]="sum.status" color="secondary"
                (click)="deletetemplate(sum.id);"></mat-slide-toggle>

            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> -->

<div class="modal" id="myModal">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header" style="background:#DDEFDD;">
        <h2 class="modal-title">View CBS Templates</h2>
        <button type="button" class="close" data-dismiss="modal">Ã—</button>
      </div>
      <div class="container"></div>
      <div class="modal-body">
        <!-- view-form.component.html -->

        <div class="container">
          <div class="col-md-6 mx-auto text-center">
            <div class="header-title">
              <h2 class="wv-heading--title">View Form</h2>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mx-auto">
              <mat-card>
                <div class="myform form" *ngFor="let sums of summaryslist">
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Template Name</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <p>{{sums.template_name}}</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Account Number</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <p>{{sums.account_number}}</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Date</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <p>{{sums.date}}</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Description</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <p>{{ sums.description}}</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Running Balance</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <p>{{ sums.running_balance }}</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Multiplier</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <p>{{ sums.multiplier }}</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Credit/Debit</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <p>{{ sums.amount_types === '0' ? 'Exact Values' : 'Absolute Values' }}</p>
                    </div>
                  </div>
                  <div *ngIf="sums.amount_type === '1'">
                    <div class="row">
                      <div class="col-sm-4">
                        <mat-label>Credit Name</mat-label>
                      </div>
                      <div class="col-sm-4">
                        <p>{{ sums.credit_name }}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <mat-label>Debit Name</mat-label>
                      </div>
                      <div class="col-sm-4">
                        <p>{{ sums.debit_name }}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </mat-card>
            </div>
          </div>
        </div>

      </div>
      <!-- <div class="modal-footer">
                <a href="#" data-dismiss="modal" class="btn">Close</a>
            </div> -->
    </div>

  </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="boxlevelform" aria-hidden="true" id="editdatas"
  #editdatas>
  <div class="modal-dialog modal-xl" style="width: 60%;">
    <div class="modal-content">
      <div class="modal-header" style="background:#DDEFDD;">
        <h2 class="modal-title" style="color:black ;">Edit CBS Template</h2>
        <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">

        <div class="row">
          <div class="col-md-6 mx-auto">
            <mat-card>
              <div class="myform form ">

                <form [formGroup]="templateeditform">
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Template Name</mat-label>
                    </div>
                    <div class="col-sm-4">

                      <mat-form-field class="matformfieldstyle" appearance="outline">

                        <input matInput formControlName="template_name" style="font-size:16px;" autocomplete="off">

                      </mat-form-field>
                    </div>

                  </div>
                </form>
                <form [formGroup]="templateeditform">
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Account Number</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <mat-form-field style="margin-top: -1%;margin-bottom:-4%;" class="matformfieldstyle"
                        appearance="outline">
                        <input matInput formControlName="account_number" style="font-size:16px;" required>
                      </mat-form-field>

                    </div>

                  </div>

                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Date</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <mat-form-field class="matformfieldstyle" appearance="outline">
                        <input matInput formControlName="date" class="matformfieldinputstyle" required>

                      </mat-form-field>

                    </div>

                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Description</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <mat-form-field class="matformfieldstyle" appearance="outline">
                        <input matInput formControlName="description" class="matformfieldinputstyle">


                      </mat-form-field>

                    </div>

                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Running Balance</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <mat-form-field class="matformfieldstyle" appearance="outline">
                        <input matInput formControlName="running_balance" style="font-size:16px;" required>

                      </mat-form-field>

                    </div>

                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Multiplier</mat-label>
                    </div>
                    <div class="col-sm-4">
                      <mat-form-field class="matformfieldstyle" appearance="outline">
                        <!-- <mat-select  [formControlName]="multiplier" class="matformfieldstyle"
                                          appearance="outline" style="font-size:16px;">
                                          <mat-option *ngFor="let option of options" [value]="option.value">
                                              {{ option.key }}
                                          </mat-option>
                                      </mat-select> -->

                        <input matInput formControlName="multiplier" style="font-size:16px;" required>
                        <!-- <mat-select-trigger>
                          <mat-icon>arrow_drop_down</mat-icon>
                        </mat-select-trigger> -->
                        
                      </mat-form-field>

                    </div>

                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                        <mat-label>Branch Code</mat-label>
                    </div>
                    <div class="col-sm-4">
                        <mat-form-field class="matformfieldstyle" appearance="outline">
                            <input matInput formControlName="branch_code" style="font-size:16px;"
                            required>
                        </mat-form-field>

                    </div>

                </div>
                  <!-- <div class="row">
                              <div class="col-sm-4">
                                  <mat-label>Credit/Debit</mat-label>
                              </div>
                              <div class="col-sm-4">
                                  <input id="SingleColumn" 
                                  type="radio" 
                                  [value]="0" 
                                  name="amount_types" 
                                  formControlName="amount_types"
                                  (change)="changeColumn($event)"  />
                        <label for="SingleColumn" style="margin-left: 6%;">Exact Values</label>
                        </div>
                        </div>
                        <div class="row">
                        <div class="col-sm-4">
                        <input id="multiColumn" 
                                  type="radio"  checked
                                  [value]="1" 
                                  name="amount_types" 
                                  formControlName="amount_types"   
                                  (change)="changeColumn($event)"/>
                        <label for="multiColumn" style="margin-left: 2%;" >Absolute Values</label>
                      </div> -->
                  <div class="row">
                    <div class="col-sm-4">
                      <mat-label>Credit/Debit</mat-label>
                    </div>
                    <div class="col-sm-6">

                      <input id="SingleColumn" type="radio" [value]="1" name="amount_type"   disabled
                        formControlName="amount_type" (change)="changeColumn($event)" />
                      <label for="SingleColumn" style="margin-left: 6%;">Exact Values</label>
                      <input id="multiColumn" type="radio" [value]="0" name="amount_type" disabled
                        formControlName="amount_type" (change)="changeColumn($event)"/>
                      <label for="multiColumn" style="margin-left: 2%;">Absolute Values</label>
<!-- 
                      <div *ngFor="let value of serverValues">
                        <label>
                          <input type="radio" [value]="value" [(ngModel)]="selectedValue">
                          {{ value }}
                        </label>
                      </div> -->


                    </div>
                  </div>



                  <!-- <input id="SingleColumn" type="radio" [value]="0" name="amount_types" formControlName="amount_types"
                        (change)="changeColumn()" />
                      <label for="SingleColumn">Single Column</label>
                      <input id="multiColumn" type="radio" [value]="1" name="amount_types" formControlName="amount_types"
                        (change)="changeColumn()" />
                      <label for="multiColumn">Seperate Coulmn</label> -->



                  <!-- </div> -->

                  <div *ngIf="multiColumns">

                  </div>
                  <div *ngIf="singleColumn">
                    <div class="row">
                      <div class="col-sm-4">
                        <mat-label>Credit Name</mat-label>
                      </div>
                      <div class="col-sm-4">
                        <mat-form-field class="matformfieldstyle" appearance="outline">
                          <input matInput formControlName="credit_name" style="font-size:16px;" required>

                        </mat-form-field>

                      </div>

                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <mat-label>Debit Name</mat-label>
                      </div>
                      <div class="col-sm-4">
                        <mat-form-field class="matformfieldstyle" appearance="outline">
                          <input matInput formControlName="debit_name" style="font-size:16px;" required>

                        </mat-form-field>

                      </div>

                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <mat-label>Credit/Debit</mat-label>
                      </div>
                      <div class="col-sm-4">
                        <mat-form-field class="matformfieldstyle" appearance="outline">
                          <input matInput formControlName="credit_debit" style="font-size:16px;" required>

                        </mat-form-field>

                      </div>

                    </div>








                  </div>



                  <div class="text-center ">
                    <button type="submit" class=" btn btn-block send-button tx-tfm"  (click)="UpdateForms()">Update Template
                    </button>
                  </div>

                </form>

              </div>
            </mat-card>
          </div>
        </div>
      </div>


    </div>

  </div>
</div>