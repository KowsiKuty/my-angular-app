<div style="margin-left: 2%">
  <!-- <mat-tab-group mat-align-tabs="start" [selectedIndex]="demoval"  (selectedTabChange)="subModuleData($event)"  >
    <mat-tab  *ngFor="let sub of SGList" [label]="sub.name" ></mat-tab>
       <mat-tab label="System Generated Bill"></mat-tab>
       <mat-tab label="SG Report"></mat-tab>
   </mat-tab-group> -->
  <nav>
    <div class="nav nav-tabs" style="margin-top: 1%">
      <span
        class="nav-item nav-link"
        data-toggle="tab"
        (click)="subModuleData(sub)"
        role="tab"
        *ngFor="let sub of SGList"
      >
        {{ sub.name }}
      </span>
      <a class="nav-item nav-link" data-toggle="tab" (click)="sys()"
        >System Generated Bill</a
      >
      <a class="nav-item nav-link" data-toggle="tab" (click)="sg_report()"
        >SG Report</a
      >
    </div>
  </nav>

  <div *ngIf="isAttendanceEntry">
    <div
      style="margin-top: 2.5%; width: 90%; overflow-x: hidden; margin-left: 5%"
    >
      <h2>{{ Displaydate | date : "MMM d, y" }} Date of Attendance</h2>

      <div
        *ngIf="
          this.data[0]?.approval_data?.approval_status?.id == 3 ||
          this.data[0]?.approval_data?.approval_status?.id == 0 ||
          this.data[0]?.approval_data?.ischecker == true
            ? false
            : submitted
        "
      >
        <button
          type="submit"
          style="border-radius: 40px; margin-left: 72%; margin-bottom: 1%"
          class="btn btn-outline-primary"
          [disabled]="
            this.data[0]?.approval_data?.approval_status?.id == 3 ||
            this.data[0]?.approval_data?.approval_status?.id == 0 ||
            this.data[0]?.approval_data?.ischecker == true
          "
          (click)="presenttoall()"
        >
          Present All
        </button>
        <form [formGroup]="FromAra">
          <table
            class="table table-bordered"
            style="width: 80%; font-size: 17px; text-align: center"
          >
            <thead class="table_header">
              <tr>
                <th
                  rowspan="2"
                  style="width: 20%; padding-bottom: 35px; padding-left: 22px"
                >
                  Employee Name
                </th>
                <th rowspan="2" style="width: 10%; padding-bottom: 35px">
                  Attendance
                </th>

                <th rowspan="2" style="width: 10%; padding-bottom: 35px">
                  Non Uniform
                </th>
                <th rowspan="2" style="width: 10%; padding-bottom: 35px">
                  Sleeping
                </th>
                <th rowspan="2" style="width: 10%; padding-bottom: 35px">
                  Is Alcoholic
                </th>
                <th rowspan="2" style="width: 10%; padding-bottom: 35px">
                  Unplanned Leave
                </th>
                <th rowspan="2" style="width: 10%; padding-bottom: 35px">
                  Shift
                </th>
                <th colspan="2" style="width: 12%">Overtime Details</th>
              </tr>
              <tr>
                <th>Yes/No</th>
                <th>Hours</th>
              </tr>
            </thead>
            <tbody formArrayName="array">
              <tr
                *ngFor="let datas of value1(); let i = index"
                [formGroupName]="i"
              >
                <td style="padding-left: 22px">
                  <ng-container *ngFor="let item of data[0].employee">{{
                    datas.value.id == item.id
                      ? "
                                        (" +
                        item.code +
                        ")" +
                        " " +
                        item.name
                      : ""
                  }}</ng-container>
                </td>

                <td style="padding-left: 22px">
                  <!-- <section class="example-section"> -->
                  <mat-checkbox
                    formControlName="attendance"
                    (change)="onCheckChange(i, getvalue(i).attendance)"
                  ></mat-checkbox>
                  <!-- </section> -->
                </td>

                <td style="padding-left: 22px">
                  <!-- <section class="example-section"> -->
                  <mat-checkbox
                    formControlName="non_uniform"
                    [disabled]="!getvalue(i).attendance"
                  >
                  </mat-checkbox>
                  <!-- </section> -->
                </td>
                <td style="padding-left: 22px">
                  <!-- <section class="example-section"> -->
                  <mat-checkbox
                    formControlName="is_sleep"
                    [disabled]="!getvalue(i).attendance"
                  >
                  </mat-checkbox>
                  <!-- </section> -->
                </td>
                <td style="padding-left: 22px">
                  <!-- <section class="example-section"> -->
                  <mat-checkbox
                    formControlName="is_alcoholic"
                    [disabled]="!getvalue(i).attendance"
                  >
                  </mat-checkbox>
                  <!-- </section> -->
                </td>
                <td style="padding-left: 22px">
                  <!-- <section class="example-section"> -->
                  <mat-checkbox
                    formControlName="unplanned_leave"
                    [disabled]="getvalue(i).attendance"
                  >
                  </mat-checkbox>
                  <!-- </section> -->
                </td>
                <td style="padding: 0; padding-left: 11px">
                  <mat-form-field style="width: 75px">
                    <mat-select
                      formControlName="shift"
                      [disabled]="!getvalue(i).attendance"
                    >
                      <mat-option
                        *ngFor="let shift of ShiftV"
                        [value]="shift.id"
                      >
                        {{ shift.Shift }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </td>
                <td style="padding-left: 22px">
                  <!-- <section class="example-section"> -->
                  <mat-checkbox
                    formControlName="is_ot"
                    [disabled]="!getvalue(i).attendance"
                    (change)="onCheckChangeot(i, getvalue(i).is_ot)"
                  ></mat-checkbox>
                  <!-- </section> -->
                </td>
                <td style="padding-left: 10px">
                  <input
                    placeholder="Hours "
                    [value]="display(getvalue(i).is_ot, i)"
                    [disabled]="!getvalue(i).attendance"
                    [readonly]="!getvalue(i).is_ot"
                    autocomplete="off"
                    matInput
                    formControlName="ot_hrs"
                    maxlength="1"
                    (keypress)="keyPressAmounts($event)"
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </form>
        <div style="width: 80%; display: flex; justify-content: center">
          <button
            *ngIf="
              !(
                this.data[0]?.approval_data?.approval_status?.id == 3 ||
                this.data[0]?.approval_data?.approval_status?.id == 0 ||
                this.data[0]?.approval_data?.ischecker == true
              )
            "
            type="submit"
            style="border-radius: 40px"
            class="btn btn-outline-primary"
            (click)="onsaveAttedanceenty()"
          >
            {{ upadated ? "Update" : "Submit" }}
          </button>

          <button
            style="border-radius: 40px; margin-left: 1%"
            class="btn btn-outline-primary"
            (click)="onCancelAttedanceenty(isAttendance.value)"
          >
            Cancel
          </button>
        </div>
        <div *ngIf="submitted" style="height: 30px"></div>
      </div>
    </div>

    <div
      *ngIf="!submitted || upadated"
      class="table-responsive"
      style="margin-top: 2.5%; width: 90%; overflow-x: hidden; margin-left: 5%"
    >
      <table
        class="table table-bordered"
        style="width: 80%; font-size: 17px; text-align: center"
        fixed-header
      >
        <thead class="table_header">
          <tr>
            <th rowspan="2" style="padding-bottom: 35px; padding-left: 22px">
              S.No
            </th>
            <th
              rowspan="2"
              style="width: 20%; padding-bottom: 35px; padding-left: 22px"
            >
              Employee Name
            </th>
            <th rowspan="2" style="width: 10%; padding-bottom: 35px">
              Attendance
            </th>

            <th rowspan="2" style="width: 10%; padding-bottom: 35px">
              Non Uniform
            </th>
            <th rowspan="2" style="width: 10%; padding-bottom: 35px">
              Sleeping
            </th>
            <th rowspan="2" style="width: 10%; padding-bottom: 35px">
              Is Alcoholic
            </th>
            <th rowspan="2" style="width: 10%; padding-bottom: 35px">
              Unplanned Leave
            </th>
            <th rowspan="2" style="width: 10%; padding-bottom: 35px">Shift</th>
            <th colspan="2" style="width: 12%">Overtime Details</th>
          </tr>
          <tr>
            <th>Yes/No</th>
            <th>Hours</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let empl of employeelist; let i = index">
            <td style="padding-left: 25px">{{ i + 1 }}</td>
            <td style="width: 20%">
              {{ "(" + empl.employee.code + ")" + " " + empl.employee.name }}
            </td>
            <td style="padding-left: 25px">
              <span [class.tick-mark]="empl.attendance"></span>
              <span [class.un-tick-mark]="!empl.attendance"></span>
            </td>

            <td style="padding-left: 25px">
              <span [class.tick-mark]="empl.non_uniform"></span>
              <span [class.un-tick-mark]="!empl.non_uniform"></span>
            </td>
            <td style="padding-left: 25px">
              <span [class.tick-mark]="empl.is_sleep"></span>
              <span [class.un-tick-mark]="!empl.is_sleep"></span>
            </td>
            <td style="padding-left: 25px">
              <span [class.tick-mark]="empl.is_alcoholic"></span>
              <span [class.un-tick-mark]="!empl.is_alcoholic"></span>
            </td>
            <td style="padding-left: 25px">
              <span [class.tick-mark]="empl.unplanned_leave"></span>
              <span [class.un-tick-mark]="!empl.unplanned_leave"></span>
            </td>
            <td style="padding-left: 25px">
              {{
                empl.attendance
                  ? empl.shift == 1
                    ? "1 st"
                    : empl.shift == 2
                    ? "2
                            nd"
                    : empl.shift == 3
                    ? "3 rd"
                    : " "
                  : "--"
              }}
            </td>
            <td style="padding-left: 25px">
              <span [class.tick-mark]="empl.is_ot"></span>
              <span [class.un-tick-mark]="!empl.is_ot"> </span>
            </td>
            <td style="padding-left: 10px">
              {{ empl.is_ot ? empl.ot_hrs : "--" }}
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="employeelist?.length <= 0" style="margin-left: 25%">
        <h3>Sorry data not found!..</h3>
      </div>
      <div
        *ngIf="employeelist?.length > 0"
        class="col-sm-9"
        style="margin-left: 7%; font-size: small; text-align: right"
      >
        <button
          mat-icon-button
          [disabled]="has_pretype === false"
          color="primary"
          (click)="entrypreviousClick()"
        >
          <mat-icon>arrow_back</mat-icon>
        </button>
        {{ presentpagtype }}
        <button
          mat-icon-button
          [disabled]="has_nextype === false"
          color="primary"
          (click)="entrynextClick()"
        >
          <mat-icon>arrow_forward</mat-icon>
        </button>
      </div>
    </div>
    <div *ngIf="!submitted || upadated" style="margin-bottom: 3%">
      <div style="width: 80%; display: flex; justify-content: center">
        <button
          type="submit"
          style="border-radius: 40px"
          class="btn btn-outline-primary"
          (click)="onCancelAttedanceenty(isAttendance.value)"
        >
          Back
        </button>
      </div>
    </div>
    <!-- ((this.data[0]?.approval_data?.approval_status?.id == 3|| this.data[0]?.approval_data?.approval_status?.id == 0)||( this.data[0]?.approval_data?.ischecker == true)) -->
    <div
      *ngIf="
        this.data[0]?.approval_data?.ischecker == true ||
        this.data[0]?.approval_data?.approval_status?.id == 3 ||
        this.data[0]?.approval_data?.approval_status?.id == 0
      "
    >
      <div
        *ngIf="employeelist?.length <= 0"
        style="margin-left: 5%; margin-top: 3%"
      >
        <h2>Sorry data not found!..</h2>
        <button
          type="submit"
          style="border-radius: 40px"
          class="btn btn-outline-primary"
          (click)="onCancelAttedanceenty(isAttendance.value)"
        >
          Back
        </button>
      </div>
    </div>

    <!-- <pre>{{ FromAra.value | json }}</pre> -->
  </div>

  <div *ngIf="isattendance">
    <div
      class="table-responsive"
      style="margin-top: 2.5%; width: 90%; overflow-x: hidden; margin-left: 5%"
    >
      <form [formGroup]="isAttendance">
        <mat-form-field
          style="width: 200px"
          class="input-style"
          (keyup.backspace)="getbranch()"
        >
          <mat-label style="font-size: 17px">Branch </mat-label>
          <input
            placeholder="Branch "
            matInput
            formControlName="branch_id"
            #branchContactInput
            [matAutocomplete]="branchtype"
            (click)="clearPremisesAndAgency()"
            (keyup)="brachname()"
            required
          />
          <mat-autocomplete
            #branchtype="matAutocomplete"
            [displayWith]="displaybranch"
            (opened)="autocompletebranchnameScroll()"
          >
            <mat-option *ngIf="isLoadingbranch" class="is-loading"
              >Loading...</mat-option
            >
            <ng-container *ngIf="!isLoadingbranch">
              <mat-option
                *ngFor="let brach of branchlist"
                (focusout)="branchFocusOut(brach)"
                [value]="brach"
              >
                ({{ brach.code }}) {{ brach.name + " " }}
              </mat-option>
            </ng-container>
          </mat-autocomplete>
        </mat-form-field>

        <mat-form-field
          style="width: 200px; margin-left: 4%"
          class="input-style"
          (keyup.backspace)="getprimes()"
        >
          <mat-label style="font-size: 17px">Premises </mat-label>
          <input
            placeholder="Premises "
            matInput
            formControlName="premise_id"
            #PremiseContactInput
            [matAutocomplete]="primestype"
            (keyup)="primiesname()"
            required
          />
          <mat-autocomplete
            #primestype="matAutocomplete"
            [displayWith]="displayprimes"
            (opened)="autocompletePremisenameScroll()"
          >
            <mat-option *ngIf="isLoadingprimes" class="is-loading"
              >Loading...</mat-option
            >
            <ng-container *ngIf="!isLoadingprimes">
              <mat-option
                *ngFor="let primes of primeslist"
                (focusout)="premiseFocusOut(primes)"
                [value]="primes"
              >
                ({{ primes.code }}) {{ primes.name + " " }}
              </mat-option>
            </ng-container>
          </mat-autocomplete>
        </mat-form-field>

        <button
          *ngIf="isPremisesAddress"
          mat-icon-button
          matTooltip="View Address"
          class="iconbutton"
          color="primary"
          mat-button
          data-toggle="modal"
          data-target="#viewAddress"
          style="margin-left: 2%"
        >
          <span
            class="material-icons"
            style="font-size: xx-large; cursor: pointer; color: #007bff"
          >
            straight
          </span>
        </button>

        <mat-form-field
          style="width: 345px; margin-left: 2%"
          class="input-style"
          (keyup.backspace)="getcatven()"
        >
          <mat-label style="font-size: 17px"> Agency</mat-label>
          <input
            placeholder="Agency"
            matInput
            formControlName="agency_id"
            #VendorContactInput
            [matAutocomplete]="producttype"
            (keyup)="productname()"
            required
          />
          <mat-autocomplete
            #producttype="matAutocomplete"
            [displayWith]="displaydis"
          >
            <mat-option *ngIf="isLoading" class="is-loading"
              >Loading...</mat-option
            >
            <ng-container *ngIf="!isLoading">
              <mat-option *ngFor="let vendor of empvendorlist" [value]="vendor">
                ({{ vendor.code }}) {{ vendor.name + " " }}
              </mat-option>
            </ng-container>
          </mat-autocomplete>
        </mat-form-field>

        <mat-form-field
          style="width: 137px; margin-left: 4%"
          class="input-style"
        >
          <input
            matInput
            [matDatepicker]="dp"
            placeholder="Month and Year"
            formControlName="monthdate"
            readonly
            [formControl]="monthdate"
          />
          <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
          <mat-datepicker
            #dp
            startView="multi-year"
            (yearSelected)="chosenYearHandler($event)"
            (monthSelected)="chosenMonthHandler($event, dp)"
            panelClass="example-month-picker"
          >
          </mat-datepicker>
        </mat-form-field>

        <button
          class="btn btn-outline-primary"
          type="submit"
          (click)="Datelistfind(isAttendance.value)"
          style="border-radius: 40px; margin-left: 5%"
          color="primary"
        >
          <i class="fa fa-search" aria-hidden="true"></i>
        </button>

        <div class="overflow-my" style="margin-top: 3%">
          <table
            class="table table-bordered trres"
            style="width: 130%; text-align: center"
            fixed-header
          >
            <thead class="table_header">
              <tr class="trres">
                <th>S.No</th>
                <th style="width: 10%; text-align: left">Name</th>
                <th *ngIf="total_present_validater(data[0].employee)">
                  Present All
                </th>
                <th>Total Present</th>
                <!-- <th *ngIf="value_check_emp_salary()">Total Salary</th> -->
                <!-- <th *ngIf="value_check_emp_salary()">Total Salary{{this.data[0]?.approval_data?.approval_status?.id}}</th> -->

                <th
                  style="cursor: pointer"
                  *ngFor="let item of Date"
                  (click)="datedetails(isAttendance.value, item)"
                >
                  <a
                    style="color: rgb(27, 41, 236); text-decoration: underline"
                    >{{ item | date : "d" }}</a
                  >
                </th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let datas of data[0].employee; let i = index"
                class="trres"
              >
                <td>
                  {{ i + 1 }}
                </td>

                <td
                  style="text-align: left; font-size: 17px; padding-left: 0.65%"
                >
                  <span
                    class="material-icons"
                    placement="right"
                    ngbTooltip="Armed"
                    *ngIf="datas?.type == 'Armed'"
                    aria-hidden="true"
                  >
                    people_alt
                  </span>
                  <span
                    class="material-icons"
                    placement="right"
                    ngbTooltip="Unarmed"
                    *ngIf="datas?.type == 'Unarmed'"
                    aria-hidden="true"
                  >
                    perm_identity
                  </span>
                  {{ datas.name }}
                </td>
                <td *ngIf="total_present_validater(data[0].employee)">
                  <i
                    *ngIf="checktotalpresent(datas.id)"
                    style="font-size: 20px; cursor: pointer; color: #76be76"
                    placement="top"
                    (click)="presentAll(isAttendance.value, datas.id, datas)"
                    ngbTooltip="Present All"
                  >
                    <span class="material-icons"> double_arrow </span>
                  </i>

                  <!-- {{checktotalpresent(datas.id)}} -->
                  <!-- <button type="submit" style="border-radius: 40px;" 
                                class="btn btn-outline-primary" (click)="presentAll(isAttendance.value, datas.id)">PresentAll</button> -->
                </td>
                <td>
                  {{ total_count(datas.id) }}
                </td>
                <!-- <td *ngIf="value_check_emp_salary() ">
                                 {{ employee_total(datas.id) | number:'1.2-2'}}
                            </td> -->

                <td *ngFor="let item of Date" style="text-align: center">
                  <span *ngFor="let val of click()">
                    <div
                      *ngIf="item == val"
                      style="
                        display: flex;
                        justify-content: center;
                        font-size: 10px;
                        width: 50px;
                      "
                    >
                      <span
                        ngbTooltip=" Alcoholic "
                        style="
                          cursor: pointer;
                          padding-left: 5px;
                          padding-right: 5px;
                          font-size: 7px !important;
                          padding-top: 2px;
                        "
                        *ngIf="item == val && algol(val, datas.id)"
                        class="w3-badge w3-tiny w3-red my-color-subicons"
                        >{{ algol(val, datas.id) ? "A" : "" }}</span
                      >

                      <span
                        ngbTooltip=" Sleeping"
                        style="
                          padding-left: 5px;
                          cursor: pointer;
                          padding-right: 5px;
                          font-size: 7px !important;
                          padding-top: 2px;
                        "
                        *ngIf="item == val && sleep(val, datas.id)"
                        class="w3-badge w3-tiny w3-red my-color-subicons"
                        >{{ sleep(val, datas.id) ? "S" : "" }}</span
                      >

                      <span
                        ngbTooltip="Non Uniform"
                        style="
                          padding-left: 5px;
                          cursor: pointer;
                          padding-right: 5px;
                          font-size: 7px !important;
                          padding-top: 2px;
                        "
                        *ngIf="item == val && uniform(val, datas.id)"
                        class="w3-badge w3-tiny w3-red my-color-subicons"
                        >{{ uniform(val, datas.id) ? "U" : "" }}</span
                      >

                      <span
                        ngbTooltip="Unplanned Leave "
                        style="
                          padding-left: 5px;
                          cursor: pointer;
                          padding-right: 5px;
                          font-size: 7px !important;
                          padding-top: 2px;
                        "
                        *ngIf="item == val && unplanedleave(val, datas.id)"
                        class="w3-badge w3-tiny w3-red my-color-subicons"
                        >{{ unplanedleave(val, datas.id) ? "UP" : "" }}</span
                      >
                    </div>
                    <!-- <button matBadge="4"></button>   -->
                    <span
                      ><span
                        [ngClass]="[
                          find(val, datas.id) == true
                            ? 'w3-badge w3-green'
                            : find(val, datas.id) == false
                            ? 'w3-badge w3-red my-color-Absent'
                            : find(val, datas.id) == undefined
                            ? 'w3-badge w3-red my-color-ummarks'
                            : ''
                        ]"
                        *ngIf="item == val"
                        [ngStyle]="
                          item == val
                            ? find(val, datas.id) == true
                              ? { color: 'green' }
                              : find(val, datas.id) == false
                              ? { color: 'red' }
                              : { color: 'green' }
                            : { color: 'black' }
                        "
                      >
                        {{
                          item == val
                            ? find(val, datas.id) == true
                              ? "P"
                              : find(val, datas.id) == false
                              ? "AB"
                              : "UM"
                            : "UM"
                        }}
                      </span></span
                    >
                    <!-- <a href=""> 
                                        <i class="fas fa-envelope fa-lg"></i>
                                        <span class="badge bg-danger badge-dot"></span>
                                      </a> -->
                  </span>

                  <span
                    style="color: black"
                    [ngClass]="[
                      findval(Date, click(), item)
                        ? 'w3-badge w3-red my-color-ummarks'
                        : ''
                    ]"
                  >
                    {{ findval(Date, click(), item) ? "UM" : " " }}</span
                  >
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div *ngIf="data[0].employee?.length <= 0" style="margin-left: 42%">
          <h3>Sorry data not found!..</h3>
        </div>

        <div
          *ngIf="data[0].employee?.length > 0"
          class="col-sm-12"
          style="font-size: small; text-align: right"
        >
          <button
            mat-icon-button
            [disabled]="has_previoustype === false"
            color="primary"
            (click)="attendancepreviousClick()"
          >
            <mat-icon>arrow_back</mat-icon>
          </button>
          {{ presentpagetype }}
          <button
            mat-icon-button
            [disabled]="has_nexttype === false"
            color="primary"
            (click)="attdancenextClick()"
          >
            <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
      </form>
    </div>

    <div
      style="margin-bottom: 3%; display: flex; justify-content: center"
      *ngIf="onsubmitshow"
    >
      <button
        style="display: none"
        data-toggle="modal"
        data-target="#makerchecker"
        #makerchecker
      ></button>
      <button
        style="border-radius: 40px"
        #updateapprover
        data-toggle="modal"
        data-target="#updateapprover"
        *ngIf="
          this.data[0]?.approval_data?.approval_status?.id == 2 &&
          this.data[0]?.approval_data?.ismaker == true
        "
        class="btn btn-outline-primary"
      >
        Edit Approver
      </button>

      <button
        style="border-radius: 40px; margin-left: 30px"
        *ngIf="
          (this.data[0]?.approval_data?.approval_status?.id == 1 ||
            this.data[0]?.approval_data?.approval_status?.id == 4) &&
          this.data[0]?.approval_data?.ismaker == true
        "
        class="btn btn-outline-primary"
        (click)="onCheckCondition()"
      >
        Move to Approver
      </button>
      <button
        type="button"
        class="btn btn-outline-success"
        *ngIf="
          this.data[0]?.approval_data?.approval_status?.status ==
            'Pending checker' && this.data[0]?.approval_data?.ischecker == true
        "
        data-toggle="modal"
        data-target="#rejectModalApprover"
        style="border-radius: 40px; margin-left: 31px"
      >
        Approve
      </button>
      <!-- <button 
         type="button" class="btn btn-outline-danger" data-toggle="modal"  *ngIf="((this.data[0]?.approval_data?.approval_status?.status == 'Pending checker' )&&( this.data[0]?.approval_data?.ischecker == true))" data-target="#rejectModalReject"
            style="border-radius: 40px;margin-left: 30px;">Reject
        </button> -->
      <button
        type="button"
        class="btn btn-outline-success"
        data-toggle="modal"
        *ngIf="
          this.data[0]?.approval_data?.approval_status?.status ==
            'Pending checker' && this.data[0]?.approval_data?.ischecker == true
        "
        data-target="#rejectModalReview"
        style="border-radius: 40px; margin-left: 30px"
      >
        Return
      </button>

      <button
        type="button"
        class="btn btn-outline-success"
        data-toggle="modal"
        data-target="#viewModalApprover"
        (click)="approvalFlow()"
        style="margin-left: 31px"
      >
        Transaction History<span
          style="margin-left: 4px"
          class="fa fa-eye"
        ></span>
      </button>

      <button
        type="button"
        class="btn btn-outline-success"
        data-toggle="modal"
        data-target="#totalamounts"
        (click)="montlyDraft(isAttendance.value)"
        style="margin-left: 31px"
      >
        Monthly Draft
        <span class="fa fa-eye"></span>
      </button>

      <!--  data-toggle="modal" data-target="#totalamounts" -->
    </div>
  </div>

  <!-- approver popup -->

  <div
    class="modal fade"
    id="rejectModalApprover"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl" style="width: 45%">
      <div class="modal-content">
        <div class="modal-header" style="background: #ddefdd">
          <h2 class="modal-title" style="color: black">Approver</h2>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
            #addaprover
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div
          style="
            margin-left: 70px;
            margin-right: 80%;
            margin-top: 3%;
            width: 80%;
          "
        >
          <form [formGroup]="approverform" (ngSubmit)="ApproverPopupForm()">
            <table>
              <div>
                <tr>
                  <td>
                    <mat-form-field style="width: 200px">
                      <mat-label>Remarks</mat-label>
                      <input
                        matInput
                        placeholder="Remarks"
                        formControlName="remarks"
                        autocomplete="off"
                      /> </mat-form-field
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  </td>
                </tr>
              </div>
            </table>
            <tr>
              <button
                type="submit"
                style="float: left; border-radius: 40px"
                class="btn btn-outline-primary"
              >
                Submit
              </button>
              <button
                type="button"
                data-dismiss="modal"
                class="btn btn-outline-primary"
                style="
                  margin-left: 10px;
                  margin-bottom: 10px;
                  border-radius: 40px;
                "
              >
                Cancel
              </button>
            </tr>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- reject popup -->
  <div
    class="modal fade"
    id="rejectModalReject"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl" style="width: 45%">
      <div class="modal-content">
        <div class="modal-header" style="background: #ddefdd">
          <h2 class="modal-title" style="color: black">Reject</h2>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
            #rejected
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div
          style="
            margin-left: 70px;
            margin-right: 80%;
            margin-top: 3%;
            width: 80%;
          "
        >
          <form [formGroup]="approverform" (ngSubmit)="rejectPopupForm()">
            <table>
              <div>
                <tr>
                  <td>
                    <mat-form-field style="width: 200px">
                      <mat-label>Remarks</mat-label>
                      <input
                        matInput
                        placeholder="Remarks"
                        formControlName="remarks"
                        autocomplete="off"
                      /> </mat-form-field
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  </td>
                </tr>
              </div>
            </table>
            <tr>
              <button
                type="submit"
                style="float: left; border-radius: 40px"
                class="btn btn-outline-primary"
              >
                Submit
              </button>
              <button
                type="button"
                data-dismiss="modal"
                class="btn btn-outline-primary"
                style="
                  margin-left: 10px;
                  margin-bottom: 10px;
                  border-radius: 40px;
                "
              >
                Cancel
              </button>
            </tr>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- review popup -->
  <div
    class="modal fade"
    id="rejectModalReview"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl" style="width: 45%">
      <div class="modal-content">
        <div class="modal-header" style="background: #ddefdd">
          <h2 class="modal-title" style="color: black">Review</h2>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
            #review
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div
          style="
            margin-left: 70px;
            margin-right: 80%;
            margin-top: 3%;
            width: 80%;
          "
        >
          <form [formGroup]="approverform" (ngSubmit)="reviewPopupForm()">
            <table>
              <div>
                <tr>
                  <td>
                    <mat-form-field style="width: 200px">
                      <mat-label>Remarks</mat-label>
                      <input
                        matInput
                        placeholder="Remarks"
                        formControlName="remarks"
                        autocomplete="off"
                      /> </mat-form-field
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  </td>
                </tr>
              </div>
            </table>
            <tr>
              <button
                type="submit"
                style="float: left; border-radius: 40px"
                class="btn btn-outline-primary"
              >
                Submit
              </button>
              <button
                type="button"
                data-dismiss="modal"
                class="btn btn-outline-primary"
                style="
                  margin-left: 10px;
                  margin-bottom: 10px;
                  border-radius: 40px;
                "
              >
                Cancel
              </button>
            </tr>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- popup for makerchecker  -->

  <div
    class="modal fade"
    id="makerchecker"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLongTitle"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header" style="background: #ddefdd">
          <h2
            class="modal-title"
            style="
              color: black;
              font-family: 'Times New Roman', Times, serif;
              font-size: 20px;
            "
          >
            Move To Approver
          </h2>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
            #makerchecker
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form
            [formGroup]="movetochekerform"
            style="margin-top: 3%; margin-bottom: 3%; margin-left: 10%"
          >
            <table class="movtochecker" style="margin-bottom: 3%">
              <div>
                <tr>
                  <td>
                    <mat-form-field
                      style="width: 250px"
                      (keyup.backspace)="getApprovalBranch()"
                    >
                      <mat-label>Approval Branch</mat-label>
                      <input
                        #appBranchInput
                        placeholder="Approval Branch"
                        matInput
                        formControlName="approval_branch"
                        (click)="clearAppBranch()"
                        (keyup)="approvalBranchClick()"
                        [matAutocomplete]="approvalBranch"
                        required
                      />
                      <mat-autocomplete
                        #approvalBranch="matAutocomplete"
                        (opened)="autocompleteapprovalBranchScroll()"
                        [displayWith]="displayFnappBranch"
                      >
                        <mat-option *ngIf="isLoading" class="is-loading"
                          >Loading...</mat-option
                        >
                        <ng-container *ngIf="!isLoading">
                          <mat-option
                            *ngFor="let appBranch of appBranchList"
                            [value]="appBranch"
                            (focusout)="FocusApprovalBranch(appBranch)"
                          >
                            ({{ appBranch.code }}){{ appBranch.name }}
                          </mat-option>
                        </ng-container>
                      </mat-autocomplete>
                    </mat-form-field>
                  </td>
                  <td style="padding-left: 8%">
                    <mat-form-field style="width: 250px; margin-left: 50px">
                      <mat-label>Approver</mat-label>
                      <input
                        #employeeInput
                        placeholder="Approver"
                        matInput
                        #ApproverContactInput
                        formControlName="approver"
                        [matAutocomplete]="employee"
                        (keyup)="approvername()"
                        required
                      />
                      <mat-autocomplete
                        #employee="matAutocomplete"
                        (opened)="autocompleteapprovernameScroll()"
                        [displayWith]="displayFnEmployee"
                      >
                        <mat-option *ngIf="isLoading" class="is-loading"
                          >Loading...</mat-option
                        >
                        <ng-container *ngIf="!isLoading">
                          <mat-option
                            *ngFor="let employee of employeeList"
                            [value]="employee"
                            >{{ employee.full_name }}
                          </mat-option>
                        </ng-container>
                      </mat-autocomplete>
                      <!-- <mat-label>Approval Branch</mat-label>
                                        <input  matInput placeholder="Approval Branch" readonly  formControlName="patch1" autocomplete="off" >     -->
                    </mat-form-field>
                  </td>

                  <!-- <td>
                                    <mat-form-field style="width: 250px;padding-left: 8%;" (click)="approvalBranch()">
                                        <mat-label>Approval Branch</mat-label>
                                        <input #branchInput placeholder="Approval Branch" matInput
                                            formControlName="approval_branch" [matAutocomplete]="branch" required>
                                        <mat-autocomplete #branch="matAutocomplete" [displayWith]="displayFnbranch">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let branch of branchList" [value]="branch">
                                                    {{branch.code}}-{{branch.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </td> -->

                  <td style="padding-left: 8%">
                    <mat-form-field style="width: 175px; margin-left: 50px">
                      <mat-label>Remarks</mat-label>
                      <input
                        matInput
                        placeholder="Remarks"
                        formControlName="remarks"
                        autocomplete="off"
                        required
                      />
                    </mat-form-field>
                  </td>
                </tr>
              </div>
            </table>
            <button
              type="submit"
              style="border-radius: 40px"
              class="btn btn-outline-primary"
              (click)="movetoapprove()"
            >
              Move To Approver
            </button>
            <button
              type="button"
              data-dismiss="modal"
              class="btn btn-outline-primary"
              data-dismiss="modal"
              aria-label="Close"
              style="border-radius: 40px; margin-left: 10px"
            >
              Cancel
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="updateapprover"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLongTitle"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header" style="background: #ddefdd">
          <h2
            class="modal-title"
            style="
              color: black;
              font-family: 'Times New Roman', Times, serif;
              font-size: 20px;
            "
          >
            Alternate Approver
          </h2>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
            #makerchecker
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form
            [formGroup]="movetochekerform"
            style="margin-top: 3%; margin-bottom: 3%; margin-left: 10%"
          >
            <table class="movtochecker" style="margin-bottom: 3%">
              <div>
                <tr>
                  <td>
                    <mat-form-field
                      style="width: 250px"
                      (keyup.backspace)="getApprovalBranch()"
                    >
                      <mat-label>Approval Branch</mat-label>
                      <input
                        #appBranchInput
                        placeholder="Approval Branch"
                        matInput
                        formControlName="approval_branch"
                        (click)="clearAppBranch()"
                        (keyup)="approvalBranchClick()"
                        [matAutocomplete]="approvalBranch"
                        required
                      />
                      <mat-autocomplete
                        #approvalBranch="matAutocomplete"
                        (opened)="autocompleteapprovalBranchScroll()"
                        [displayWith]="displayFnappBranch"
                      >
                        <mat-option *ngIf="isLoading" class="is-loading"
                          >Loading...</mat-option
                        >
                        <ng-container *ngIf="!isLoading">
                          <mat-option
                            *ngFor="let appBranch of appBranchList"
                            [value]="appBranch"
                            (focusout)="FocusApprovalBranch(appBranch)"
                          >
                            ({{ appBranch.code }}){{ appBranch.name }}
                          </mat-option>
                        </ng-container>
                      </mat-autocomplete>
                    </mat-form-field>
                  </td>
                  <td style="padding-left: 8%">
                    <mat-form-field style="width: 250px; margin-left: 50px">
                      <mat-label>Approver</mat-label>
                      <input
                        #employeeInput
                        placeholder="Approver"
                        matInput
                        #ApproverContactInputtwo
                        formControlName="approver"
                        [matAutocomplete]="employee"
                        (keyup)="approvernameAlternate()"
                        required
                      />
                      <mat-autocomplete
                        #employee="matAutocomplete"
                        (opened)="autocompleteapprovernameScroll()"
                        [displayWith]="displayFnEmployee"
                      >
                        <mat-option *ngIf="isLoading" class="is-loading"
                          >Loading...</mat-option
                        >
                        <ng-container *ngIf="!isLoading">
                          <mat-option
                            *ngFor="let employee of employeeList"
                            [value]="employee"
                            >{{ employee.full_name }}
                          </mat-option>
                        </ng-container>
                      </mat-autocomplete>
                      <!-- <mat-label>Approval Branch</mat-label>
                                        <input  matInput placeholder="Approval Branch" readonly  formControlName="patch1" autocomplete="off" >     -->
                    </mat-form-field>
                  </td>
                </tr>
              </div>
            </table>
            <button
              type="submit"
              style="border-radius: 40px"
              class="btn btn-outline-primary"
              data-dismiss="modal"
              (click)="movetoapproveUpdate()"
            >
              Update
            </button>
            <button
              type="button"
              data-dismiss="modal"
              class="btn btn-outline-primary"
              data-dismiss="modal"
              aria-label="Close"
              style="border-radius: 40px; margin-left: 10px"
            >
              Cancel
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="viewModalApprover"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLongTitle"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header" style="background: #ddefdd">
          <h2
            class="modal-title"
            style="
              color: black;
              font-family: 'Times New Roman', Times, serif;
              font-size: 20px;
            "
          >
            Transaction History
          </h2>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="center">
            <div class="table-responsive">
              <div style="margin-left: 5%">
                <h2>Maker &nbsp;&nbsp;&nbsp; : {{ attendance_Maker_Name }}</h2>
                <h2>Checker &nbsp;&nbsp;: {{ attendance_Checker_Name }}</h2>
              </div>
              <table
                class="table table-bordered"
                fixed-header
                style="width: 87%; margin-left: 5%"
              >
                <thead class="table_header" style="text-align: left">
                  <tr>
                    <th style="width: 5%">S.No</th>
                    <th style="width: 15%">Date</th>
                    <th>Employee</th>
                    <th>Comments</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let info of historyData; index as i">
                    <td>{{ i + 1 }}</td>
                    <td class="text-style">
                      {{ info.action_date | date : "dd-MMM-yyyy " }}
                    </td>
                    <td class="text-style">{{ info.action_taken.name }}</td>
                    <td class="text-style">{{ info.remarks }}</td>
                    <td class="text-style">{{ info.action }}</td>
                  </tr>
                </tbody>
              </table>
              <div
                *ngIf="historyData?.length == 0"
                style="margin-left: 42%; margin-bottom: 40px"
              >
                <h3>Sorry data not found!..</h3>
              </div>
            </div>
          </div>

          <!-- <table class="table table-bordered" style="width: 70%;">
                    <thead class="table_header">
                        <tr>
                        <th >S.No</th>
                        <th >Approver</th>
                        <th >Created </th>
                        <th >Status</th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>{{this.data[0]?.approval_data?.approver?.full_name}}</td>
                                <td>{{this.data[0]?.approval_data?.created_by?.full_name}}</td>
                                <td>{{this.data[0]?.approval_data?.approval_status?.status}}</td>
                            </tr>  
                        </tbody>
                    </table>
                 -->
        </div>
      </div>
    </div>
  </div>

  <!-- view premises Address -->
  <div
    class="modal fade"
    id="viewAddress"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLongTitle"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl">
      <div class="modal-content" style="width: 80%; margin-left: 11%">
        <div class="modal-header" style="background: #ddefdd">
          <h2
            class="modal-title"
            style="
              color: black;
              font-family: 'Times New Roman', Times, serif;
              font-size: 20px;
            "
          >
            Premises address
          </h2>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div style="margin-top: 1%">
            <div style="margin-left: 10%">
              <!-- <h2 style=" margin: 0px;">Premises &nbsp;: {{ shoepremisname }} </h2>

                                            <h2 style=" margin: 0px;">Branch &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: {{ showbranchname }}</h2>
                                            <h2 style=" margin: 0px;" >Vendor &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: {{ vendorname}}</h2> -->

              <h2 style="margin: 0px">Premises &nbsp;: {{ premisesname }}</h2>
              <p style="margin: 0px 0 4px">
                {{ updatelineName1 }},{{ updatelineName2 }},{{
                  updatelineName3
                }}
              </p>
              <p style="margin: 0px 0 4px">
                {{ updatecityName }},{{ updatedistrictName }},
              </p>
              <p style="margin: 0px 0 4px">
                {{ updatestateName }},{{ updatepinCode }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- <div>
    
    <button *ngIf="((this.branchView?.approval_status.approval_status.status == 'Draft' ||
    this.branchView?.approval_status.status == 'Review') && this.branchView?.ismaker == true)" type="button" class="btn btn-outline-success" data-toggle="modal" data-target="#rejectModalMovetoApprover"
        style="border-radius: 40px;margin-left: 31px;">Submit To Approver
    </button>
    <button *ngIf="((this.branchView?.approval_status.status == 'Draft' || this.branchView?.approval_status.status == 'Pending approval' ||
    this.branchView?.approval_status.status == 'Review') && this.branchView?.ismaker == true)" type="button" class="btn btn-outline-success" (click)="updateButton()" 
    style="border-radius: 40px;margin-left: 30px;">Update
    </button>
    <button *ngIf="this.branchView?.approval_status.status == 'Pending approval' && this.branchView?.ischecker == true" 
    type="button" class="btn btn-outline-success" data-toggle="modal" data-target="#rejectModalApprover"
        style="border-radius: 40px;margin-left: 31px;">
        Approve
    </button>
    <button *ngIf="this.branchView?.approval_status.status == 'Pending approval' && this.branchView?.ischecker == true"
     type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#rejectModalReject"
        style="border-radius: 40px;margin-left: 30px;">Reject
    </button>
    <button *ngIf="this.branchView?.approval_status.status == 'Pending approval' && this.branchView?.ischecker == true"
    type="button" class="btn btn-outline-success" data-toggle="modal" data-target="#rejectModalReview"
        style="border-radius: 40px;margin-left: 30px;">Review
    </button>
</div> -->

  <div>
    <div *ngIf="isBrachcerscreen" style="margin-left: 50px; margin-top: 3%">
      <h2 style="margin-left: 1px">Branch Certification Summary</h2>
      <div>
        <form [formGroup]="branchcert" style="margin-left: 2%">
          <table style="margin-bottom: 2%">
            <div>
              <tr>
                <td>
                  <mat-form-field
                    style="width: 200px"
                    (keyup.backspace)="getbranchid()"
                  >
                    <mat-label>Branch</mat-label>
                    <input
                      placeholder="branch"
                      matInput
                      formControlName="branch_id"
                      #branchbranchInput
                      [matAutocomplete]="branchtype"
                      (keyup)="branchname()"
                    />
                    <mat-autocomplete
                      #branchtype="matAutocomplete"
                      [displayWith]="displaydiss2"
                      (opened)="autocompleteBranchBranchScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let branch of branchlist_bc"
                          [value]="branch"
                        >
                          ({{ branch.code }}){{ branch.name + " " }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field>
                </td>
                <td>
                  <mat-form-field
                    style="width: 200px; margin-left: 50px"
                    (keyup.backspace)="getpremiseid()"
                  >
                    <mat-label>Site</mat-label>
                    <input
                      placeholder="Site"
                      matInput
                      formControlName="premise_id"
                      #branchsiteInput
                      [matAutocomplete]="producttype"
                      (keyup)="premisename()"
                    />
                    <mat-autocomplete
                      #producttype="matAutocomplete"
                      [displayWith]="displaydiss1"
                      (opened)="autocompleteBranchSiteScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let premise of premiselistt"
                          [value]="premise"
                        >
                          ({{ premise.code }}){{ premise.name + " " }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field>
                </td>
                <td>
                  <mat-form-field style="width: 175px; margin-left: 50px">
                    <input
                      matInput
                      readonly
                      [matDatepicker]="dp"
                      placeholder="Month and Year"
                      formControlName="monthdate_bc"
                      [formControl]="monthdate_bc"
                    />
                    <mat-datepicker-toggle
                      matSuffix
                      [for]="dp"
                    ></mat-datepicker-toggle>
                    <mat-datepicker
                      #dp
                      startView="multi-year"
                      (yearSelected)="chosenYearHandler_bc($event)"
                      (monthSelected)="chosenMonthHandler_bc($event, dp)"
                      panelClass="example-month-picker"
                    >
                    </mat-datepicker>
                  </mat-form-field>
                </td>
                <td>
                  <mat-form-field style="width: 175px; margin-left: 50px">
                    <mat-label>Status</mat-label>
                    <mat-select formControlName="status">
                      <mat-option
                        *ngFor="let bc_status of bc_statusList"
                        [value]="bc_status.id"
                      >
                        {{ bc_status.value }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </td>
                <button
                  class="btn btn-outline-primary"
                  type="submit"
                  (click)="getbranchSearch()"
                  style="border-radius: 40px; margin-left: 15px"
                  color="primary"
                >
                  <i class="fa fa-search" aria-hidden="true"></i>
                </button>
                <button
                  class="btn btn-outline-primary"
                  (click)="reset()"
                  type="button"
                  style="border-radius: 40px; margin-left: 15px"
                  color="primary"
                >
                  Reset
                </button>
                <button
                  type="button"
                  class="btn btn-outline-success"
                  ngbTooltip="Add Branch"
                  tooltipClass="my-custom-class"
                  style="border-radius: 40px; margin-left: 15px"
                  (click)="addBranchcertification()"
                >
                  <span class="fa fa-plus"></span>
                </button>
              </tr>
            </div>
          </table>
        </form>
      </div>

      <div class="table-responsive" style="width: 81%; overflow-x: hidden">
        <table class="table table-bordered" fixed-header>
          <thead class="table_header">
            <tr>
              <th>Sl.No</th>
              <th>Month-Year</th>
              <th>Branch</th>
              <th>Site</th>
              <th>Raiser</th>
              <th>Approver</th>
              <th>Status</th>
              <th>View</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let list of summaryList; index as i">
              <td>{{ (paymentpresentpage - 1) * pagesizepayment + i + 1 }}</td>
              <td>{{ mothfind(list.month, list.year) | date : "MMM-yyyy" }}</td>
              <td>({{ list.branch.code }}){{ " " + list.branch.name }}</td>
              <td>({{ list.premise.code }}){{ " " + list.premise.name }}</td>
              <td>{{ list.created_by.name }}</td>
              <td>
                <div *ngIf="list.approver != null">
                  {{ list.approver.name }}
                </div>
              </td>
              <td>{{ list.approval_status.status }}</td>
              <td>
                <span
                  matTooltip="view"
                  class="fa fa-eye create"
                  style="color: green; cursor: pointer"
                  (click)="summaryView(list)"
                ></span>
                <!-- <button mat-icon-button matTooltip=" Edit" class="iconbutton" color="primary" (click)="summaryView(list)">
                                <mat-icon class="enabled_icon" aria-label="Edit">visibility</mat-icon>
                            </button> -->
              </td>
            </tr>
          </tbody>
        </table>
        <div *ngIf="summaryList?.length == 0" style="margin-left: 42%">
          <h3>Sorry data not found!..</h3>
        </div>
        <div class="row" *ngIf="ispaymentpage">
          <div
            class="col-sm-12"
            style="font-size: small; text-align: right; margin-bottom: 50px"
          >
            <button
              mat-icon-button
              [disabled]="has_paymentprevious === false"
              color="primary"
              (click)="previousClickPayment()"
            >
              <mat-icon>arrow_back</mat-icon>
            </button>
            {{ paymentpresentpage }}
            <button
              mat-icon-button
              [disabled]="has_paymentnext === false"
              color="primary"
              (click)="nextClickPayment()"
            >
              <mat-icon>arrow_forward</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div>
    <span *ngIf="isBranchAddForm">
      <app-branch-certification
        (onCancel)="branchAddCancel()"
        (onSubmit)="branchAddSubmit()"
      >
      </app-branch-certification>
    </span>
  </div>

  <div>
    <div *ngIf="isBranchViewForm" style="margin-left: 50px">
      <div style="margin-top: 1%">
        <span
          style="
            margin-left: 1px;
            font-family: 'Times New Roman', Times, serif;
            font-size: 25px;
            font-weight: lighter;
          "
          ><b> Branch Details </b></span
        >
      </div>
      <hr />

      <div>
        <form [formGroup]="branchcertification">
          <div
            class="table-responsive"
            style="
              margin-top: 2%;
              width: 35%;
              overflow-x: hidden;
              margin-left: 31%;
            "
          >
            <table class="table table-bordered" fixed-header>
              <thead class="table_header" style="text-align: center">
                <tr>
                  <th>Branch Certification Report</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <label style="margin-left: 20px; color: blue"
                      >Branch:
                    </label>
                    <mat-form-field
                      style="
                        width: 250px;
                        margin-left: 50px;
                        margin-bottom: -16px;
                      "
                    >
                      <input
                        matInput
                        [readonly]="true"
                        formControlName="branch_id"
                      />
                    </mat-form-field>
                  </td>
                </tr>
                <tr>
                  <td>
                    <label style="margin-left: 20px; color: blue">Site: </label>
                    <mat-form-field
                      style="
                        width: 250px;
                        margin-left: 70px;
                        margin-bottom: -16px;
                      "
                    >
                      <input
                        matInput
                        [readonly]="true"
                        formControlName="premise_id"
                      />
                    </mat-form-field>
                  </td>
                </tr>
                <tr>
                  <td>
                    <label style="margin-left: 20px; color: blue"
                      >Month:
                    </label>
                    <mat-form-field
                      style="
                        width: 250px;
                        margin-left: 50px;
                        margin-bottom: -16px;
                      "
                    >
                      <input
                        matInput
                        [readonly]="true"
                        formControlName="monthdate"
                      />
                    </mat-form-field>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div>
            <table>
              <div>
                <div
                  class="table-responsive"
                  style="
                    margin-top: 2%;
                    width: 100%;
                    overflow-x: hidden;
                    margin-left: 22%;
                  "
                >
                  <table class="table table-bordered" fixed-header>
                    <thead class="table_header" style="text-align: center">
                      <tr>
                        <th>Criteria</th>
                        <th>Yes/No</th>
                        <th>Incidents/Hours</th>
                        <th>Reason</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <div style="color: blue; text-align: left">
                            Last Month Salary Credited?
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_salary_credited">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div style="color: blue; text-align: left">
                            Last Month ESI/EPF Remitted?
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_esi_esf_remitted">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div style="color: blue; text-align: left">
                            Is there any overtime for Security Guard?
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_overtimeunarmed">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-label>hrs</mat-label>
                            <input
                              matInput
                              placeholder="hrs"
                              [readonly]="true"
                              formControlName="overtimeunarmed"
                              autocomplete="off"
                            />
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-label>Reason</mat-label>
                            <input
                              matInput
                              placeholder="Reason"
                              [readonly]="true"
                              formControlName="overtime_reasonunarmed"
                              autocomplete="off"
                            />
                          </mat-form-field>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div style="color: blue; text-align: left">
                            Is there any overtime for Armed Guard?
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_overtime">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-label>hrs</mat-label>
                            <input
                              matInput
                              placeholder="hrs"
                              [readonly]="true"
                              formControlName="overtime"
                              autocomplete="off"
                            />
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-label>Reason</mat-label>
                            <input
                              matInput
                              placeholder="Reason"
                              [readonly]="true"
                              formControlName="overtime_reason"
                              autocomplete="off"
                            />
                          </mat-form-field>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div style="color: blue; text-align: left">
                            Security Guard Operation is staisfied
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_staisfied">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div style="color: blue; text-align: left">
                            Is there any leave for security?
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_leaveunarmed">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div style="color: blue; text-align: left">
                            Is there any leave for armed?
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_leave">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div style="color: blue">
                            Sleeping while on duty for Armed Guard?
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_sleeping">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div style="color: blue; text-align: left">
                            Sleeping while on duty for Security Guard?
                          </div>
                        </td>
                        <td>
                          <mat-form-field
                            style="
                              width: 175px;
                              margin-bottom: -24px;
                              margin-top: -13px;
                            "
                          >
                            <mat-select formControlName="is_sleepingunarmed">
                              <mat-option
                                *ngFor="let branch of branchcert_view"
                                [value]="branch.id"
                              >
                                {{ branch.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                        <td>
                          <div>-</div>
                        </td>
                      </tr>
                    </tbody>
                  </table>

                  <table>
                    <div>
                      <tr>
                        <td>
                          <mat-form-field style="width: 250px">
                            <mat-label>Approval Branch</mat-label>
                            <input
                              matInput
                              [readonly]="true"
                              formControlName="approval_branch"
                            />
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field
                            style="width: 250px; margin-left: 50px"
                          >
                            <mat-label>Approver</mat-label>
                            <input
                              matInput
                              [readonly]="true"
                              formControlName="approver"
                            />
                          </mat-form-field>
                        </td>
                      </tr>
                    </div>
                  </table>
                </div>
              </div>
            </table>
          </div>
        </form>
      </div>

      <div>
        <button
          class="btn btn-outline-primary"
          style="border-radius: 40px; margin-left: 394px"
          (click)="backTobranchSummary()"
        >
          Back
        </button>

        <button
          *ngIf="
            (this.branchView?.approval_status.status == 'Draft' ||
              this.branchView?.approval_status.status == 'Review') &&
            this.branchView?.ismaker == true
          "
          type="button"
          class="btn btn-outline-success"
          data-toggle="modal"
          data-target="#rejectModalMovetoApprover_bc"
          style="border-radius: 40px; margin-left: 31px"
        >
          Submit To Approver
        </button>
        <button
          *ngIf="
            (this.branchView?.approval_status.status == 'Draft' ||
              this.branchView?.approval_status.status == 'Pending checker' ||
              this.branchView?.approval_status.status == 'Review') &&
            this.branchView?.ismaker == true
          "
          type="button"
          class="btn btn-outline-success"
          (click)="updateButton_bc()"
          style="border-radius: 40px; margin-left: 30px"
        >
          Update
        </button>

        <button
          *ngIf="
            this.branchView?.approval_status.status == 'Pending checker' &&
            this.branchView?.ischecker == true
          "
          type="button"
          class="btn btn-outline-success"
          data-toggle="modal"
          data-target="#rejectModalApprover_bc"
          style="border-radius: 40px; margin-left: 31px"
        >
          Approve
        </button>
        <button
          *ngIf="
            this.branchView?.approval_status.status == 'Pending checker' &&
            this.branchView?.ischecker == true
          "
          type="button"
          class="btn btn-outline-danger"
          data-toggle="modal"
          data-target="#rejectModalReject_bc"
          style="border-radius: 40px; margin-left: 30px"
        >
          Reject
        </button>
        <button
          *ngIf="
            this.branchView?.approval_status.status == 'Pending checker' &&
            this.branchView?.ischecker == true
          "
          type="button"
          class="btn btn-outline-success"
          data-toggle="modal"
          data-target="#rejectModalReview_bc"
          style="border-radius: 40px; margin-left: 30px"
        >
          Return
        </button>
      </div>

      <!-- BC-Transaction History summary -->
      <div style="margin-top: 0%">
        <span class="tab-title">
          <h2>Transaction History</h2>
        </span>
      </div>

      <div class="center">
        <div class="table-responsive">
          <table
            class="table table-bordered"
            fixed-header
            style="width: 74%; margin-bottom: 50px; margin-left: 12%"
          >
            <thead class="table_header" style="text-align: left">
              <tr>
                <th>Sl.No</th>
                <th>Date</th>
                <th>Raiser</th>
                <th>Comments</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let info of bc_historyData; index as i">
                <td>{{ i + 1 }}</td>
                <td class="text-style">
                  {{ info.action_date | date : "dd-MMM-yyyy " }}
                </td>
                <td class="text-style">{{ info.action_taken.name }}</td>
                <td class="text-style">{{ info.remarks }}</td>
                <td class="text-style">{{ info.action }}</td>
              </tr>
            </tbody>
          </table>
          <div
            *ngIf="bc_historyData?.length == 0"
            style="margin-left: 42%; margin-bottom: 40px"
          >
            <h3>Sorry data not found!..</h3>
          </div>
        </div>
      </div>

      <!-- move to approver popup -->
      <div
        class="modal fade"
        id="rejectModalMovetoApprover_bc"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">
                Submit To Approver
              </h2>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="moveToApproverForm_bc"
                (ngSubmit)="moveToApproverPopupForm_bc()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    data-toggle="modal"
                    data-target="#rejectModalMovetoApprover_bc"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- approver popup -->
      <div
        class="modal fade"
        id="rejectModalApprover_bc"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">Approver</h2>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="ApproverForm_bc"
                (ngSubmit)="ApproverPopupForm_bc()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    data-toggle="modal"
                    data-target="#rejectModalApprover_bc"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- reject popup -->
      <div
        class="modal fade"
        id="rejectModalReject_bc"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">Reject</h2>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="rejectForm_bc"
                (ngSubmit)="rejectPopupForm_bc()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    data-toggle="modal"
                    data-target="#rejectModalReject_bc"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- review popup -->
      <div
        class="modal fade"
        id="rejectModalReview_bc"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">Review</h2>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="reviewForm_bc"
                (ngSubmit)="reviewPopupForm_bc()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    data-toggle="modal"
                    data-target="#rejectModalReview_bc"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div>
    <span *ngIf="isBC_updateForm">
      <app-branch-certify-edit
        (onCancel)="BC_updateAddCancel()"
        (onSubmit)="BC_updateAddSubmit()"
      >
      </app-branch-certify-edit>
    </span>
  </div>

  <div>
    <div *ngIf="isinvoice" style="margin-left: 50px; margin-top: 3%">
      <h2 style="margin-left: 1px">Invoice Summary</h2>

      <div>
        <form [formGroup]="InvoiceSearchForm" style="margin-left: 2%">
          <table style="margin-bottom: 2%">
            <div>
              <tr>
                <td>
                  <mat-form-field
                    style="width: 200px"
                    (keyup.backspace)="getbranch_Invoice()"
                  >
                    <mat-label>Branch</mat-label>
                    <input
                      #branchInput
                      placeholder="branch"
                      matInput
                      formControlName="branch_id"
                      #in_BranchInput
                      [matAutocomplete]="branchtype"
                      (keyup)="branch_Invoice()"
                    />
                    <mat-autocomplete
                      #branchtype="matAutocomplete"
                      [displayWith]="display_branch_In"
                      (opened)="branch_InvoiceScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let branch of branchlist_In"
                          [value]="branch"
                        >
                          ({{ branch.code }}){{ branch.name + " " }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field>
                </td>
                <td>
                  <mat-form-field
                    style="width: 200px; margin-left: 50px"
                    (keyup.backspace)="getpremise_Invoice()"
                  >
                    <mat-label>Site</mat-label>
                    <input
                      #premiseInput
                      placeholder="Site"
                      matInput
                      formControlName="premise_id"
                      #in_PremiseInput
                      [matAutocomplete]="premisetype"
                      (keyup)="premise_Invoice()"
                    />
                    <mat-autocomplete
                      #premisetype="matAutocomplete"
                      [displayWith]="display_premise_In"
                      (opened)="premise_InvoiceScroll()"
                    >
                      <mat-option *ngIf="isLoading" class="is-loading"
                        >Loading...</mat-option
                      >
                      <ng-container *ngIf="!isLoading">
                        <mat-option
                          *ngFor="let premise of premiselist_In"
                          [value]="premise"
                        >
                          ({{ premise.code }}){{ premise.name + " " }}
                        </mat-option>
                      </ng-container>
                    </mat-autocomplete>
                  </mat-form-field>
                </td>
                <td>
                  <mat-form-field style="width: 175px; margin-left: 50px">
                    <input
                      matInput
                      readonly
                      [matDatepicker]="dp"
                      placeholder="Month and Year"
                      formControlName="monthdate_In"
                      [formControl]="monthdate_In"
                    />
                    <mat-datepicker-toggle
                      matSuffix
                      [for]="dp"
                    ></mat-datepicker-toggle>
                    <mat-datepicker
                      #dp
                      startView="multi-year"
                      (yearSelected)="chosenYearHandler_In($event)"
                      (monthSelected)="chosenMonthHandler_In($event, dp)"
                      panelClass="example-month-picker"
                    >
                    </mat-datepicker>
                  </mat-form-field>
                </td>
                <td>
                  <mat-form-field style="width: 175px; margin-left: 50px">
                    <mat-label>Status</mat-label>
                    <mat-select formControlName="status">
                      <mat-option
                        *ngFor="let in_status of in_statusList"
                        [value]="in_status.id"
                      >
                        {{ in_status.value }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </td>
                <button
                  class="btn btn-outline-primary"
                  type="submit"
                  (click)="getInvoiceSearch()"
                  style="border-radius: 40px; margin-left: 15px"
                  color="primary"
                >
                  <i class="fa fa-search" aria-hidden="true"></i>
                </button>
                <button
                  class="btn btn-outline-primary"
                  (click)="IN_reset()"
                  type="button"
                  style="border-radius: 40px; margin-left: 15px"
                  color="primary"
                >
                  Reset
                </button>
                <button
                  type="button"
                  class="btn btn-outline-success"
                  ngbTooltip="Add Invoice"
                  tooltipClass="my-custom-class"
                  style="border-radius: 40px; margin-left: 15px"
                  (click)="AddInvoice()"
                >
                  <span class="fa fa-plus"></span>
                </button>
              </tr>
            </div>
          </table>
        </form>
      </div>

      <div class="table-responsive" style="width: 81%; overflow-x: hidden">
        <table class="table table-bordered" fixed-header>
          <thead class="table_header">
            <tr>
              <th>Sl.No</th>
              <th>Month-Year</th>
              <th>Branch</th>
              <th>Site</th>
              <th>Raiser</th>
              <th>Approver</th>
              <th>Status</th>
              <th>View</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let list of invoiceSummaryList; index as i">
              <td>{{ (invoicepresentpage - 1) * pagesizeinvoice + i + 1 }}</td>
              <td>
                {{ mothfind_IN(list.month, list.year) | date : "MMM-yyyy" }}
              </td>
              <td>({{ list.branch.code }}){{ " " + list.branch.name }}</td>
              <td>({{ list.premise.code }}){{ " " + list.premise.name }}</td>
              <td>{{ list.created_by.name }}</td>
              <td>
                <div *ngIf="list.approver != null">
                  {{ list.approver.name }}
                </div>
              </td>
              <td>{{ list.approval_status.status }}</td>
              <td>
                <span
                  matTooltip="view"
                  class="fa fa-eye create"
                  style="color: green; cursor: pointer"
                  (click)="invoiceSummaryView(list)"
                ></span>
              </td>
            </tr>
          </tbody>
        </table>
        <div *ngIf="invoiceSummaryList?.length == 0" style="margin-left: 42%">
          <h3>Sorry data not found!..</h3>
        </div>
        <div class="row" *ngIf="isInvoicepage">
          <div
            class="col-sm-12"
            style="font-size: small; text-align: right; margin-bottom: 50px"
          >
            <button
              mat-icon-button
              [disabled]="has_invoiceprevious === false"
              color="primary"
              (click)="previousClickInvoice()"
            >
              <mat-icon>arrow_back</mat-icon>
            </button>
            {{ invoicepresentpage }}
            <button
              mat-icon-button
              [disabled]="has_invoicenext === false"
              color="primary"
              (click)="nextClickInvoice()"
            >
              <mat-icon>arrow_forward</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div>
    <span *ngIf="isInvoiceAddForm">
      <app-add-invoice
        (onCancel)="invoiceAddCancel()"
        (onSubmit)="invoiceAddSubmit()"
      ></app-add-invoice>
    </span>
  </div>

  <div>
    <div *ngIf="isInvoiceViewForm" style="margin-left: 50px">
      <div>
        <h1 style="padding-left: 38%; margin-top: 20px">Invoice Data Entry</h1>
        <nav *ngIf="permission == true">
          <div
            class="nav nav-tabs"
            style="margin-top: 1%; height: 50px; cursor: pointer"
          >
            <a
              class="nav-item nav-link"
              data-toggle="tab"
              (click)="branchViewScreen()"
              >Branch Certification</a
            >
            <a
              class="nav-item nav-link"
              data-toggle="tab"
              (click)="systemGenerateBillScreen()"
              >System Generated Bill</a
            >
          </div>
        </nav>
        <h3 style="margin-top: 2%; margin-bottom: -3%; margin-left: 14%">
          Branches are Advice to take utmost care in filling the data in invoice
          data entry as it plays vital role in the wage Calculations
        </h3>
        <form [formGroup]="invoiceView" style="margin-top: 3%">
          <table>
            <div
              class="table-responsive"
              style="margin-top: 2%; overflow-x: hidden; margin-left: 42%"
            >
              <table class="table table-bordered" fixed-header>
                <tbody>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Data Entry For Site
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Site</mat-label>
                        <input
                          matInput
                          placeholder="Site"
                          formControlName="dataentrysite"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Invoice Month
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Month</mat-label>
                        <input
                          matInput
                          placeholder="Month"
                          formControlName="invoicemonth"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                    <!-- <td>
                                        <mat-form-field style="width: 175px;margin-bottom: -24px;margin-top: -13px;">
                                            <input matInput readonly [matDatepicker]="picker1" formControlName="invoicemonth" 
                                            placeholder="invoicemonth">
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>
                                    </td> -->
                  </tr>

                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Security PAN
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Security Pan</mat-label>
                        <input
                          matInput
                          placeholder="Security Pan"
                          formControlName="securitypan"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Security Agence Name
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Security Agence Name</mat-label>
                        <input
                          matInput
                          placeholder="Security Agence Name"
                          formControlName="securityagencename"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <!-- <tr>
                                    <td>
                                        <div style="color: blue;text-align: left;">Security Tax Number</div>
                                    </td>
                                    <td>
                                        <mat-form-field style="width: 175px;margin-bottom: -24px;margin-top: -13px;">
                                            <mat-label>Security Tax Number</mat-label>
                                            <input matInput placeholder="Security Tax Number" formControlName="servicetaxno" [readonly] = "true"
                                                autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </tr> -->
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        GST Number
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>GST Number</mat-label>
                        <input
                          matInput
                          placeholder="GST Number"
                          formControlName="gst_no"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Invoice Number
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Invoice Number</mat-label>
                        <input
                          matInput
                          placeholder="Invoice Number"
                          formControlName="invoiceno"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Invoice Date
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <input
                          matInput
                          [max]="maxDate"
                          readonly
                          [matDatepicker]="picker2"
                          formControlName="invoicedate"
                          [readonly]="true"
                          placeholder="Invoicedate"
                        />
                        <mat-datepicker-toggle matSuffix [for]="picker2">
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Number of Armed Guards - No of duties per day
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Value</mat-label>
                        <input
                          matInput
                          placeholder="Value"
                          formControlName="aguarddutiespday"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Total No.of duties for Whole Month - Armed Guards
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Value</mat-label>
                        <input
                          matInput
                          placeholder="Value"
                          formControlName="aguarddutiesmonth"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Bill Amount -Armed Guard
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Value</mat-label>
                        <input
                          matInput
                          placeholder="Value"
                          formControlName="abillamt"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Number of Security Guards (Unarmed) - No of duties per
                        day
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Value</mat-label>
                        <input
                          matInput
                          placeholder="Value"
                          formControlName="unaguarddutiespday"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Total no.of duties for Whole Month - Security Guards
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Value</mat-label>
                        <input
                          matInput
                          placeholder="Value"
                          formControlName="unaguarddutiesmonth"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Bill Amount - Security Guard
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Value</mat-label>
                        <input
                          matInput
                          placeholder="Value"
                          formControlName="sbillamt"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Total Bill Amount (Security + Armed )
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Total Bill Amount</mat-label>
                        <input
                          matInput
                          placeholder="Total Bill Amount"
                          formControlName="totlbillamt"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        CGST AMOUNT
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Amount</mat-label>
                        <input
                          matInput
                          placeholder="Amount"
                          formControlName="cgstamt"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        SGST/UTGST AMOUNT
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Amount</mat-label>
                        <input
                          matInput
                          placeholder="Amount"
                          [readonly]="true"
                          formControlName="sgstamt"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        IGST AMOUNT
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>IGST Amount</mat-label>
                        <input
                          matInput
                          placeholder="Amount"
                          [readonly]="true"
                          formControlName="igstamt"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        CGST + SGST / UTGST (TOTAL GST)
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Amount</mat-label>
                        <input
                          matInput
                          placeholder="Value"
                          formControlName="totalgst"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div style="color: blue; text-align: left">
                        Total Amount Payable
                      </div>
                    </td>
                    <td>
                      <mat-form-field
                        style="
                          width: 175px;
                          margin-bottom: -24px;
                          margin-top: -13px;
                        "
                      >
                        <mat-label>Amount</mat-label>
                        <input
                          matInput
                          placeholder="Value"
                          formControlName="totlamtpayable"
                          [readonly]="true"
                          autocomplete="off"
                        />
                      </mat-form-field>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </table>

          <div style="margin-left: 23%">
            <table>
              <div>
                <tr>
                  <td>
                    <mat-form-field style="width: 250px">
                      <mat-label>Approval Branch</mat-label>
                      <input
                        matInput
                        [readonly]="true"
                        formControlName="approval_branch_name"
                      />
                    </mat-form-field>
                  </td>
                  <td>
                    <mat-form-field
                      style="width: 250px; margin-left: 50px"
                      (click)="In_approvername()"
                    >
                      <input
                        #employeeInput
                        placeholder="Approver"
                        matInput
                        [readonly]="true"
                        formControlName="approver"
                        [matAutocomplete]="employee"
                        required
                      />
                      <mat-autocomplete
                        #employee="matAutocomplete"
                        [displayWith]="displayFnEmployee_In"
                      >
                        <mat-option *ngIf="isLoading" class="is-loading"
                          >Loading...</mat-option
                        >
                        <ng-container *ngIf="!isLoading">
                          <mat-option
                            *ngFor="let employee of employeeList_In"
                            [value]="employee"
                            >{{ employee.name }}
                          </mat-option>
                        </ng-container>
                      </mat-autocomplete>
                    </mat-form-field>
                  </td>
                </tr>
              </div>
            </table>
          </div>
        </form>
      </div>

      <div>
        <button
          class="btn btn-outline-primary"
          style="border-radius: 40px; margin-left: 394px"
          (click)="backToInvoiceSummary()"
        >
          Back
        </button>
        <!-- <button style="display: none;" data-toggle="modal" data-target="#rejectModalMovetoChecker" #rejectModalMovetoChecker></button> -->

        <button
          *ngIf="
            (this.getInvoiceData?.approval_status.status == 'Draft' ||
              this.getInvoiceData?.approval_status.status == 'Review') &&
            this.getInvoiceData?.ismaker == true
          "
          type="button"
          class="btn btn-outline-success"
          data-toggle="modal"
          data-target="#rejectModalMovetoChecker_in"
          style="border-radius: 40px; margin-left: 31px"
        >
          Submit To Checker
        </button>
        <button
          *ngIf="
            (this.getInvoiceData?.approval_status.status == 'Draft' ||
              this.getInvoiceData?.approval_status.status ==
                'Pending checker' ||
              this.getInvoiceData?.approval_status.status == 'Review') &&
            this.getInvoiceData?.ismaker == true
          "
          type="button"
          class="btn btn-outline-success"
          (click)="updateButton_in()"
          style="border-radius: 40px; margin-left: 30px"
        >
          Update
        </button>
        <!-- <button type="button" *ngIf="this.getInvoiceData?.approval_status.status != 'Approved' && this.getInvoiceData?.ismaker == true" class="btn btn-outline-danger" (click)="getDeleteInvoice()"
            style="border-radius: 40px;margin-left: 30px;">Delete
            </button> -->
        <!-- <button style="display: none;" data-toggle="modal" data-target="#rejectModalMovetoHeader" #rejectModalMovetoHeader></button> -->

        <button
          *ngIf="
            this.getInvoiceData?.approval_status.status == 'Pending checker' &&
            this.getInvoiceData?.ischecker == true
          "
          type="button"
          class="btn btn-outline-success"
          data-toggle="modal"
          data-target="#rejectModalMovetoHeader_in"
          style="border-radius: 40px; margin-left: 31px"
        >
          Submit To Header
        </button>
        <button
          *ngIf="
            this.getInvoiceData?.approval_status.status == 'Pending header' &&
            this.getInvoiceData?.isheader == true
          "
          type="button"
          class="btn btn-outline-success"
          data-toggle="modal"
          data-target="#rejectModalApprover_in"
          style="border-radius: 40px; margin-left: 30px"
        >
          Approve
        </button>
        <button
          *ngIf="
            this.getInvoiceData?.approval_status.status == 'Pending header' &&
            this.getInvoiceData?.isheader == true
          "
          type="button"
          class="btn btn-outline-danger"
          data-toggle="modal"
          data-target="#rejectModalReject_in"
          style="border-radius: 40px; margin-left: 30px"
        >
          Reject
        </button>
        <button
          *ngIf="
            (this.getInvoiceData?.approval_status.status == 'Pending checker' &&
              this.getInvoiceData?.ischecker == true) ||
            (this.getInvoiceData?.isheader == true &&
              this.getInvoiceData?.approval_status.status == 'Pending header')
          "
          type="button"
          class="btn btn-outline-success"
          data-toggle="modal"
          data-target="#rejectModalReview_in"
          style="border-radius: 40px; margin-left: 30px"
        >
          Return
        </button>
        <button
          *ngIf="
            this.getInvoiceData?.is_payment == false &&
            this.getInvoiceData?.isheader == true &&
            this.getInvoiceData?.approval_status.status == 'Approved'
          "
          type="button"
          class="btn btn-outline-success"
          (click)="ToECF()"
          style="border-radius: 40px; margin-left: 30px"
        >
          Move To ECF
        </button>
      </div>

      <!-- move to checker popup -->
      <div
        class="modal fade"
        id="rejectModalMovetoChecker_in"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">
                Submit To Checker
              </h2>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="moveToCheckerForm_in"
                (ngSubmit)="moveToCheckerPopupForm_in()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    data-toggle="modal"
                    data-target="#rejectModalMovetoChecker_in"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- move to header popup -->
      <div
        class="modal fade"
        id="rejectModalMovetoHeader_in"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">Submit To Header</h2>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="moveToHeaderForm_in"
                (ngSubmit)="moveToHeaderPopupForm_in()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    data-toggle="modal"
                    data-target="#rejectModalMovetoHeader_in"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- approver popup -->
      <div
        class="modal fade"
        id="rejectModalApprover_in"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">Approver</h2>
              <button
                type="button"
                #closebutton_in
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="ApproverForm_in"
                (ngSubmit)="ApproverPopupForm_in()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- reject popup -->
      <div
        class="modal fade"
        id="rejectModalReject_in"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">Reject</h2>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="rejectForm_in"
                (ngSubmit)="rejectPopupForm_in()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    data-toggle="modal"
                    data-target="#rejectModalReject_in"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- review popup -->
      <div
        class="modal fade"
        id="rejectModalReview_in"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl" style="width: 45%">
          <div class="modal-content">
            <div class="modal-header" style="background: #ddefdd">
              <h2 class="modal-title" style="color: black">Review</h2>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div
              style="
                margin-left: 70px;
                margin-right: 80%;
                margin-top: 3%;
                width: 80%;
              "
            >
              <form
                [formGroup]="reviewForm_in"
                (ngSubmit)="reviewPopupForm_in()"
              >
                <table>
                  <div>
                    <tr>
                      <td>
                        <mat-form-field style="width: 200px">
                          <mat-label>Remarks</mat-label>
                          <input
                            matInput
                            placeholder="Remarks"
                            formControlName="remarks"
                            autocomplete="off"
                          /> </mat-form-field
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      </td>
                    </tr>
                  </div>
                </table>
                <tr>
                  <button
                    type="submit"
                    style="float: left"
                    data-toggle="modal"
                    data-target="#rejectModalReview_in"
                    class="btn btn-outline-primary"
                  >
                    Submit
                  </button>
                  <button
                    type="button"
                    data-dismiss="modal"
                    class="btn btn-outline-primary"
                    style="margin-left: 10px; margin-bottom: 10px"
                  >
                    Cancel
                  </button>
                </tr>
              </form>
            </div>
          </div>
        </div>
      </div>

      <span style="color: #808080; margin-top: 0%; width: 50%"
        >Attachments:<i class="fa fa-download"></i
      ></span>
      <span
        style="cursor: pointer; color: #2b89d6; margin-top: 0%"
        *ngFor="let file of getInvoiceData?.invoice_doc; index as i"
        class="btn btn-link"
      >
        <span
          data-target="#my-modal"
          data-toggle="modal"
          (click)="docFileView_in(file.id, file.file_name)"
          >{{ i + 1 }}.{{ file.file_name }},</span
        >
        <!-- <button mat-icon-button style="color:gray;margin-right: 2px;"
                                    (click)="fileDownload(file.id,file.file_name)">
                                    <mat-icon> get_app</mat-icon>,
                </button> -->
      </span>

      <div *ngIf="this.getInvoiceData?.is_payment == true">
        <p style="color: #212529; margin: 0px 0 4px">
          CoverNote
          <button
            type="button"
            class="btn btn-outline-success"
            (click)="coverNotedownload_in()"
            style="border-radius: 40px; margin-left: 3%"
            ngbTooltip="Download CoverNote"
          >
            <span class="fa fa-download"> </span>
          </button>
        </p>
      </div>

      <!-- Transaction History summary -->
      <div style="margin-top: 0%">
        <span class="tab-title">
          <h2>Transaction History</h2>
        </span>
      </div>

      <div class="center">
        <div class="table-responsive">
          <table
            class="table table-bordered"
            fixed-header
            style="width: 70%; margin-bottom: 50px; margin-left: 13%"
          >
            <thead class="table_header" style="text-align: left">
              <tr>
                <th>Sl.No</th>
                <th>Date</th>
                <th>Raiser</th>
                <th>Comments</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let info of invoicehistoryData; index as i">
                <td>{{ i + 1 }}</td>
                <td class="text-style">
                  {{ info.action_date | date : "dd-MMM-yyyy " }}
                </td>
                <td class="text-style">{{ info.action_taken.name }}</td>
                <td class="text-style">{{ info.remarks }}</td>
                <td class="text-style">{{ info.action }}</td>
              </tr>
            </tbody>
          </table>
          <div
            *ngIf="invoicehistoryData?.length == 0"
            style="margin-left: 42%; margin-bottom: 40px"
          >
            <h3>Sorry data not found!..</h3>
          </div>
        </div>
      </div>

      <div
        *ngIf="showPopupImages"
        id="my-modal"
        class="modal fade"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
        tabindex="-1"
        role="dialog"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title w-100" id="exampleModalLabel">
                Attachment View
              </h5>

              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true"> × </span>
              </button>
            </div>
            <div class="modal-body">
              <img src="{{ jpgUrls }}" />
            </div>
            <div class="modal-footer"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div>
    <span *ngIf="isIN_updateForm">
      <app-invoice-update
        (onCancel)="IN_updateAddCancel()"
        (onSubmit)="IN_updateAddSubmit()"
      >
      </app-invoice-update>
    </span>
  </div>

  <!-- <div *ngIf="isBrachcerscreen" style="margin-top: 3%;">
        <app-branchcert-summary></app-branchcert-summary>
    </div> -->

  <div *ngIf="Systemgenerationbill">
    <app-paymentfreezereport (onCancel)="sysCancel()"></app-paymentfreezereport>
  </div>

  <!-- <div *ngIf="isinvoice" style="margin-top: 3%;">
        <app-invoice-summary></app-invoice-summary>
    </div> -->

  <div *ngIf="sgprovision">
    <app-sg-provision></app-sg-provision>
  </div>
</div>

<div
  class="modal fade"
  id="totalamounts"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl" style="width: 75%">
    <div class="modal-content">
      <div
        class="modal-header"
        style="background: #ddefdd; height: 60px; padding-left: 12%"
      >
        <h2 class="modal-title" style="color: black">Monthly Draft</h2>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div style="margin-top: 3%">
        <table
          border="1"
          class="table table-bordered my-table table-sm Counter"
          style="width: 83%; margin-left: 8%; margin-bottom: 3%"
          fixed-header
        >
          <thead class="table_header" style="text-align: center">
            <tr>
              <th
                rowspan="2"
                style="text-align: center; width: 5%; padding-bottom: 3%"
              >
                S.No
              </th>
              <th
                rowspan="2"
                style="width: 24%; padding-bottom: 3%; text-align: center"
              >
                Type of Wages / Allowance
              </th>
              <th colspan="2" style="text-align: center; width: 20%">
                Incidents/Attendance
              </th>
              <th colspan="2" style="text-align: center">Amount</th>
              <th colspan="2" style="text-align: center">Total</th>
            </tr>
            <tr>
              <th>Armed(Count-{{ daat[0]?.incidents_data?.armemp_count }})</th>
              <th>
                Unarmed(Count-{{ daat[0]?.incidents_data?.unarmemp_count }})
              </th>
              <th>Armed</th>
              <th>Unarmed</th>
              <th>Armed</th>
              <th>Unarmed</th>
            </tr>
          </thead>
          <tbody style="text-align: center">
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Total Attendance " | titlecase }}
              </td>

              <td>
                {{ daat[0]?.incidents_data?.present_armemp }}
              </td>
              <td>
                {{ daat[0]?.incidents_data?.present_unarmemp }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>--</td>
              <td>--</td>
              <!-- <td>
                        {{daat[0]?.penalty_data?.present_armemp  | number:'1.2-2'}}
                    </td>
                    <td>
                        {{daat[0]?.penalty_data?.present_unarmemp  | number:'1.2-2'}}
                    </td> -->
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Minimum Wages " | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.wages | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.wages | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.wages | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.wages | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Variable Dearness Allowance " | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.variable_dearn_allowance
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.variable_dearn_allowance
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.variable_dearn_allowance
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.variable_dearn_allowance
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Weekly Off " | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.weekly_off | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.weekly_off | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.weekly_off | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.weekly_off
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ " Minimum Wages Total" | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.minimum_wages_total
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.minimum_wages_total
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.minimum_wages_total
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.minimum_wages_total
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>

            <tr *ngFor="let view of ViewSummary; let i = index">
              <td>A{{ i + 1 }}</td>
              <td style="text-align: left">
                {{ view.name }}
              </td>
              <td>--</td>
              <td>--</td>
              <!-- <td *ngFor="let amt of view['armedcharges'];let j=index">
                    {{amt.amount}}
                </td>
                <td *ngFor="let amt1 of view['unarmedcharges'];let j=index">
                  {{amt1.amount}}
                </td>
                <td *ngFor="let amttotal of view['armedchargestotal'];let j=index">
                    {{amttotal.amount}}
                </td>
                <td *ngFor="let amt1total of view['unarmedchargestotal'];let j=index">
                  {{amt1total.amount}}
                </td> -->
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">
                  <span *ngFor="let amt of view['armedcharges']; let j = index">
                    {{ amt.amount | number : "1.2-2" }}
                  </span>
                </span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>

              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">
                  <span
                    *ngFor="let amt1 of view['unarmedcharges']; let j = index"
                  >
                    {{ amt1.amount | number : "1.2-2" }}
                  </span>
                </span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>

              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">
                  <span
                    *ngFor="
                      let amttotal of view['armedchargestotal'];
                      let j = index
                    "
                  >
                    {{ amttotal.amount | number : "1.2-2" }}
                  </span>
                </span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>

              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">
                  <span
                    *ngFor="
                      let amt1total of view['unarmedchargestotal'];
                      let j = index
                    "
                  >
                    {{ amt1total.amount | number : "1.2-2" }}
                  </span>
                </span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ " Holiday Wages" | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.holiday_wages | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.holiday_wages | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.holiday_wages
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.holiday_wages
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>

            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Overtime Wages" | titlecase }}
              </td>
              <td>
                {{ daat[0]?.incidents_data?.ot_armemp + "(Hour)" }}
              </td>
              <td>
                {{ daat[0]?.incidents_data?.ot_unarmemp + "(Hour)" }}
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.ot_wages | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.ot_wages | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                {{ daat[0]?.penalty_data?.ot_armemp | number : "1.2-2" }}
              </td>
              <td>
                {{ daat[0]?.penalty_data?.ot_unarmemp | number : "1.2-2" }}
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Levy : Non uniform " | titlecase
                }}<span
                  >({{
                    daat[0]?.penalty?.nonuniform?.shift == null
                      ? "Rs." + daat[0]?.penalty?.nonuniform?.amount
                      : daat[0]?.penalty?.nonuniform?.shift + "-Shift"
                  }})</span
                >
              </td>
              <td>
                {{ daat[0]?.incidents_data?.nonuniform_armemp }}
              </td>
              <td>
                {{ daat[0]?.incidents_data?.nonuniform_unarmemp }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.nonuniform_armemp | number : "1.2-2"
                }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.nonuniform_unarmemp | number : "1.2-2"
                }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.nonuniform_armemp | number : "1.2-2"
                }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.nonuniform_unarmemp | number : "1.2-2"
                }}
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Levy : Sleeping " | titlecase
                }}<span
                  >({{
                    daat[0]?.penalty?.sleeping?.shift == null
                      ? "Rs." + daat[0]?.penalty?.sleeping?.amount
                      : daat[0]?.penalty?.sleeping?.shift + "-Shift"
                  }})</span
                >
              </td>
              <td>
                {{ daat[0]?.incidents_data?.sleep_armemp }}
              </td>
              <td>
                {{ daat[0]?.incidents_data?.sleep_unarmemp }}
              </td>
              <td>
                {{ daat[0]?.penalty_data?.sleep_armemp | number : "1.2-2" }}
              </td>
              <td>
                {{ daat[0]?.penalty_data?.sleep_unarmemp | number : "1.2-2" }}
              </td>
              <td>
                {{ daat[0]?.penalty_data?.sleep_armemp | number : "1.2-2" }}
              </td>
              <td>
                {{ daat[0]?.penalty_data?.sleep_unarmemp | number : "1.2-2" }}
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Levy : Alcoholic " | titlecase
                }}<span
                  >({{
                    daat[0]?.penalty?.alcoholic?.shift == null
                      ? "Rs." + daat[0]?.penalty?.alcoholic?.amount
                      : daat[0]?.penalty?.alcoholic?.shift + "-Shift"
                  }})</span
                >
              </td>
              <td>
                {{ daat[0]?.incidents_data?.alcoholic_armemp }}
              </td>
              <td>
                {{ daat[0]?.incidents_data?.alcoholic_unarmemp }}
              </td>
              <td>
                {{ daat[0]?.penalty_data?.alcoholic_armemp | number : "1.2-2" }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.alcoholic_unarmemp | number : "1.2-2"
                }}
              </td>
              <td>
                {{ daat[0]?.penalty_data?.alcoholic_armemp | number : "1.2-2" }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.alcoholic_unarmemp | number : "1.2-2"
                }}
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Levy : Unplanned leave " | titlecase
                }}<span
                  >({{
                    daat[0]?.penalty?.unplanned?.shift == null
                      ? "Rs." + daat[0]?.penalty?.unplanned?.amount
                      : daat[0]?.penalty?.unplanned?.shift + "-Shift"
                  }})</span
                >
              </td>
              <td>
                {{ daat[0]?.incidents_data?.unplanleave_armemp }}
              </td>
              <td>
                {{ daat[0]?.incidents_data?.unplanleave_unarmemp }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.unplanleave_armemp | number : "1.2-2"
                }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.unplanleave_unarmemp | number : "1.2-2"
                }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.unplanleave_armemp | number : "1.2-2"
                }}
              </td>
              <td>
                {{
                  daat[0]?.penalty_data?.unplanleave_unarmemp | number : "1.2-2"
                }}
              </td>
            </tr>

            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "EPF %" | uppercase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.epf | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.epf | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.epf | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.epf | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "ESI %" | uppercase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.esi | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.esi | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.esi | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.esi | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <!-- //MEDICAL INSURANCE % -->
              <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Medical Insurance %" }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.medical_insurance| number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.medical_insurance| number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.medical_insurance| number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>

                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.medical_insurance | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
             <!-- ////// -->
            <tr *ngIf="daat[0]?.unarmed_miniwages?.shift_type == 3">
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Two Hrs duty on prorata " | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.tenhr_prorata | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.tenhr_prorata | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.tenhr_prorata
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.tenhr_prorata
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>

            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Gun Allowance " | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.gun_allowances | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.gun_allowances | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.gun_allowances
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.gun_allowances
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>

            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Administrative charges " | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.administrative_charges
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.administrative_charges
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.administrative_charges
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.administrative_charges
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>

            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Total Bill" | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.total_bill | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.total_bill | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.total_bill | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.total_bill
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Total Bill (Rounded off)" | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.totalbill_roundoff
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.totalbill_roundoff
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.totalbill_roundoff
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.totalbill_roundoff
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>

            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Goods & Service Tax(SGST)" | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.sgst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.sgst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.sgst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.sgst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Goods & Service Tax(CGST)" | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.cgst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.cgst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.cgst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.cgst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Goods & Service Tax(IGST)" | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.igst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.igst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.igst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.igst | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h3 class="count"></h3>
              </td>
              <td style="text-align: left">
                {{ "Grand Total " | titlecase }}
              </td>
              <td>--</td>
              <td>--</td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages != null">{{
                  daat[0]?.armed_miniwages?.grand_total | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages != null">{{
                  daat[0]?.unarmed_miniwages?.grand_total | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.armed_miniwages_total != null">{{
                  daat[0]?.armed_miniwages_total?.grand_total | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.armed_miniwages_total == null"> -- </span>
              </td>
              <td>
                <span *ngIf="daat[0]?.unarmed_miniwages_total != null">{{
                  daat[0]?.unarmed_miniwages_total?.grand_total
                    | number : "1.2-2"
                }}</span>
                <span *ngIf="daat[0]?.unarmed_miniwages_total == null">
                  --
                </span>
              </td>
            </tr>
            <!-- <tr>
                    <td>
                      <h3 class="count"></h3>
                    </td>
                    <td style="text-align: left;">
                        {{'Extra Additional wages ' | titlecase}}
                    </td>
                    <td>
                        --
                     </td>
                     <td>
                        --
                     </td>
                     <td>
                          {{daat[0]?.armed_miniwages?.ot_wages | number:'1.2-2'}}
                     </td>
                     <td>
                         {{daat[0]?.unarmed_miniwages?.ot_wages | number:'1.2-2'}}
                     </td>
                     <td>
                         {{daat[0]?.armed_miniwages_total?.ot_wages | number:'1.2-2'}}
                     </td>
                     <td>
                        {{daat[0]?.unarmed_miniwages_total?.ot_wages | number:'1.2-2'}}
                     </td>
                  </tr>
                   -->
          </tbody>
        </table>
      </div>

      <h3 style="margin-left: 67%; font-weight: bold">
        Total Bill Amount -- {{ Totalbillamount | number : "1.2-2" }}
      </h3>
      <div style="display: flex; justify-content: center; margin-bottom: 2%">
        <button
          type="button"
          class="btn btn-outline-success"
          (click)="montlyDraftdownload(isAttendance.value)"
          style="margin-left: 31px; border-radius: 40px"
          ngbTooltip="Download Monthly Draft"
        >
          <span class="fa fa-download"> </span>
        </button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isadminsg">
  <app-sgadmin></app-sgadmin>

  <!-- </div> -->
</div>
<div *ngIf="monthly_scheduler">
<app-monthly-scheduler></app-monthly-scheduler>
</div>

<ngx-spinner
  bdColor="rgba(51, 51, 51, 0.8)"
  size="default"
  [fullScreen]="true"
  type="ball-spin-clockwise"
>
  <p style="color: white">Loading...</p>
</ngx-spinner>

<!-- Monthly draft full -->

<!-- <div *ngIf="Monthlydraft">
    <div style="    margin-left: 5%;">
        <h2>Branch &nbsp;&nbsp;&nbsp;  : {{branchshow}}</h2>
        <h2>Premises : {{primises}}</h2>
        <h2>Vendor  &nbsp;&nbsp;&nbsp;  : {{vendorshow}}</h2>
     </div>
        <div class="table-responsive">
            <table  class="table table-bordered my-table" fixed-header
                style="width: 87%;margin-bottom: 50px;margin-left: 5%;text-align: center;   ">
                <thead class="table_header">
                    <tr>
                        <th rowspan="2" style=" padding-bottom: 4%;">Details</th>
                        <th colspan="2">Incidents</th>
                        <th colspan="2">Penalty</th>
                        <th colspan="2">Amount</th>
                    </tr>
                    <tr>
                        <th style="width: 13%;">Armed</th>
                        <th>Unarmed</th>
                        <th style="width: 13%;">Armed</th>
                        <th>Unarmed</th>      
                        <th style="width: 13%;">Armed</th>
                        <th>Unarmed</th>
                    </tr>
                    
                </thead>
                <tbody>
                    <tr>
                        <td>Total Attendance</td>
                        <td>{{daat[0]?.incidents_data?.present_armemp}}</td>
                        <td>{{daat[0]?.incidents_data?.present_unarmemp}}</td>
                        <td>{{(daat[0]?.penalty_data?.armed_wages) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.penalty_data?.unarmed_wages) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.amount_data?.present_armemp ) | number:'1.2-2'}}</td>
                        <td>{{ (daat[0]?.amount_data?.present_unarmemp) | number:'1.2-2'}}</td>
                    </tr>
                    <tr>
                        <td>Sleeping</td>
                        <td>{{daat[0]?.incidents_data?.sleep_armemp}}</td>
                        <td>{{daat[0]?.incidents_data?.sleep_unarmemp}}</td>
                        <td>{{daat[0]?.penalty_data?.sleep?.amount != null ? daat[0]?.penalty_data?.sleep?.amount+"(Amount)" : daat[0]?.penalty_data?.sleep?.shift+"(shift)" }}</td>
                        <td>{{daat[0]?.penalty_data?.sleep?.amount != null ? daat[0]?.penalty_data?.sleep?.amount+"(Amount)" : daat[0]?.penalty_data?.sleep?.shift+"(shift)" }}</td>
                        <td>{{(daat[0]?.amount_data?.sleep_armemp) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.amount_data?.sleep_unarmemp) | number:'1.2-2'}}</td>
                    </tr>
                    <tr>
                        <td>Unplanned leave</td>
                        <td>{{daat[0]?.incidents_data?.unplanleave_armemp}}</td>
                        <td>{{daat[0]?.incidents_data?.unplanleave_unarmemp}}</td>
                        <td>{{daat[0]?.penalty_data?.unplanleave?.amount != null ? daat[0]?.penalty_data?.unplanleave?.amount+"(Amount)" : daat[0]?.penalty_data?.unplanleave?.shift+"(shift)" }}</td>
                        <td>{{daat[0]?.penalty_data?.unplanleave?.amount != null ? daat[0]?.penalty_data?.unplanleave?.amount+"(Amount)" : daat[0]?.penalty_data?.unplanleave?.shift+"(shift)" }}</td>
                        <td>{{(daat[0]?.amount_data?.unplanleave_armemp) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.amount_data?.unplanleave_unarmemp) | number:'1.2-2'}}</td>
                    </tr>
                    <tr>
                        <td>Is alcoholic</td>
                        <td>{{daat[0]?.incidents_data?.alcoholic_armemp}}</td>
                        <td>{{daat[0]?.incidents_data?.alcoholic_unarmemp}}</td>
                        <td>{{daat[0]?.penalty_data?.alcoholic?.amount != null ? daat[0]?.penalty_data?.alcoholic?.amount+"(Amount)" : daat[0]?.penalty_data?.alcoholic?.shift+"(shift)" }}</td>
                        <td>{{daat[0]?.penalty_data?.alcoholic?.amount != null ? daat[0]?.penalty_data?.alcoholic?.amount+"(Amount)" : daat[0]?.penalty_data?.alcoholic?.shift+"(shift)" }}</td>
                        <td>{{(daat[0]?.amount_data?.alcoholic_armemp) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.amount_data?.alcoholic_unarmemp) | number:'1.2-2'}}</td>
                    </tr>
                    <tr>
                        <td>No uniform</td>
                        <td>{{daat[0]?.incidents_data?.nonuniform_armemp}}</td>
                        <td>{{daat[0]?.incidents_data?.nonuniform_unarmemp}}</td>
                        <td>{{daat[0]?.penalty_data?.nonuniform?.amount != null ? daat[0]?.penalty_data?.nonuniform?.amount+"(Amount)" : daat[0]?.penalty_data?.nonuniform?.shift+"(shift)" }}</td>
                        <td>{{daat[0]?.penalty_data?.nonuniform?.amount != null ? daat[0]?.penalty_data?.nonuniform?.amount+"(Amount)" : daat[0]?.penalty_data?.nonuniform?.shift+"(shift)" }}</td>
                        <td>{{(daat[0]?.amount_data?.nonuniform_armemp) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.amount_data?.nonuniform_unarmemp) | number:'1.2-2'}}</td>
                    </tr>
                    <tr>
                        <td>Overtime</td>
                        <td>{{daat[0]?.incidents_data?.ot_armemp}}</td>
                        <td>{{daat[0]?.incidents_data?.ot_unarmemp}}</td>
                        <td>{{(daat[0]?.penalty_data?.ot_armed) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.penalty_data?.ot_unarmed) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.amount_data?.ot_armemp) | number:'1.2-2'}}</td>
                        <td>{{(daat[0]?.amount_data?.ot_unarmemp) | number:'1.2-2'}}</td>
                    </tr>
                    <tr>
                        <td colspan="5">Total</td>
                        <td>{{Totalamdaamount  | number:'1.2-2'}}</td>
                        <td>{{Totalunamdamount  | number:'1.2-2' }}</td>
                    </tr>
                   
                </tbody>
            </table>
           
        </div>
        <div style="padding-left: 60%;font-weight: bold;
        margin: -19px 40px 35px 13px;">
            <tr >
                <td >Total Amount</td>
                <td style="    padding-left: 20%;">{{Totalamount  | number:'1.2-2'}}</td>
            </tr>
            <tr border="0">
                <td >CGST</td>
                <td style="    padding-left: 20%;">{{sgstamount  | number:'1.2-2'}}</td>
            </tr>
            <tr border="0">
                <td >SGST</td>
                <td style="    padding-left: 20%;">{{cgstamount  | number:'1.2-2'}}</td>
            </tr>
            <tr >
                <td >Total Bill Amount</td>
                <td style="    padding-left: 20%;">{{Totalbillamount  | number:'1.2-2'}}</td>
            </tr>
        </div>
    <div  style="margin-top: 2.5%;width: 90%; overflow-x: hidden;margin-left: 5%;">
       <div class="heading">
            <h2>  Monthly Draft ({{Displaymonth | date: 'MMM yyyy'}}) </h2>

            <div style="  margin-left: 5%;">
                <h2>Branch &nbsp;&nbsp;&nbsp;  : {{branchshow}}</h2>
                <h2>Premises : {{primises}}</h2>
                <h2>Vendor  &nbsp;&nbsp;&nbsp;  : {{vendorshow}}</h2>
            </div>
       </div>
       <div class="body-mondlydrafy">
        
       </div>

       <button type="button" class="btn btn-outline-success"  (click)="monlydraftcancel()"
            style="margin-left: 31px;">  
            Cancel
        </button>
    </div>

</div> -->
