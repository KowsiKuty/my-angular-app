
<div style="margin-left: 50px;">

    <div style="margin-top:1%;">
        
        <span
            style="margin-left: 1px;margin-top:1%; font-family:'Times New Roman', Times, serif;font-size:25px;font-weight:lighter;"><b>
                Schedule Details  </b></span>
               <!-- <div *ngIf="isshow">
                   <tr>
                    From Date: {{fromdate | date:'dd-MMM-yyyy'}}
                   </tr>
                   <tr>
                    End Date: {{ todate | date:'dd-MMM-yyyy'}}
                   </tr>
               </div> -->
                <div>
                    <table style="width: 100%;">
                        <tr>
                            <button class="btn btn-outline-primary" style="height: 60px;" style="border-radius:40px;"
                            (click)="backToAgreementSummary()" id="schedule-view-0009">Back</button>
                           
                            <td style="float: left;margin-left: 44%;">
                                <button type="button" *ngIf="isactivate" data-toggle="modal" data-target="#schedule-view-0001" class="btn btn-success" id="schedule-view-0010">Activate</button>
                            </td>
                            <td style="float: left;margin-left: 1%;">
                                <button type="button" [matMenuTriggerFor]="menu" *ngIf="isterminate" class="btn btn-danger" id="schedule-view-0011">Terminate</button>
                                <mat-menu  #menu="matMenu">
                                    <button data-toggle="modal" data-target="#schedule-view-0002" mat-menu-item id="schedule-view-0012">Terminate</button>
                                    <button data-toggle="modal" data-target="#schedule-view-0003" mat-menu-item id="schedule-view-0013">Partially Terminate</button>
                                </mat-menu>  
                            </td>
                            <td style="float: left;margin-left: 1%;">
                                <button mat-raised-button [matMenuTriggerFor]="menu1" color="warn" *ngIf="ishold" style ="border-radius: 40px;" id="schedule-view-0014">Hold</button>
                                <mat-menu  #menu1="matMenu">
                                    <button data-toggle="modal" data-target="#schedule-view-0004"  mat-menu-item id="schedule-view-0015">Hold</button>
                                    <button data-toggle="modal" data-target="#schedule-view-0005"  mat-menu-item id="schedule-view-0016">Partially Hold</button>
                                </mat-menu>
                            </td>
                            <td style="float: left;margin-left: 1%;">
                                <button type="button" [disabled]="isShowId == false" *ngIf="isShowpoButton" (click)="moveToRO()" class="btn btn-success" id="schedule-view-0017">Move to RO</button>
                            </td>
                            <td style="float: left;margin-left: 2%;">
                                <mat-form-field style="width: 200px;">
                                    <mat-label>Schedule Type</mat-label>
                                    <mat-select readonly="readonly" (selectionChange)="onChangeDropDown($event.value)" id="schedule-view-0018">
                                        <mat-option *ngFor="let type of typeList" [value]="type.id">
                                            {{type.text}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                
                            </td>
                        </tr>
                    </table>
                </div>
    </div>

    <hr>
    <table width="100%" style="margin-top: 0%;">
        <tbody>
            <tr>
                <td width="20%" valign="top">
                    <table width="100%;" style="font-size:14px;">
                        <tbody>
                            <tr>
                                <!-- <p style="color: #808080; margin: 0px 0 4px;"> Code : <span
                                        style="color: black;margin-left: 6em;"> {{ code }}</span></p> -->
                                <p style="color: #808080; margin: 0px 0 4px;"> Start Date : <span
                                        style="color: black;margin-left: 100px;"> {{ startDate | date:'dd-MMM-yyyy '}}</span></p>      
                                <p style="color: #808080; margin: 0px 0 4px;">End Date : <span
                                        style="color: black;margin-left: 104px;"> {{ endDate | date:'dd-MMM-yyyy' }}</span></p>
                                <p style="color: #808080; margin: 0px 0 4px;"> Rent Type: <span
                                            style="color: black;margin-left: 103px;">
                                            {{enhancementTerms}}</span></p>  
                                <p style="color: #808080; margin: 0px 0 4px;"> Recurring Frequency: <span
                                                style="color: black;margin-left: 35px;">
                                                {{freq}}</span></p>       
                                <div *ngIf="isShowId">
                                    <p style="color: #808080; margin: 0px 0 4px;">ID : <span
                                        style="color: black;margin-left: 148px;"> {{ scheduleaccessorId }}</span></p>
                                </div>        
                                
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td width="20%" valign="top">
                    <table width="100%;" style="font-size:14px;margin-top: 2%;">
                        <tbody>
                            <tr>
                                <p style="color: #808080; margin: 0px 0 4px;"> Term Number: <span
                                    style="color: black;margin-left: 72px;">
                                    {{ leaseChanged}}</span></p>
                                <p style="color: #808080; margin: 0px 0 4px;">Term Period : <span
                                    style="color: black;margin-left: 79px;"> {{ leaseRegistration }}</span></p>
                                <div *ngIf= "type_Id ==1">
                                    <p style="color: #808080; margin: 0px 0 4px;"> Rent Amount : <span
                                        style="color: black;margin-left: 74px;"> {{ rentamt }}</span></p>
                                </div>
                                <div *ngIf= "type_Id ==2">
                                    <p style="color: #808080; margin: 0px 0 4px;"> Amenities Amount : <span
                                        style="color: black;margin-left: 3em;"> {{ leasePeriod }}</span></p>
                                </div>
                                <div *ngIf= "type_Id ==3">
                                    <p style="color: #808080; margin: 0px 0 4px;"> Maintenance Amount : <span
                                        style="color: black;margin-left: 23px;"> {{ lockPeriod }}</span></p>
                                </div>
                           
                        
                            </tr>
                        </tbody>
                    </table>
                </td>

                <td width="20%" valign="top">
                    <table width="100%;" style="font-size:14px;margin-top: 2%;">
                        <tbody>
                            <tr> 
                                <div *ngIf= "type_Id ==1">
                                <p style="color: #808080; margin: 0px 0 4px;">Rent Increment % : <span
                                    style="color: black;margin-left: 71px;"> {{ vacationPeriod }}</span></p>
                                </div>
                                <div *ngIf= "type_Id ==2"> 
                                <p style="color: #808080; margin: 0px 0 4px;">Amenities Increment : <span
                                    style="color: black;margin-left: 54px;"> {{ approvalDate }}</span></p>
                                </div>
                                <div *ngIf= "type_Id ==3"> 
                                <p style="color: #808080; margin: 0px 0 4px;"> Maintenance Increment : <span
                                    style="color: black;margin-left: 35px;"> {{ approvalDate1 }}</span></p>
                                </div>
                                <p style="color: #808080; margin: 0px 0 4px;"> Recurring Day : <span
                                        style="color: black;margin-left: 93px;"> {{ landloardPropertydtl}}</span></p>
                                <p style="color: #808080; margin: 0px 0 4px;"> Edit Required : <span
                                            style="color: black;margin-left: 23%;"> {{ flag }}</span></p>
                            </tr> 
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>

<div class="modal fade" id="schedule-view-0001" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header" style="background:#DDEFDD;">
                    <h2 class="modal-title" style="color:black ;">Activate</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="schedule-view-0019">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
    
                <div style="margin-left: 70px;margin-right: 80%;margin-top: 3%; width: 80%;">
                    <div *ngIf="isActivateForm">
                        <div class="table-responsive" class="center">
                            <table class="table table-bordered" fixed-header>
                                    <thead class="table_header" style="text-align: left;">
                                        <tr>
                    
                                            <th>Sl.No</th>
                                            <th>Landlord Name</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let landlord of landlordList;index as i;">
                                            <td> {{i+1}} </td>
                                            <td>{{landlord.landlord_name}}</td>
                                            <td>
                                                <mat-checkbox class="example-margin" (change)="checkedCondition($event.checked,landlord.landlord_id)">
                                                </mat-checkbox>
                                            </td>
                                        </tr>
                                    </tbody> 
                            </table>
                        </div>
                        <form [formGroup]="ActivateForm" (ngSubmit)="ActivatePopupForm()">
                            <table>
                                <div>
                                    <tr>
                                        <td>
                                            <mat-form-field style="width: 200px;">
                                                <mat-label>Remarks</mat-label>
                                                <input matInput placeholder="Remarks" formControlName="remarks"
                                                    autocomplete="off" id="schedule-view-0020">
                                            </mat-form-field>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </td>
                                    </tr>
                                </div>
                            </table>
                            <tr>
                                <button type="submit" style="float: left;" data-toggle="modal" data-target="#schedule-view-0001" class="btn btn-outline-primary" id="schedule-view-0021">
                                    Submit</button>
                                <button type="button" data-dismiss="modal" class="btn btn-outline-primary" id="schedule-view-0022">
                                    Cancel</button>
                            </tr>
                        </form>
                    </div>   
                </div>
            </div>
        </div>
</div>    


<div class="modal fade" id="schedule-view-0002" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Terminate</h2>
                <button type="button" #closebuttonterminate (click)="closeTerminate()" class="close" data-dismiss="modal" aria-label="Close" id="schedule-view-0023">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 3%; width: 80%;">
                <div *ngIf="isTerminateForm">
                    <div class="table-responsive" class="center">
                        <table class="table table-bordered" fixed-header>
                                <thead class="table_header" style="text-align: left;">
                                    <tr>
                
                                        <th>Sl.No</th>
                                        <th>Landlord Name</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let landlord of landlordList;index as i;">
                                        <td> {{i+1}} </td>
                                        <td>{{landlord.landlord_name}}</td>
                                        <td>
                                            <mat-checkbox class="example-margin" (change)="checkedCondition($event.checked,landlord.landlord_id)">
                                            </mat-checkbox>
                                        </td>
                                    </tr>
                                </tbody> 
                        </table>
                    </div>
                    <form [formGroup]="TerminateForm" (ngSubmit)="terminatePopupForm()">
                        <table>
                            <div>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 200px;">
                                            <mat-label>Remarks</mat-label>
                                            <input matInput placeholder="Remarks" formControlName="remarks"
                                                autocomplete="off" required id="schedule-view-0024">
                                        </mat-form-field>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </td>
                                </tr>
                            </div>
                        </table>
                        <tr>
                            <button type="submit" style="float: left; " class="btn btn-outline-primary" id="schedule-view-0025">
                                Submit</button>
                            <button type="button" data-dismiss="modal" (click)="closeTerminate()"  class="btn btn-outline-primary" id="schedule-view-0026">
                                Cancel</button>
                        </tr>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="schedule-view-0003" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Partially Terminate</h2>
                <button type="button" #closebuttonpartiallyterminated (click)="closePartiallyTerminate()" class="close" data-dismiss="modal" aria-label="Close" id="schedule-view-0027">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 3%; width: 80%;">
                <div *ngIf="isPartiallyTerminateForm">
                    <div class="table-responsive" class="center">
                        <table class="table table-bordered" fixed-header>
                                <thead class="table_header" style="text-align: left;">
                                    <tr>
                
                                        <th>Sl.No</th>
                                        <th>Landlord Name</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let landlord of landlordList;index as i;">
                                        <td> {{i+1}} </td>
                                        <td>{{landlord.landlord_name}}</td>
                                        <td>
                                            <mat-checkbox class="example-margin" (change)="checkedCondition($event.checked,landlord.landlord_id)">
                                            </mat-checkbox>
                                        </td>
                                    </tr>
                                </tbody> 
                        </table>
                    </div>
                    <form [formGroup]="PartiallyTerminateForm" (ngSubmit)="partiallyTerminatePopupForm()">
                        <table>
                            <div>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 200px;">
                                            <input matInput [matDatepicker]="picker5" formControlName="from_date" [min]="scheduleStartDate" [max]="scheduleEndDate"
                                                (dateChange)="setDate($event.value)"
                                                placeholder="Terminate From Date" id="schedule-view-0028">
                                            <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                                            <mat-datepicker #picker5></mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field style="width: 200px;margin-left:70px">
                                            <input matInput [matDatepicker]="picker4" formControlName="end_date" [min]="toDate" [max]="scheduleEndDate"
                                            placeholder="Terminate End Date" id="schedule-view-0029">
                                            <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                            <mat-datepicker #picker4></mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 200px;">
                                            <mat-label>Remarks</mat-label>
                                            <input matInput placeholder="Remarks" formControlName="remarks"
                                                autocomplete="off" required id="schedule-view-0030">
                                        </mat-form-field>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </td>
                                </tr>
                            </div>
                        </table>
                        <tr>
                            <button type="submit" style="float: left; " class="btn btn-outline-primary" id="schedule-view-0031">
                                Submit</button>
                            <button type="button" data-dismiss="modal" (click)="closePartiallyTerminate()" class="btn btn-outline-primary" id="schedule-view-0032">
                                Cancel</button>
                        </tr>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="schedule-view-0004" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Hold</h2>
                <button type="button" #closebuttonhold (click)="closeHold()" class="close" data-dismiss="modal" aria-label="Close" id="schedule-view-0033">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 3%; width: 80%;">
                <div *ngIf="isHoldForm">
                    <div class="table-responsive" class="center">
                        <table class="table table-bordered" fixed-header>
                                <thead class="table_header" style="text-align: left;">
                                    <tr>
                
                                        <th>Sl.No</th>
                                        <th>Landlord Name</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let landlord of landlordList;index as i;">
                                        <td> {{i+1}} </td>
                                        <td>{{landlord.landlord_name}}</td>
                                        <td>
                                            <mat-checkbox class="example-margin" (change)="checkedCondition($event.checked,landlord.landlord_id)">
                                            </mat-checkbox>
                                        </td>
                                    </tr>
                                </tbody> 
                        </table>
                    </div>
                    <form [formGroup]="HoldForm" (ngSubmit)="holdPopupForm()">
                        <table>
                            <div>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 200px;">
                                            <mat-label>Remarks</mat-label>
                                            <input matInput placeholder="Remarks" formControlName="remarks"
                                                autocomplete="off" required id="schedule-view-0034">
                                        </mat-form-field>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </td>
                                </tr>
                            </div>
                        </table>
                        <tr>
                            <button type="submit" style="float: left;" class="btn btn-outline-primary" id="schedule-view-0035">
                                Submit</button>
                            <button type="button" data-dismiss="modal" (click)="closeHold()" class="btn btn-outline-primary" id="schedule-view-0036">
                                Cancel</button>
                        </tr>
                    </form>
                </div>   
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="schedule-view-0005" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Partially Hold</h2>
                <button type="button"  #closebuttonpartiallyhold (click)="closePartiallyHold()" class="close" data-dismiss="modal" aria-label="Close" id="schedule-view-0037">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 3%; width: 80%;">
                <div *ngIf="isPartiallyHoldForm">
                    <div class="table-responsive" class="center">
                        <table class="table table-bordered" fixed-header>
                                <thead class="table_header" style="text-align: left;">
                                    <tr>
                
                                        <th>Sl.No</th>
                                        <th>Landlord Name</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let landlord of landlordList;index as i;">
                                        <td> {{i+1}} </td>
                                        <td>{{landlord.landlord_name}}</td>
                                        <td>
                                            <mat-checkbox class="example-margin" (change)="checkedCondition($event.checked,landlord.landlord_id)">
                                            </mat-checkbox>
                                        </td>
                                    </tr>
                                </tbody> 
                        </table>
                    </div>
                    <form [formGroup]="PartiallyHoldForm" (ngSubmit)="partiallyHoldPopupForm()">
                        <table>
                            <div>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 200px;">
                                            <input matInput readonly [matDatepicker]="picker7" formControlName="from_date" [min]="scheduleStartDate" [max]="scheduleEndDate"
                                                (dateChange)="setDate1($event.value)"
                                                placeholder="Hold From Date" id="schedule-view-0038">
                                            <mat-datepicker-toggle matSuffix [for]="picker7"></mat-datepicker-toggle>
                                            <mat-datepicker #picker7></mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field style="width: 200px;margin-left:70px">
                                            <input matInput readonly [matDatepicker]="picker6" formControlName="end_date" [min]="toDate1" [max]="scheduleEndDate"
                                                placeholder="Hold End Date" id="schedule-view-0039">
                                            <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
                                            <mat-datepicker #picker6></mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 200px;">
                                            <mat-label>Remarks</mat-label>
                                            <input matInput placeholder="Remarks" formControlName="remarks"
                                                autocomplete="off" required id="schedule-view-0040">
                                        </mat-form-field>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </td>
                                </tr>
                            </div>
                        </table>
                        <tr>
                            <button type="submit" style="float: left; " class="btn btn-outline-primary" id="schedule-view-0041">
                                Submit</button>
                            <button type="button" data-dismiss="modal" (click)="closePartiallyHold()" class="btn btn-outline-primary" id="schedule-view-0042">
                                Cancel</button>
                        </tr>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


    <!-- <div style="margin-top: 2%;">
        <span *ngIf="dropDownTag == 'rent_term'" style="font-size: 22px;">Arrears
            <button type="button" class="btn btn-outline-success" data-toggle="modal" data-target="#rejectModal4" (click)="rentTermCreate('')" id="schedule-view-0043"><span
                    class="fa fa-plus"></span> Arrears</button>
        </span>
        <span class="drop-down">
            <mat-form-field style="margin-left: 31%;">
                <mat-select [(ngModel)]="dropDownTag" id="schedule-view-0044">
                    <mat-option value="schedule" (click)="getSchedule()">
                        Schedule</mat-option>
                    <mat-option value="rent_term" (click)="getRentTerm()">
                        Arrears</mat-option>
                </mat-select>
            </mat-form-field>
        </span>

    </div> -->

    <div class="modal fade" id="schedule-view-0006" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header" style="background:#DDEFDD;">
                    <h2 class="modal-title" style="color:black ;">Schedule Amount Modify</h2>
                    <button type="button" #closebuttonRentEditable class="close" data-dismiss="modal" aria-label="Close" id="schedule-view-0045">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 3%; width: 80%;">
                <form [formGroup]="rentEditable" (ngSubmit)="rentEditableForm()">
                    <table>
                        <tr>
                            <td>
                                <mat-form-field style="width: 200px;">
                                    <mat-label>Existing Amount </mat-label>
                                    <input matInput placeholder="Existing Schedule Amount" readonly
                                        formControlName="oldrent_amount"  id="schedule-view-0046">
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field style="width: 200px;margin-left: 10px;">
                                    <mat-label>New Schedule Amount </mat-label>
                                    <input matInput placeholder="New Schedule Amount" autocomplete="off" (keyup)="amtclick($event)"
                                        formControlName="rent_amount" required id="schedule-view-0047">
                                </mat-form-field>
                            </td>
                        </tr>
                    </table>
                    <div class="table-responsive" style="width: 50%;"class="center">
                        <table class="table table-bordered" fixed-header>
                            <thead class="table_header">
                                    <tr>
                                        <th>Sl.No</th>
                                        <th>Landlord Name</th>
                                        <th>Existing Share Amount</th>
                                        <th>New Share Amount</th>
                                    </tr>
                                </thead> 
                                <ng-container formArrayName="landlord_allocation" *ngFor="let details of rentEditable.get('landlord_allocation')['controls']; let i = index;">
                                    <tr [formGroupName]="i">
                                        <td>{{i+1}}</td>
                                        <td>
                                            <mat-form-field style="width: 300px;">
                                                <input matInput [readonly] = "true" formControlName="landlord" id="schedule-view-0048">
                                            </mat-form-field>
                                        </td>
                                        <td>
                                            <mat-form-field class="input-style">
                                                <mat-label>Existing Share Amount </mat-label>
                                                <input matInput placeholder="Existing Share Amount"
                                                    formControlName="oldrent_amount" readonly id="schedule-view-0049">
                                            </mat-form-field>
                                        </td>
                                        <td>
                                            <mat-form-field class="input-style">
                                                <mat-label>New Share Amount </mat-label>
                                                <input matInput placeholder="New Share Amount" autocomplete="off" type = "number"
                                                    formControlName="rent_amount" (keypress)="omit_special_char($event)" required id="schedule-view-0050">
                                            </mat-form-field>
                                        </td>
                                    </tr>
                                </ng-container>
                        </table>
                    </div>
                    <tr>
                        <div *ngIf="Ro == null">
                            <mat-form-field style="width: 200px;margin-left: 10px;">
                                <mat-label>Remarks </mat-label>
                                <input matInput placeholder="Remarks" autocomplete="off"
                                    formControlName="remarks" required id="schedule-view-0051">
                            </mat-form-field>
                            <button type="submit" class="btn btn-outline-primary" id="schedule-view-0052">
                                Submit</button>
                            <button type="button" data-dismiss="modal" class="btn btn-outline-primary" id="schedule-view-0053">
                                Cancel</button>
                        </div> 
                    </tr>
                </form>
            </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="schedule-view-0007" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header" style="background:#DDEFDD;">
                    <h2 class="modal-title" style="color:black ;">Reprocess and Modify Landlord share amount</h2>
                    <button type="button" #closebuttonreprocessLandlord class="close" data-dismiss="modal" aria-label="Close" id="schedule-view-0054">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 3%; width: 80%;">
                <form [formGroup]="fg_reprocessLandlord" (ngSubmit)="reprocessLandLordForm()">
                    <table>
                        <tr>
                            <td>
                                <mat-form-field style="width: 400px;">
                                    <mat-label>Landlord </mat-label>
                                    <input matInput placeholder="Landlord" autocomplete="off" 
                                        formControlName="reprocess_landlord" required id="schedule-view-0055">
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <mat-form-field style="width: 200px;">
                                    <mat-label>Share amount </mat-label>
                                    <input matInput placeholder="Schedule Amount" autocomplete="off" 
                                        formControlName="reprocess_rent_amount" required id="schedule-view-0056">
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field style="width: 200px;">
                                    <mat-label>Status</mat-label>
                                    <input matInput placeholder="RCN Status" autocomplete="off" 
                                        formControlName="reprocess_grn_status" required id="schedule-view-0057">
                                </mat-form-field>
                            </td>
                        </tr>
                    </table>
                    <div>
                        <button type="submit" style="float: left; " class="btn btn-outline-primary" id="schedule-view-0058">
                            Submit</button>
                        <button type="button" data-dismiss="modal" class="btn btn-outline-primary" id="schedule-view-0059">
                            Cancel</button>
                    </div> 
                </form>
            </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="schedule-view-0008" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header" style="background:#DDEFDD;">
                    <h2 class="modal-title" style="color:black ;">Landlord Remarks</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="schedule-view-0060">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 3%; width: 80%;">
                <form [formGroup]="landlordRemarks">
                    <table>
                        <tr>
                            <td>
                                <mat-form-field style="width: 300px;">
                                    <mat-label>Remarks </mat-label>
                                    <textarea matInput autocomplete="off"
                                        formControlName="remarks" id="schedule-view-0061"></textarea>
                                </mat-form-field>
                            </td>
                        </tr>
                    </table>
                    <tr>
                            <button type="button" data-dismiss="modal" class="btn btn-outline-primary" id="schedule-view-0062">
                                Cancel</button>
                    </tr>
                </form>
            </div>
            </div>
        </div>
    </div>


    <div style="margin-top: 2%;" *ngIf="dropDownTag == 'schedule'" class="center">
        <div class="table-responsive" style="width: 150%;margin-top: 10px;">
            <table  class="table table-bordered" fixed-header>
                <thead class="table_header" style="text-align: left;">
                    <tr>
                        <th>S.No</th>
                        <th>Period</th>
                        <th>Pay By date</th>
                        <th>
                           <div *ngIf= "type_Id ==1">Current Term Rent Payable Amount</div> 
                           <div *ngIf= "type_Id ==2">Current Term Amenities Payable Amount</div>
                           <div *ngIf= "type_Id ==3">Current Term Maintenance Payable Amount</div>
                        </th>
                        <th>
                            <div *ngIf= "type_Id ==1">Rent to be Paid Amount</div> 
                            <div *ngIf= "type_Id ==2">Amenities to be Paid Amount</div>
                            <div *ngIf= "type_Id ==3">Maintenanace to be Paid Amount</div>
                         </th>
                         <th>
                            <div *ngIf= "type_Id ==1">Rent Paid Amount</div> 
                            <div *ngIf= "type_Id ==2">Amenities Paid Amount</div>
                            <div *ngIf= "type_Id ==3">Maintenanace Paid Amount</div>
                         </th>
                        <th>Schedule Run Date</th>
                        <th>Schedule Status</th>
                        <th>Landlord Name</th>
                        <th>Share Amount</th>
                        <th>Balance Amount</th>
                        <th>Landlord Status</th>
                        <th>RCN Status</th>
                        <th>RCN Status Date</th>
                        <th>AP Status</th>
                        <th>AP Status Date</th>
                        <th>Schedule Ref No</th>
                    </tr>
                </thead>
                    <ng-container *ngFor="let schedule of scheduleList; index as i">
                    <tr>
                        <td [attr.rowspan]= "schedule.rentscheduleinfo.length + 1"  class="text-style"> {{ i+1 }} </td>
                        <td [attr.rowspan]= "schedule.rentscheduleinfo.length + 1" class="text-style" (click)="scheduleaccessorClick(schedule)">{{ schedule.from_date | date:'dd-MMM-yyyy' }} - {{ schedule.to_date | date:'dd-MMM-yyyy'}}</td>
                        <td [attr.rowspan]= "schedule.rentscheduleinfo.length + 1" class="text-style">{{ schedule.payby_date | date:'dd-MMM-yyyy' }}</td>
                        <td [attr.rowspan]= "schedule.rentscheduleinfo.length + 1" class="text-style" style="cursor: pointer; color: #3684BF; " 
                        data-toggle="modal" data-target="#schedule-view-0006" (click)="scheduleEditPopup(schedule)">{{ schedule.rent_amount}}</td>
                        <td [attr.rowspan]= "schedule.rentscheduleinfo.length + 1" class="text-style">{{ schedule.rentpaid_amount}}</td>
                        <td [attr.rowspan]= "schedule.rentscheduleinfo.length + 1"  class="text-style">{{ schedule.paid_amount}}</td>
                        <td [attr.rowspan]= "schedule.rentscheduleinfo.length + 1"  class="text-style">{{ schedule.schedule_date | date:'dd-MMM-yyyy' }}</td>
                        <td [attr.rowspan]= "schedule.rentscheduleinfo.length + 1"  class="text-style">{{ schedule.schedule_status.text}}</td>
                    </tr>
                    <tr *ngFor="let rentsche of schedule.rentscheduleinfo">
                        <td class="text-style">{{ rentsche.landlord_name}}</td>
                        <td class="text-style">{{ rentsche.share_amount}}</td>
                        <td class="text-style">{{ rentsche.balance_amount}}</td>
                        <td class="text-style" style="cursor: pointer; color: #3684BF; "
                        data-toggle="modal" data-target="#schedule-view-0008" (click)="landlordRemarksPopup(rentsche)">{{ rentsche.active_status.text}}</td>
                        <td class="text-style">{{ rentsche.grn_status}}</td>
                        <td class="text-style">{{ rentsche.grnupdated_date | date:'dd-MMM-yyyy'}}</td>
                        <td class="text-style">{{ rentsche.ap_status}}</td>
                        <td class="text-style">{{ rentsche.apupdated_date | date:'dd-MMM-yyyy'}}</td>
                        <td class="text-style" data-toggle="modal" data-target="#schedule-view-0007"
                         (click)="scheduleRejectReprocess(rentsche)">{{ rentsche.po_number}}</td> 
                    </tr>
            </ng-container>
            </table>
            <div *ngIf="scheduleList ?.length == 0" style="margin-left: 42%;">
                <h3>Sorry data not found!.. </h3>
            </div>
        </div>
    </div>
</div>