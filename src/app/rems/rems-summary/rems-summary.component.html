<mat-card>
    <div class="mat-card">
<h2 style="margin-left: 30px;margin-top: 1%;">Premises Summary</h2>

<div style=" margin: auto;">
    <div>
        <div>
            <div class="col-12">
                <div style="margin-left: 35px;">
                    <form [formGroup]="PremiseSearchForm" (ngSubmit)="PremiseSearch()">
                        <mat-form-field class="input-style">
                            <input class="toolbar-search" type="text" matInput autocomplete="off"
                                formControlName="premise_name" id="rems-summary-0001">
                            <mat-placeholder>Premises Name</mat-placeholder>
                        </mat-form-field>

                        <mat-form-field class="input-style2">
                            <mat-label>Type</mat-label>
                            <mat-select formControlName="premise_type" id="rems-summary-0002">
                                <mat-option *ngFor="let premise of premisesTypeData" [value]="premise.id">
                                    {{premise.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field class="input-style2">
                            <mat-label>Occupancy Usage</mat-label>
                            <mat-select formControlName="occupancy_usagetype" id="rems-summary-0003">
                                <mat-option *ngFor="let usage of usageType" [value]="usage.id">
                                    {{usage.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field class="input-style2">
                            <mat-label>Occupancy Usage Code</mat-label>
                            <input #rmInput placeholder="Occupancy Usage Code" matInput
                                formControlName="occupancy_usagecode" [matAutocomplete]="rmemp" id="rems-summary-0004">
                            <mat-autocomplete #rmemp="matAutocomplete" [displayWith]="displayFnRm"
                                (opened)="autocompleteRMScroll()">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let usage of UsageCodeData" [value]="usage">
                                        {{usage.name}}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                        <mat-form-field class="input-style3">
                            <mat-label>City</mat-label>
                            <input placeholder="Select city" matInput formControlName="city"
                                [matAutocomplete]="citytype" id="rems-summary-0005">
                            <mat-autocomplete #citytype="matAutocomplete" [displayWith]="displayFncity">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let city of cityList" [value]="city">
                                        {{city.name}}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                        <mat-form-field class="input-style2">
                            <mat-label>Pin Code</mat-label>
                            <input placeholder="Select Pin Code" matInput formControlName="pincode" maxlength="6"
                                [matAutocomplete]="pintype" id="rems-summary-0006">
                            <mat-autocomplete #pintype="matAutocomplete" [displayWith]="displayFnpin">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let pin of pinCodeList" [value]="pin">
                                        {{pin.no}}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                        <button class="btn btn-outline-primary" type="submit" matTooltip="Search"
                            style="border-radius:40px;margin-left: 15px;" color="primary" id="rems-summary-0007"><i class="fa fa-search"
                                aria-hidden="true"></i></button>
                        <button class="btn btn-outline-primary" (click)="reset()" type="button" matTooltip="Reset"
                            style="border-radius:40px;margin-left: 15px;" color="primary" id="rems-summary-0008">Reset</button>
                        <mat-form-field class="input-style2">
                            <mat-label>Premises Filter</mat-label>
                            <mat-select formControlName="premise_filter" id="rems-summary-0009">
                                <mat-option *ngFor="let premise of premisedropList" [value]="premise.id" (click)="onpremiseChange(premise.id)" >
                                    {{premise.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <button  type="button" class="btn btn-outline-success" matTooltip="Bulk Schedule Run"
                        (click)=OverallScheduleClick() style="border-radius: 20px; cursor: pointer;margin-left: 2rem;"
                        color="primary" id="rems-summary-0010"><span class="fa fa-plus"></span> Bulk Schedule Run
                    </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- <div class="table-responsive">
        <table  class="table table-bordered" fixed-header style="width: 95%;margin-left: 40px;">
            
            <thead  style="text-align: left;">
                <tr class="table_header"> -->
    <div class="table-responsive" style="margin-top: 2%;width: 94%;margin-left: 50px;">
        <table class="table scrolltable table-bordered" fixed-header>
            <thead>
                <tr class="table_header" fixed-header>
                    <th>S.no</th>
                    <th>Code</th>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Controlling Office</th>
                    <th>Created Date</th>
                    <th>Premises Status</th>
                    <th>Request Status</th>
                    <th>Main Status</th>
                    <!-- <th>Rent Area</th>
                    <th>Controlling Office</th> -->
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let premise of PremiseList; index as i">
                    <td> {{(presentpageprem - 1)*pagesize +i+1 }} </td>
                    <td>{{ premise.code }}</td>
                    <td style="cursor: pointer; color: #3684BF; " (click)="premiseView(premise)">{{ premise.name}}
                    </td>
                    <td>{{ premise.type.text}}</td>
                    <td>{{ premise.controlling_office.code}} - {{ premise?.controlling_office.name}}</td>
                    <td>{{ premise.created_date | date:'dd-MMM-yyyy ' }}</td>
                    <td>{{ premise.premise_status}}</td>
                    <td>{{ premise.requeststatus}}</td>
                    <td>{{ premise.main_status}}</td>
                    <!-- <td style="text-indent:2em;">{{ premise.rent_area}}</td>
                    <td style="text-indent:2em;">{{ premise.controlling_office.name}}</td> -->
                </tr>
            </tbody>
        </table>
        <div *ngIf="PremiseList ?.length == 0" style="margin-left: 42%;">
            <h3>Sorry data not found!.. </h3>
        </div>
        <div class="col-sm-12" style="font-size: small;text-align: right; margin-bottom: 100px;" *ngIf="isPremiseList">
            <button mat-icon-button [disabled]="has_previousprem === false" color="primary"
                (click)="pre_previousClick()" id="rems-summary-0011">
                <mat-icon>arrow_back</mat-icon>
            </button>
            {{presentpageprem}}
            <button mat-icon-button [disabled]="has_nextprem === false" color="primary" (click)="pre_nextClick()" id="rems-summary-0012">
                <mat-icon>arrow_forward</mat-icon>
            </button>
        </div>
    </div>
</div>

</div>
</mat-card>