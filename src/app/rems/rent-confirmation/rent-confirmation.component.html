<br>

<h1 style="margin-left: 40px;
 font-family:'Times New Roman', Times, serif;font-size:25px;font-weight:lighter;">Lease Payment</h1>


<form style="margin-left:60px">
    <table>
        <tr>
            <td>
                <mat-form-field class="input-style">
                    <mat-label>Branch Name</mat-label>
                    <input matInput placeholder="Branch Name" autocomplete="off" id="rent-confirmation-0001">
                </mat-form-field>
            </td>
            <td>
                <mat-form-field class="input-style2">
                    <mat-label>Branch Code</mat-label>
                    <input matInput placeholder="Branch Code" autocomplete="off" id="rent-confirmation-0002">
                </mat-form-field>
            </td>
            <td>
                <mat-form-field class="input-style2">
                    <mat-label>Branch GST Number</mat-label>
                    <input matInput placeholder="Branch GST Number" autocomplete="off" id="rent-confirmation-0003">
                </mat-form-field>
            </td>
        </tr>
    </table>
</form>

<!-- <h2 style="margin-left: 40px;"> Invoice Details </h2>
<button type="button" class="btn btn-outline-success" style="border-radius:40px;margin-left: 80%"
    (click)="fuctionforres()" id="rent-confirmation-0004"><span class="fa fa-plus"></span> Invoice Details</button> -->

<h2 style="margin-left: 30px;margin-top: 1%;"> Invoice Details </h2>    
<div class="table-responsive" style="margin-top: 2%;width: 92%; overflow-x: hidden;margin-left: 50px;">
<table class="table table-bordered" fixed-header>
    <thead class="table_header">
        <tr>
            <th>Sl.No</th>
            <th>Rent</th>
            <th>Payment month/s</th>
            <!-- <th>Landlord Name</th> -->
            <th>Landlord GST Number</th>
            <th>HSN Code</th>
            <th>Invoice Date</th>
            <th>Invoice Number</th>
            <th>Invoice Taxable Amount</th>
            <th>IGST</th>
            <th>CGST</th>
            <th>SGST</th>
            <th>Invoice Amount</th>
            <th>Action</th>
            <th>Remarks</th>
            <th>Invoice</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let invoice of invoiceList; index as i">
            <td> {{i+1}} </td>
            <td>{{invoice.invoice_type.text}}</td>
            <td>{{invoice.pending_payment_months}}</td>
            <!-- <td>{{invoice.landlord.name}}</td> -->
            <td>{{invoice.landlord_gstno}}</td>
            <td>{{invoice.hsn_code}}</td>
            <td>{{invoice.invoice_date | date:'dd-MMM-yyyy '}}</td>
            <td>{{invoice.invoice_no}}</td>
            <td>{{invoice.taxable_amount}}</td>
            <td>{{invoice.igstrate}}</td>
            <td>{{invoice.cgstrate}}</td>
            <td>{{invoice.sgstrate}}</td>
            <td>{{invoice.invoice_amount}}</td>
            <td>
                <button mat-icon-button matTooltip=" Edit" class="iconbutton" color="primary"
                    (click)="InvoiceEdit(invoice)" id="rent-confirmation-0005">
                    <mat-icon style="color: gray;cursor: pointer;" aria-label="Edit">edit</mat-icon>
                </button>
                <button mat-icon-button matTooltip="Delete" class="iconbutton" (click)="deleteinvoice(invoice)"
                    color="primary" id="rent-confirmation-0006">
                    <mat-icon style="color: gray;" aria-label="Delete">delete</mat-icon>
                </button>
            </td>
            <td>{{invoice.remarks}}</td>
            <td style="font-size: small;width: 150px;cursor: pointer;">
                <div *ngFor="let file of invoice.file_obj ;index as i;" title="{{file.file_name }}" 
                (click)="fileDownload(file.file_id,file.file_name )"  class=" btn-link"><i
                     class="fa fa-download"></i>
                    {{i+1}}.{{file.file_name }}
                </div>
            </td>
            <!-- <td style="text-align: center;">
                <i class="fa fa-file" aria-hidden="true" data-toggle="modal" data-target="#exampleModalLongs"></i>
               </td> -->
            <!-- <button class="btn btn-outl
                ine-primary" type="submit" data-toggle="modal" data-target="#exampleModalLongs"
               color="primary" id="rent-confirmation-0007"> -->
        </tr>
    </tbody>
</table>

              
      
           
    <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 5%;">
        <button mat-icon-button [disabled]="has_previousinv === false" color="primary" (click)="previousClick()" id="rent-confirmation-0008">
            <mat-icon>arrow_back</mat-icon>
        </button>
        {{presentpageinv}}
        <button mat-icon-button [disabled]="has_nextinv === false" color="primary" (click)="nextClick()" id="rent-confirmation-0009">
            <mat-icon>arrow_forward</mat-icon>
        </button>
    </div>

    
</div>

<h2 style="margin-left: 30px;margin-top: 1%;"> Expenses Details </h2>
<button type="button" class="btn btn-outline-success" style="border-radius:40px;margin-left: 80%"
    (click)="fuctionforreset()" id="rent-confirmation-0010"><span class="fa fa-plus"></span> Expenses Details</button>

<div class="table-responsive" style="margin-top: 2%;width: 92%; overflow-x: hidden;margin-left: 50px;">
    <table class="table table-bordered" fixed-header>
        <thead class="table_header">
            <tr>
                <th>S.No</th>
                <th>Category</th>
                <th>Sub Category</th>
                <th>GL Number</th>
                <th>BS</th>
                <th>CC</th>
                <th>Amount</th>
                <th>Percentage</th>
                <th>Action</th>

            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let Exp of ExpList;index as i">
                <th scope="row">
                    {{(this.presentexp - 1)*pageSizeexp +i+1 }}
                </th>
                <td>{{Exp.category}}</td>
                <td>{{Exp.subcategory}}</td>
                <td>{{Exp.gl_no}}</td>
                <td>{{Exp.bs.name}}</td>
                <td>{{Exp.cc.name}}</td>
                <td>{{Exp.amount }}</td>
                <td>{{Exp.percentage}}</td>
                <td>
                    <button mat-icon-button matTooltip=" Edit" class="iconbutton" (click)="ExpEdit(Exp)"
                        color="primary" id="rent-confirmation-0011">
                        <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                    </button>
                    <button mat-icon-button matTooltip=" Delete" class="iconbutton" (click)="ExpDelete(Exp)"
                        color="primary" id="rent-confirmation-0012">
                        <mat-icon style="color: gray;" aria-label="Delete">delete</mat-icon>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <div *ngIf="ExpList ?.length == 0" style="margin-left: 50%;">
        <h3>Sorry data not found!.. </h3>
    </div>
    <div class="row" *ngIf="is_exppage">
        <div class="col-sm-12" style="font-size: small;text-align: right; margin-bottom: 100px;">
            <button mat-icon-button [disabled]="has_previousexp === false" color="primary" (click)="previousClickExp()" id="rent-confirmation-0013">
                <mat-icon>arrow_back
                </mat-icon>
            </button>
            {{presentexp}}
            <button mat-icon-button [disabled]="has_nextexp === false" color="primary" (click)="nextClickExp()" id="rent-confirmation-0014">
                <mat-icon>arrow_forward
                </mat-icon>
            </button>
        </div>
    </div>
</div>

<h2 style="margin-left: 30px;margin-top: 1%;"> Payment Details </h2>
<div class="table-responsive" style="margin-top: 2%;width: 92%; overflow-x: hidden;margin-left: 50px;">
    <table class="table table-bordered" fixed-header>
        <thead class="table_header">
            <tr>

                <th>Sl.No</th>
                <th>Paymode</th>
                <th>Account Details</th>
                <th>Ref No</th>
                <th>Bank Name</th>
                <th>IFSC Code</th>
                <th>Beneficiary Name</th>
                <th>Tax Type</th>
                <th>Tax Rate</th>
                <th>TDS Exempt</th>
                <!-- <th>Taxable Amount</th> -->
                <th>GL Number</th>
                <th>Amount</th>
                <th>Amount Change</th>
                <!-- <th>Action</th> -->
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let payment of paymentDetailsList; index as i">
                <td> {{(this.paymentcurrentpage - 1)*pagesizepayment +i+1 }} </td>
                <td>{{payment.paymode.name }}</td>
                <td>{{payment.account_details }}</td>
                <td>{{payment.ref_no }}</td>
                <td>{{payment.bank_name.name }}</td>
                <td>{{payment.ifsc_code }}</td>
                <td>{{payment.beneficiary }}</td>
                <td>{{payment.tax_type }}</td>
                <td>{{payment.tax_rate }}</td>
                <td>{{payment.tds_exempt }}</td>
                <td>{{payment.gl_no }}</td>
                <td>{{payment.amount }}</td>
                <td>{{payment.amount_change }}</td>
                <!-- <td>
                    <button mat-icon-button matTooltip=" Edit" class="iconbutton"
                     color="primary" id="rent-confirmation-0015">
                    <mat-icon style="color: gray;cursor: pointer;" aria-label="Edit">edit</mat-icon>
                    </button>
                    <button mat-icon-button matTooltip="Delete" class="iconbutton"
                                 color="primary" id="rent-confirmation-0016">
                                <mat-icon style="color: gray;" aria-label="Delete">delete</mat-icon>
                    </button>
                </td> -->
            </tr>     
        </tbody>
    </table>
    <div *ngIf="paymentDetailsList ?.length == 0" style="margin-left: 42%;">
        <h3>Sorry data not found!.. </h3>
    </div>
    <div class="row" *ngIf="ispaymentpage">
        <div class="col-sm-12" style="font-size: small;text-align: right; margin-bottom: 100px;">
            <button mat-icon-button [disabled]="has_paymentprevious === false" color="primary"
                (click)="previousClickPayment()" id="rent-confirmation-0017">
                <mat-icon>arrow_back</mat-icon>
            </button>
            {{paymentpresentpage}}
            <button mat-icon-button [disabled]="has_paymentnext === false" color="primary"
                (click)="nextClickPayment()" id="rent-confirmation-0018">
                <mat-icon>arrow_forward</mat-icon>
            </button>
        </div>
    </div>
    
</div>
