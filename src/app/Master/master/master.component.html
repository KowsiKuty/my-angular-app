<div class="Container" style="margin-left: 40px;">
    <nav>
        <div class="nav nav-tabs" style="margin-top: 1%;">
            <span class="nav-item nav-link" data-toggle="tab" (click)="subModuleData(sub)" role="tab"
                *ngFor="let sub of subModuleList">
                {{sub.name}}
            </span>
            <button type="button" class="btn btn-outline-success" *ngIf="ismakerCheckerButton" (click)="addForm()"
                style="border-radius: 20px;margin-left: 300px;margin-top: 10px;margin-bottom: 10px;" color="primary"><span
                    class="fa fa-plus"></span>
                {{makerNameBtn}} </button>
        </div>
    </nav>

    <div>
        <span *ngIf="isDeptForm">
            <app-create-department (onCancel)="deptCancel()" (onSubmit)="deptSubmit()"></app-create-department>
        </span>
    </div>
    <div>
        <span *ngIf="isBranchbankForm">
            <app-branch-bank-add (onCancel)="branchbankCancel()" (onSubmit)="branchbankSubmit()"></app-branch-bank-add>
        </span>
    </div>
    <div>
        <span *ngIf="isDesignationForm">
            <app-create-designation (onCancel)="designationcancel()" (onSubmit)="designation()"></app-create-designation>
        </span>
    </div>
    <div>
        <span *ngIf="designationeditform">
            <app-designation-edit (onCancel)="designationcancel()" (onSubmit)="designation()"></app-designation-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isdeptEditForm">
            <app-memo-departent-edit (onCancel)="deptEditCancel()" (onSubmit)="editdeptSubmit()">
            </app-memo-departent-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isEmployeeViewForm">
            <app-employee-view (onCancel)="employeeViewCancel()" (onSubmit)="employeeViewSubmit()"></app-employee-view>
        
        </span>
    </div>
    <div>
        <span *ngIf="isPermissionForm">
            <app-permission (onCancel)="permissionCancel()"></app-permission>
        </span>
    </div>
    <div>
        <span *ngIf="isCategoryForm">
            <app-create-category (onCancel)="categoryCancel()" (onSubmit)="categorySubmit()"></app-create-category>
        </span>
    </div>
    <div>
        <span *ngIf="isCategoryEditForm">
            <app-memo-category-edit (onCancel)="categoryEditCancel()" (onSubmit)="categoryEditSubmit()"></app-memo-category-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isSubCategoryForm">
            <app-subcategory-create (onCancel)="subCategoryCancel()" (onSubmit)="subCategorySubmit()">
            </app-subcategory-create>
        </span>
    </div>
    <div>
        <span *ngIf="isSubCategoryEditForm">
            <app-memo-sub-category-edit (onCancel)="subCategoryEditCancel()" (onSubmit)="subCategoryEditSubmit()">
            </app-memo-sub-category-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isRolesEdit">
            <app-roles-edit (onCancel)="rolesEditCancel()" (onSubmit)="rolesEditSubmit()"></app-roles-edit>
        </span>
    </div>

    <div>
        <span *ngIf="isDepartmentView">
            <app-department-view (onCancel)="departmentViewCancel()"></app-department-view>
        </span>
    </div>
    <div>
        <span *ngIf="isSectorform">
            <app-sector-create (onCancel)="sectorcancel()" (onSubmit)="sectorsubmit()"></app-sector-create>
        </span>
    </div>
    <div>
        <span *ngIf="isSectorEdit">
            <app-sector-edit (onCancel)="sectorcancel()" (onSubmit)="sectorsubmit()"></app-sector-edit>
        </span>
    </div>

    <div>
        <span *ngIf="isStateForm">
            <!-- <app-create-state (onCancel)="stateCancel()" (onSubmit)="stateSubmit()"></app-create-state> -->
        </span>
    </div>


    <div>
        <span *ngIf="isDistrictForm">
            <!-- <app-create-district (onCancel)="districtCancel()" (onSubmit)="districtSubmit()"></app-create-district> -->
        </span>
    </div>
    <div>
        <span *ngIf="isCityForm">
            <app-create-city (onCancel)="cityCancel()" (onSubmit)="citySubmit()"></app-create-city>
        </span>
    </div>
    <div>
        <span *ngIf="isEmpbranchview">
            <app-empbranchview (onCancel)="empbranCancel()"></app-empbranchview>
        </span>
    </div>
    <div>
        <span *ngIf="isEmpbranchcreate">
            <app-empbranch-create (onCancel)="empbranCancel()"  (onSubmit)="empbrancreatesubmit()"></app-empbranch-create>
        </span>
    </div>
    <div>
        <span *ngIf="isEmpbranchedit">
            <app-empbranch-edit  (onCancel)="empbranCancel()"  (onSubmit)="empbraneditsubmit()" ></app-empbranch-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isPinCodeForm">
            <!-- <app-create-pincode (onCancel)="pinCodeCancel()" (onSubmit)="pinCodeSubmit()"></app-create-pincode> -->
        </span>
    </div>

    <div>
        <span *ngIf="isStateEditForm">
            <!-- <app-state-edit (onCancel)="stateEditCancel()" (onSubmit)="stateEditSubmit()"></app-state-edit> -->isstate
        </span>
    </div>


    <div>
        <span *ngIf="isCityEditForm">
            <!-- <app-city-edit (onCancel)="cityEditCancel()" (onSubmit)="cityEditSubmit()"></app-city-edit> -->
        </span>
    </div>
    <div>
        <span *ngIf="isDistrictEditForm">
            <!-- <app-district-edit (onCancel)="districtEditCancel()" (onSubmit)="districtEditSubmit()"></app-district-edit> -->
        </span>
    </div>
    <div>
        <span *ngIf="isPinCodeEditForm">
            <!-- <app-pincode-edit (onCancel)="pinCodeEditCancel()" (onSubmit)="pinCodeEditSubmit()"></app-pincode-edit> -->
        </span>
    </div>
    <div>
        <span *ngIf="isrolescreate">
            <app-role-create (onCancel)="rolescreatecancel()" (onSubmit)="rolescreatesubmit()"></app-role-create>
        </span>
    </div>
    <div>
        <span *ngIf="isBSForm">
            <app-create-businesssegment (onSubmit)="BsSubmit()" (onCancel)="BsCancel()"></app-create-businesssegment>
        </span>
    </div>
    <div>
        <span *ngIf="isCCform">
            <app-create-costcentre (onSubmit)="CCSubmit()" (onCancel)="CCCancel()"></app-create-costcentre>
        </span>
    </div>
    <div>
        <span *ngIf="isCCedit">
            <app-costcentre-edit (onSubmit)="CCeditSubmit()" (onCancel)="CCeditCancel()"></app-costcentre-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isEntityForm">
            <app-entity-create (onSubmit)="entitySubmit()" (onCancel)="entityCancel()"></app-entity-create>
        </span>
    </div>
    <div>
        <span *ngIf="isCCBSform">
            <app-create-ccbs (onSubmit)="CCBSSubmit()" (onCancel)="CCBSCancel()"></app-create-ccbs>
        </span>
    </div>
    <div>
        <span *ngIf="isCCBSedit">
            <app-ccbs-edit (onSubmit)="CCBSeditsubmit()" (onCancel)="CCBSeditcancel()"></app-ccbs-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isPMDForm">
            <app-pmd-branch-create (onSubmit)="PMDSubmitCreate()" (onCancel)="PMDCancelCreate()"></app-pmd-branch-create>
        </span>
    </div>
    <div>
        <span *ngIf="isExpform">
            <app-expence-create (onSubmit)="ExpSubCancel()" (onCancel)="ExpCancel()"></app-expence-create>
        </span>
    </div>
    <div>
        <span *ngIf="isExpEdit">
            <app-expence-edit (onSubmit)="ExpSubCancel()" (onCancel)="ExpCancel()"></app-expence-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isPMDFormedit">
            <app-pmd-branch-edit (onSubmit)="PMDSubmitEdit()" (onCancel)="PMDCancelEdit()"></app-pmd-branch-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isFinForm">
            <app-fin-year-create (onSubmit)="FinSubmit()" (onCancel)="fincancel()"></app-fin-year-create>
        </span>
    </div>
    <div>
        <span *ngIf="isFinEdit">
            <app-fin-year-edit (onSubmit)="FinSubmit()" (onCancel)="fincancel()"></app-fin-year-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isFinQForm">
            <app-finquater-year-create (onSubmit)="FinQSubmit()" (onCancel)="finQcancel()"></app-finquater-year-create>
        </span>
    </div>
    <div>
        <span *ngIf="isFinQEdit">
            <app-finquater-year-edit (onSubmit)="FinQSubmit()" (onCancel)="finQcancel()"></app-finquater-year-edit>
        </span>
    </div>
    <div>
        <span *ngIf="isMailtemplate">
            <app-mail-template  ></app-mail-template>
        </span>
    </div>
    <div>
        <span *ngIf="isemcadd">
            <app-emccontacts-add (onCancel)="ecmcancel()" (onSubmit)="emcsubmit()"></app-emccontacts-add>
        </span>
    </div>
    <div>
        <span *ngIf="empcreateselect">
            <app-emp-details-create (onSubmit)="empcreateSubmit()" (onCancel)="empcreatecancel()"></app-emp-details-create>
        </span>
    </div> 
    <div *ngIf="isempedit">
        <app-emp-details-edit (onSubmit)="empeditSubmit()" (onCancel)="empeditcancel()"></app-emp-details-edit>
    </div>
    <div *ngIf="isSubcategory">
        <div>
            <mat-form-field style="width:18rem; margin-left: 7px;">
                <mat-label>SubCategory</mat-label>
                <input matInput placeholder="SubCategory" [(ngModel)]="subcategoryName" autocomplete="off">
            </mat-form-field>
            <button type="button" class="btn btn-outline-primary" (click)="subCategoryView()"
                style="border-radius:40px;margin-left:2%;">Search</button>
        </div>
        <div class="table-responsive" style="margin-top: 2%;width: 80%;overflow-x: hidden;">
            <table class="table">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>Code</th>
                        <th>SubCategory</th>
                        <th>Category</th>
                        <th>Department</th>
                        <th>Remarks</th>
                        <th *ngIf="ismakerCheckerButton">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let subCategory of subCategoryList; index as i">
                        <td scope="row">{{ i+1 }}</td>
                        <td>{{ subCategory.code }}</td>
                        <td>{{ subCategory.name}}</td>
                        <td>{{subCategory.category.name }}</td>
                        <td><span *ngIf="subCategory.department">{{subCategory.department.name }}</span></td>
                        <td>{{ subCategory.remarks}}</td>
                        <td *ngIf="ismakerCheckerButton">
                            <button mat-icon-button matTooltip=" Edit" class="iconbutton"
                                (click)="subCategoryEdit(subCategory)" color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="row">
                <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 5%;">
                    <button mat-icon-button [disabled]="has_previous === false" color="primary"
                        (click)="previousClickSubCategory()">
                        <mat-icon style="color: black;">arrow_back</mat-icon>
                    </button>
                    {{currentpage}}
                    <button mat-icon-button [disabled]="has_next === false" color="primary"
                        (click)="nextClickSubCategory()">
                        <mat-icon style="color: black;">arrow_forward</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="isDepartment">
        <form [formGroup]="AddForm">
            <mat-form-field style="width: 275px;margin-top: 20px;">
                <mat-label>Department</mat-label>
                <input placeholder="Select Department" matInput formControlName="ctrldepartment" #employeeDeptInput
                    [matAutocomplete]="autodept">
                <mat-autocomplete #autodept="matAutocomplete" (opened)="autocompleteDeptScroll()"
                    [displayWith]="displayFn">
                    <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                    <ng-container *ngIf="!isLoading">
                        <mat-option *ngFor="let dep of departmentList1" (focusout)="departmentSelected(dep.id)"
                            [value]="dep">{{dep.name}}
                        </mat-option>
                    </ng-container>
                </mat-autocomplete>
            </mat-form-field>
            <button type="button" class="btn btn-outline-primary" (click)="deptView()"
                style="border-radius:40px;margin-left:2%;">View</button>
            <button type="button" class="btn btn-outline-primary" (click)="deptreset()"
                style="border-radius:40px;margin-left:2%;">Reset</button>    

        </form>
        <div class="table-responsive" style="margin-top: 2%;width: 60%;overflow-x: hidden;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Short Notation</th>
                        <!-- <th *ngIf="ismakerCheckerButton">Action</th> -->
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let department of departmentList;index as i">
                        <td>{{ i+1 }}</td>
                        <td (click)="departmentView(department.id)">
                            <span *ngIf="department.branch" class="hyperLink">
                                {{ department.branch.name }}
                            </span>
                            <span *ngIf="department.name" class="hyperLink">
                                ( {{ department.name }} )
                            </span>
                        </td>
                        <!-- <td #deptName>
                            <span *ngIf=" department?.name;else branchName"
                                (click)="departmentView(department.id)">
                                {{ department.name }}
                            </span>
                        </td>
                        <ng-template #branchName>
                            <label *ngIf=" department?.branch;else deptName"
                                (click)="departmentView(department.id)">{{ department.branch }}</label>
                        </ng-template> -->

                        <td>{{ department.description }}</td>
                        <td>{{ department.short_notation }}</td>
                        <!--*ngIf="department.is_sys===false"-->
                        <!-- <td *ngIf="ismakerCheckerButton">
                            <button  mat-icon-button matTooltip="Click to Edit"
                                class="iconbutton" (click)="departmentEdit(department)" color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                        </td> -->
                    </tr>
                </tbody>
                <tr *ngIf="departmentList?.length==0; else pagepndept" class="NodataAlign"style="text-align:center"><td colspan="5">No Records Found...</td></tr>
                <ng-template #pagepndept>
                    <tr>
                        <td colspan="5">
                            <div style="text-align:right">
                                <button mat-icon-button [disabled]="has_previous === false" color="primary"(click)="previousClickDepartment()">
                                           <mat-icon style="color: black;">arrow_back</mat-icon>
                                </button>
                                        {{currentpage}}
                                 <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClickDepartment()">
                                            <mat-icon style="color: black;">arrow_forward</mat-icon>
                                </button>
                         
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </table>
           
        </div>
    </div>

    <div *ngIf="isPermission">
        <div>
            <form>
                <mat-label>To</mat-label>
                <mat-form-field class="memo-form" style="margin-bottom: -1.25em; width: 40%;">
                    <mat-chip-list #chipListTo>
                        <mat-chip style="font-size: small;" *ngFor="let employeeto of chipSelectedEmployeeTo"
                            [selectable]=true [removable]=true (removed)="removeEmployeeTo(employeeto)">
                            {{employeeto.full_name}}
                            <mat-icon matChipRemove>cancel</mat-icon>
                        </mat-chip>
                        <input #employeeToInput [formControl]="to_emp" [matAutocomplete]="autoto"
                            [matChipInputFor]="chipListTo" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]=true>
                    </mat-chip-list>
                    <mat-autocomplete #autoto="matAutocomplete" (optionSelected)="employeeToSelected($event)"
                        (opened)="autocompleteToScroll()">
                        <mat-option *ngFor="let thisEmployee of allEmployeeList" [value]="thisEmployee"
                            (onSelectionChange)="getPermissionList(thisEmployee.id)">
                            {{thisEmployee.full_name}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
            </form>

        </div>
        <div class="table-responsive" style="margin-top: 2%;width: 90%;overflow-x: hidden;">
            <table class="table">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>Module</th>
                        <th>Parent</th>
                        <th>Name</th>
                        <th>Logo</th>
                        <th>Url</th>
                        <th>Role</th>
                        <th *ngIf="ismakerCheckerButton">Delete</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let permission of permissionArray;index as i">
                        <td scope="row">{{ i+1 }}</td>
                        <td>{{ permission.parent_name}}</td>
                        <td>{{permission.submodule}}</td>
                        <td>{{ permission.name}}</td>
                        <td>{{ permission.logo}}</td>
                        <td>{{ permission.url}}</td>
                        <td>{{ permission.code}}</td>
                        <td *ngIf="ismakerCheckerButton">
                            <mat-icon style="color: gray;cursor: pointer;" (click)="permissionDelete(permission)">delete
                            </mat-icon>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


    <div *ngIf="isEmployee" style="margin-left:15px;margin-top:2%">
        <div>
            <form>
                <mat-form-field style="width: 300px;">
                    <mat-label>Employee</mat-label>
                    <mat-chip-list #chipList>
                        <mat-chip *ngFor="let employee of chipSelectedEmployee" [selectable]=true [removable]=true
                            (removed)="removeEmployee(employee)">
                            {{employee.full_name}}
                            <mat-icon matChipRemove>cancel</mat-icon>
                        </mat-chip>
                        <input #employeeInput [formControl]="employeeControl" [matAutocomplete]="auto"
                            [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]=true>
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="employeeSelected($event)"
                        (opened)="autocompleteEmployeeScroll()">
                        <mat-option *ngFor="let thisEmployee of totalEmployeeList" [value]="thisEmployee">
                            {{thisEmployee.full_name}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <button type="button" class="btn btn-outline-primary" (click)="empView()"
                    style="border-radius:40px;margin-left:25px;">View</button>
                <button type="button" class="btn btn-outline-primary" (click)="empSearch()" 
                    style="border-radius:40px;margin-left:25px;">Search</button> 
                <button type="button" class="btn btn-outline-danger" (click)="empReset()"  style="border-radius:40px;margin-left:25px;">Reset</button>     
                <input *ngIf="isemployeedownloadbtn" type="file" accept="xlxs" style="width:200px;margin-left:25px" (change)="fileget($event)">
                <button *ngIf="isemployeedownloadbtn" type="button" class="btn btn-outline-success" (click)="emp_upload()" style="border-radius:40px;margin-left:25px">File Upload</button>
                <button *ngIf="isemployeedownloadbtn" mat-raised-button type="button" class="btn btn-primary" (click)="employeedownload()"  style="border-radius: 40px;height: 40px;margin-left:25px"> Download
                    <mat-icon *ngIf="first"><mat-spinner color="accent" diameter="20"></mat-spinner></mat-icon>
                    <mat-icon *ngIf="!first" inline=true style="color:black">download</mat-icon>
                </button>
                <!-- <button class="btn btn-success" matTooltip="Employee Bank" style="border-radius:30px;margin-left:2%;" routerLink="/master/empbank"><span class="fa fa-plus"></span> Employee Bank</button> -->
                                       
                </form>
        </div>
        <div class="table-responsive" style="margin-top: 2%;width: 90%;overflow:auto">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Employee Code</th>
                        <th>Employee Name</th>
                        <th>State Name</th>
                        <th>Date Of Joining	</th>
                        <th>Gender</th>
                        <th >Mobile No</th>
                        <th>E-Mail ID</th>
                        <th>Branch Name</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let employee of employeeList; index as i">
                        <td style="text-align:right" scope="row">{{ i+1 }}</td>
                        <td (click)="employeeView(employee)">{{ employee.code }}</td>
                        <td>{{employee?.full_name}}</td>
                        <td>{{employee?.state_name}}</td>
                        <td>

                            <div *ngIf="employee?.doj == 'None'; else elsedoj">
                                --
                            </div>
                            <ng-template #elsedoj>
                                {{ employee?.doj | date:'dd-MMM-yyyy' }}
                            </ng-template>
                         </td>
                        <td>{{ gender[employee.gender]}}</td>
                        <td style="text-align:right">{{ employee?.phone_no }}</td>
                        
                        <td>{{employee?.email_id}}</td>
                        <td>{{employee['branch']?employee['branch'].name:''}}</td>
                       
                    <td>
                            <!-- <button mat-icon-button matTooltip=" Edit" class="iconbutton"  (click)="getempeditnavigate(employee)"
                                color="primary" >
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button> -->
                            <button mat-icon-button matTooltip="view" class="iconbutton" color="primary" (click)="employeeView(employee)">
                                <mat-icon >visibility</mat-icon>
                        </button>
                         <!--  <button mat-icon-button type="button" (click)="empactiveinactive(employee)" [ngClass]="employee.status==1?'active':'inactive'">
                            <mat-icon>wb_sunny</mat-icon>
                        </button>-->
                    </td> 
                    </tr>
                </tbody>
                <tr>
                    <td colspan="4">Total Count:{{totalcount}}</td>
                    <td colspan="6" style="font-size: small;text-align: right;margin-bottom: 5%;">
                        <button mat-icon-button [disabled]="has_previous === false" color="primary"
                            (click)="previousClickEmployee()">
                            <mat-icon style="color: black;">arrow_back</mat-icon>
                        </button>
                        {{currentpage}}
                        <button mat-icon-button [disabled]="has_next === false" color="primary"
                            (click)="nextClickEmployee()">
                            <mat-icon style="color: black;">arrow_forward</mat-icon>
                        </button>
                    </td>
                </tr>
            </table>
            <!-- <div class="row">
                <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 5%;">
                    <button mat-icon-button [disabled]="has_previous === false" color="primary"
                        (click)="previousClickEmployee()">
                        <mat-icon style="color: black;">arrow_back</mat-icon>
                    </button>
                    {{currentpage}}
                    <button mat-icon-button [disabled]="has_next === false" color="primary"
                        (click)="nextClickEmployee()">
                        <mat-icon style="color: black;">arrow_forward</mat-icon>
                    </button>
                </div>
            </div> -->
        </div>
    </div>

    <!-- <div *ngIf="isCategory">
        <div>
            <mat-form-field style="width:18rem; margin-left: 7px;">
                <mat-label>Category</mat-label>
                <input matInput placeholder="Category" [(ngModel)]="categoryName" autocomplete="off">
            </mat-form-field>
            <button type="button" class="btn btn-outline-primary" (click)="CategoryView()"
                style="border-radius:40px;margin-left:2%;">Search</button>
        </div>
        <div class="table-responsive" style="margin-top: 2%;width: 60%;overflow-x: hidden;">
            <table class="table">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>Code</th>
                        <th>Category</th>
                        <th>Department</th>
                        <th>Remarks</th>
                        <th *ngIf="ismakerCheckerButton">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let category of categoryList; index as i">
                        <td scope="row">{{ i+1 }}</td>
                        <td>{{ category.code }}</td>
                        <td>{{ category.name}}</td>
                        <td>{{ category.department.name }}</td>
                        <td>{{ category.remarks}}</td>
                        <td *ngIf="ismakerCheckerButton">
                            <button mat-icon-button matTooltip=" Edit" class="iconbutton"
                                (click)="categoryEdit(category)" color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="row">
                <div class="col-sm-12" style="font-size: small;text-align: right;margin-bottom: 5%;">
                    <button mat-icon-button [disabled]="has_previous === false" color="primary"
                        (click)="previousClickCategory()">
                        <mat-icon style="color: black;">arrow_back</mat-icon>
                    </button>
                    {{currentpage}}
                    <button mat-icon-button [disabled]="has_next === false" color="primary"
                        (click)="nextClickCategory()">
                        <mat-icon style="color: black;">arrow_forward</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div> -->
    <div *ngIf="isModules">
        <div class="table-responsive" style="margin-top: 2%;width: 50%;overflow-x: hidden;">
            <table class="table">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>Logo</th>
                        <th>Name</th>
                        <th>URL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let modules of modulesList; index as i">
                        <td scope="row">{{ i+1 }}</td>
                        <td>{{ modules.logo}}</td>
                        <td>{{ modules.name}}</td>
                        <td>{{ modules.url}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div *ngIf="isRoles">
        <div class="table-responsive" style="margin-top: 2%;width: 50%;overflow-x: hidden;">
            <table class="table">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>Code</th>
                        <th>Name</th>
                        <th *ngIf="isEditMakerChekerBtn">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let roles of rolesList; index as i">
                        <td scope="row">{{ i+1 }}</td>
                        <td>{{ roles.code}}</td>
                        <td>{{ roles.name}}</td>
                        <td *ngIf="isEditMakerChekerBtn">
                            <button mat-icon-button matTooltip=" Edit" class="iconbutton" (click)="rolesEdit(roles)"
                                color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


    <div *ngIf="isState" style="margin-left:15px;margin-top:2%">
        <form [formGroup]="sform" (ngSubmit)="getStateList(1)">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field style="width:200px">
                        <input class="toolbar-search"  matInput type="text"   maxlength="15"  formControlName="name" autocomplete="off">
                        <mat-placeholder>State Name</mat-placeholder>
                    </mat-form-field>
                
                    <mat-form-field style="width:200px;margin-left:25px" >
                        <input class="toolbar-search"  matInput type="text"   maxlength="15"  formControlName="code" autocomplete="off">
                        <mat-placeholder>State Code</mat-placeholder>
                    </mat-form-field>
                 
                    <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px;"
                        color="primary">Search</button>
                
                    <button class="btn btn-outline-primary" (click)="statereset()" style="border-radius:40px;margin-left: 15px;"
                        color="primary">Reset</button>
                </div>       
                        
            </div>   
                
            </form>
        <div class="table-responsive" style="margin-top: 2%;width: 70%;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>Name</th>
                        <th>Code</th>
                        <th>Country Name</th>
                        <th *ngIf="ismakerCheckerButton">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let state of stateList; index as i">
                        <td scope="row">{{ i+1 }}</td>
                        <td>{{ state.name}}</td>
                        <td>{{ state.code }}</td>
                        <td>{{ state?.country?.name}}</td>
                        <td *ngIf="ismakerCheckerButton">
                            <button mat-icon-button matTooltip=" Edit" class="iconbutton" (click)="stateEdit(state)"
                                color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                            <mat-icon style="color: gray;" (click)="deleteState(state)">delete</mat-icon>
                        </td>
                    </tr>
                    <tr *ngIf="stateList?.length==0; else paginationstate" class="NodataAlign" style="text-align:center"><td colspan="4">No Records Found...</td></tr>
    
                    <ng-template #paginationstate>
                        <tr>
                            <td colspan="5">
                                <div style="text-align:right">
                                    <button mat-icon-button [disabled]="shas_previous === false" color="primary"(click)="previousClickState()">
                                       <mat-icon>arrow_back</mat-icon>
                                    </button>
                                              {{currentpage}}
                                    <button mat-icon-button [disabled]="shas_next === false" color="primary" (click)="nextClickState()">
                                        <mat-icon>arrow_forward</mat-icon>
                                    </button>
                                </div>

                            </td>
                        </tr>
                    </ng-template> 
                </tbody>
            </table>
            <!-- <div class="row">
                <div class="col-sm-12" style="font-size: small;text-align: right;">
                    <button mat-icon-button [disabled]="shas_previous === false" color="primary"
                        (click)="previousClickState()">
                        <mat-icon style="color: black;">arrow_back</mat-icon>
                    </button>
                    {{currentpage}}
                    <button mat-icon-button [disabled]="shas_next === false" color="primary" (click)="nextClickState()">
                        <mat-icon style="color: black;">arrow_forward</mat-icon>
                    </button>
                </div>
            </div> -->
        </div>
    </div>


    <div *ngIf="isDistrict" style="margin-left: 15px;margin-top: 2%;">
        <form [formGroup]="districtform" (ngSubmit)="getDistrictList(1)">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field style="width: 200px;" >
                        <input class="toolbar-search"  matInput type="text"   maxlength="15"  formControlName="name" autocomplete="off">
                        <mat-placeholder>Name</mat-placeholder>
                    </mat-form-field>
                 <!-- </div>            
                 <div class="col-md-3"> -->
                    <mat-form-field style="width: 200px;margin-left:25px;" >
                        <input class="toolbar-search"  matInput type="text"   maxlength="15"  formControlName="code" autocomplete="off">
                        <mat-placeholder>Code</mat-placeholder>
                    </mat-form-field>
                 <!-- </div>
                 <div class="col-md-1"> -->
                    <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px;"
                        color="primary">Search</button>
                  <!-- </div>
                  <div class="col-md-1"> -->
                    <button class="btn btn-outline-primary" (click)="districtreset()" style="border-radius:40px;margin-left: 15px;"
                        color="primary">Reset</button>
                </div>                       
            </div>

                
            </form>
        <div class="table-responsive" style="margin-top: 2%;width: 70%;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>Name</th>
                        <th>Code</th>
                        <th>State Name</th>
                        <th *ngIf="ismakerCheckerButton">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let district of districtList; index as i">
                        <td style="text-align: right;" scope="row">{{ i+1 }}</td>
                        <td>{{ district.name}}</td>
                        <td>{{ district.code }}</td>
                        <td>{{ district?.state?.name}}</td>
                        <td *ngIf="ismakerCheckerButton">
                            
                            <button mat-icon-button matTooltip=" Edit" class="iconbutton"
                                (click)="districtEdit(district)" color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                       
                            <mat-icon style="color: gray;" (click)="deleteDistrict(district)">delete</mat-icon>
                        </td>
                    </tr>
                    <tr *ngIf="districtList?.length==0; else paginationdist" class="NodataAlign" style="text-align:center"><td colspan="4">No Records Found...</td></tr>
    
                    <ng-template #paginationdist>
                        <tr>
                            <td colspan="5">
                                <div style="text-align:right">
                                    <button mat-icon-button [disabled]="dhas_previous === false" color="primary"(click)="previousClickDistrict()">
                                       <mat-icon>arrow_back</mat-icon>
                                    </button>
                                              {{currentpage}}
                                    <button mat-icon-button [disabled]="dhas_next === false" color="primary" (click)="nextClickDistrict()">
                                        <mat-icon>arrow_forward</mat-icon>
                                    </button>
                                </div>

                            </td>
                        </tr>
                    </ng-template> 
                </tbody>
            </table>
            <!-- <div class="row">
                <div class="col-sm-12" style="font-size: small;text-align: right;">
                    <button mat-icon-button [disabled]="dhas_previous === false" color="primary"
                        (click)="previousClickDistrict()">
                        <mat-icon style="color: black;">arrow_back</mat-icon>
                    </button>
                    {{currentpage}}
                    <button mat-icon-button [disabled]="dhas_next === false" color="primary"
                        (click)="nextClickDistrict()">
                        <mat-icon style="color: black;">arrow_forward</mat-icon>
                    </button>
                </div>
            </div> -->
        </div>
    </div>

    <div *ngIf="isCity" style="margin-left:15px;margin-top:2%">
        <form [formGroup]="cityform">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field style="width:200px">
                        <mat-label>State</mat-label>
                        <input class="toolbar-search"  matInput type="text"   maxlength="15"  formControlName="name" autocomplete="off">
                        <mat-placeholder>Search State</mat-placeholder>
                    </mat-form-field>
                    <mat-form-field style="width:200px;margin-left:25px;" >
                        <mat-label>State Code</mat-label>
                        <input class="toolbar-search"  matInput type="text"     formControlName="stcode" autocomplete="off">
                        <mat-placeholder>Search State Code</mat-placeholder>
                    </mat-form-field>
                    <button class="btn btn-outline-primary" type="submit" (click)="getCityList(1)" style="border-radius:40px;margin-left: 15px;"
                        color="primary">Search</button>
                     <button class="btn btn-outline-primary" (click)="resetcity()" style="border-radius:40px;margin-left: 15px;">Reset</button>
                </div>
            </div>
                  
                
            </form>
        <div class="table-bordered" style="margin-top: 2%;width: 70%;">
            <table class="table">
                <thead class="table_header">
                    <tr>
                        <th>Expand</th>
                        <th>S.No</th>
                        <!-- <th>Name</th>
                        <th>Code</th> -->
                        <th>State Name</th>
                        <th>State Code</th>
                        <!-- <th *ngIf="ismakerCheckerButton">Action</th> -->

                    </tr>
                </thead>
                <tbody *ngFor="let st of stateList; index as i" style="padding-left: 84px;margin-top: -5%;">
                    <tr >
                        <td style="text-align: center;"><button mat-icon-button (click)="getcitydata(st)" color="primary" class="btn btn-danger" style="border-radius: 40px;"><mat-icon *ngIf="st.con==false">expand_more</mat-icon><mat-icon *ngIf="st.con==true">expand_less</mat-icon></button></td>
                        <td  style="text-align: right;" scope="row">{{(currentpage - 1)*pagesize +i+1}}</td>
                        <td>{{ st.name}}</td>
                        <td>{{st.code}}</td>
                        <!-- <td *ngIf="ismakerCheckerButton">
                            <button mat-icon-button matTooltip=" Edit" class="iconbutton" (click)="cityEdit(city)"
                                color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                            <mat-icon style="color: gray;" (click)="deleteCity(city)">delete</mat-icon>
                        </td> -->
                    </tr>
                    <tr *ngIf="stateList.length==0">
                        <td colspan="3">No Records Found...</td>
                    </tr>
                    <tr *ngIf="st.con">
                        <td colspan="6" >
                            <div>
                                <table class="table table-bordered">
                                    <thead class="table_header">
                                        <tr>
                                            <th>Expand</th>
                                            <th>District Name</th>
                                            <th>District Code</th>
                                        </tr>
                                    </thead>
                                    <ng-container *ngFor="let dta of citysummarydata;let i=index">
                                        <tbody >
                                            
                                                <tr >
                                                    <!-- <td><button mat-icon-button color="primary" (click)="getdistrictcitydata(dta)" class="btn btn-info" style="border-radius: 40px;"><mat-icon *ngIf="dta.con==false">expand_more</mat-icon><mat-icon *ngIf="dta.con==true">expand_less</mat-icon></button></td> -->
                                                    <td style="text-align:center"><button mat-icon-button (click)="getdistrictcitydata(dta)" color="primary" class="btn btn-info" style="border-radius: 40px;"><mat-icon *ngIf="dta.con==false">expand_more</mat-icon><mat-icon *ngIf="dta.con==true">expand_less</mat-icon></button></td>
                                                    <td>{{dta.name}}</td>
                                                    <td>{{dta.code}}</td>
                                                </tr>
                                                <tr *ngIf="citysummarydata.length==0">
                                                    <td colspan="3">No Records Found</td>
                                                </tr>
                                        
                                                
                                        </tbody>
                                        <tr *ngIf="citysummarydata.length==i+1" style="text-align:right">
                                            <td colspan="3">
                                                <button [disabled]="!has_pre" mat-icon-button (click)="has_predisrict()"><mat-icon>arrow_back</mat-icon></button>{{dispage}}
                                                <button [disabled]="!has_next" mat-icon-button (click)="has_nextdistrict()"><mat-icon>arrow_forward</mat-icon></button>
                                            </td>
                                        </tr>
                                        
                                            <tr *ngIf="dta.con">
                                                <td colspan="3">
                                                    <table class="table table-bordered">
                                                        <thead class="table_header">
                                                            <tr>
                                                                <th>City Name</th>
                                                                <th>Pincode</th>
                                                                <th>District Name</th>
                                                                <th>State Name</th>
                                                            </tr>
                                                        </thead>
                                                        <ng-container *ngFor="let d of districtsummaryData;let j=index">
                                                            <tr >
                                                                <!-- <td>{{d.name?d.name:''}}</td> 
                                                                <td>{{d['pincode']?d['pincode'].no:''}}</td>
                                                                <td>{{d['district']?d['district'].name:''}}</td>
                                                                <td>{{d['state']?d['state'].name:''}}</td> -->
                                                                <td>{{d.name}}</td>
                                                                <td style="text-align:right">{{d.no}}</td>
                                                                <td>{{d.district}}</td>
                                                                <td>{{d.statename}}</td>
                                                            </tr>
                                                            <tr *ngIf="districtsummaryData.length==0">
                                                                <td colspan="4">No Records Found</td>
                                                            </tr>
                                                            <tr *ngIf="districtsummaryData.length==j+1" style="text-align: right;">
                                                                <td colspan="4">
                                                                    <button [disabled]="!has_prese" mat-icon-button (click)="has_citypre()"><mat-icon>arrow_back</mat-icon></button>{{citypage}}
                                                                    <button [disabled]="!has_nexts" mat-icon-button (click)="has_citynext()"><mat-icon>arrow_forward</mat-icon></button>
                                                                </td>
                                                            </tr>
                                                    </ng-container>
                                                    </table>
                                                </td>
                                            </tr>
                                        
                                    </ng-container>
                                </table>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <!-- <tr>
                    <td colspan="6" class="collapse-row">
                    <div [attr.id]="'collapse-' + i" class="container collapse out">
                    <table class="table table scrolltable table-bordered" style="width: 101%; margin-top: 20px;">
                    <thead class="table_header" fixed-header>
                    <th>Expand</th>
                    <th>Disrict Name</th>
                    <th>District Code</th>
                    </thead>
                    <tr *ngFor="let d od city.city.data;let i=index">
                    <td><button type="button" mat-icon-button data-toggle="collapse" [attr.data-target]="'#collapses-' + i" [attr.aria-expanded]="false" [attr.aria-controls] = "'collapse-' + i"><mat-icon>expand_less</mat-icon></button></td>

                    <td scope="row">{{ i+1 }}</td>
                    <td>{{d.name}}</td>
                    <td>{{d.code}}</td>
                    </tr>
                    <tr>
                    <td colspan="3" class="collapse-row">
                    <div class="container collapse out" [attr.id]="'collapses-'+i">
                    <thead class="table_header" fixed-header>
                    <th>City Name</th>
                    <th>Pincode</th>
                    <th>District Name</th>
                    <th>State Name</th>
                    </thead>
                    <tr *ngFor="let dear of city.city.data[0].name">
                    <td>{{dear.name}}</td>
                    <td>{{dear.code}}</td>
                    <td>{{dear.district_name}}</td>
                    <td>{{dear.state}}</td>
                    </tr>
                    </div>
                    </td>
                    </tr>

                    </table>
                    </div>
                    </td>
                    </tr> -->
            </table>
            <div class="col-sm-12" style="font-size: small; text-align:right">
                <button mat-icon-button [disabled]="shas_previous === false" color="primary"
                    (click)="previousClickState()">
                    <mat-icon style="color: black;">arrow_back</mat-icon>
                </button>
                {{currentpage}}
                <button mat-icon-button [disabled]="shas_next === false" color="primary" (click)="nextClickState()">
                    <mat-icon style="color: black;">arrow_forward</mat-icon>
                </button>                    
            </div>
        
            <!-- <div class="row">
                <div class="col-sm-12" style="font-size: small;text-align: right;">
                    <button mat-icon-button [disabled]="chas_previous === false" color="primary"
                        (click)="previousClickCity()">
                        <mat-icon style="color: black;">arrow_back</mat-icon>
                    </button>
                    {{currentpage}}
                    <button mat-icon-button [disabled]="chas_next === false" color="primary" (click)="nextClickCity()">
                        <mat-icon style="color: black;">arrow_forward</mat-icon>
                    </button>
                </div>
            </div> -->
        </div>
    </div>

    <div *ngIf="isPinCode" style="margin-left:15px;margin-top:2%">
          <form [formGroup]="pinform" (ngSubmit)="getPincodeList(1)">
        <div class="row"> 
            <div class="col-md-12">
                <mat-form-field style="width: 200px;" >
                    <input class="toolbar-search"  matInput type="text"   maxlength="6"  formControlName="no" autocomplete="off">
                    <mat-placeholder>Pincode</mat-placeholder>
                </mat-form-field>
             <!-- </div>
             <div class="col-md-1"> -->
                <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px;"
                    color="primary">Search</button>
            <!-- </div>           
            <div class="col-md-1"> -->
                <button class="btn btn-outline-primary" (click)="resetpin()" style="border-radius:40px;margin-left: 15px;"
                    color="primary">Reset</button>
            </div>
        </div>
            
        </form>
        <div class="table-responsive" style="margin-top: 2%;width: 70%;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>City Name</th>
                        <th>District Name</th>
                        <th>No</th>
                        <th *ngIf="ismakerCheckerButton">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let pincode of pincodeList; index as i">
                        <td style="text-align:right" scope="row">{{ i+1 }}</td>
                        <td>{{ pincode?.city?.name}}</td>
                        <td>{{ pincode?.district?.name}}</td>
                        <td style="text-align:right">{{ pincode.no}}</td>
                        <td *ngIf="ismakerCheckerButton">
                            <button mat-icon-button matTooltip=" Edit" class="iconbutton" (click)="pincodeEdit(pincode)"
                                color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                            <mat-icon style="color: gray;" (click)="deletePincode(pincode)">delete</mat-icon>
                        </td>
                    </tr>
                    <tr *ngIf="pincodeList?.length==0; else paginationpin" class="NodataAlign" style="text-align:center"><td colspan="5">No Records Found...</td></tr>
    
                    <ng-template #paginationpin>
                        <tr>
                            <td colspan="5">
                                <div style="text-align:right">
                                    <button mat-icon-button [disabled]="phas_previous === false" color="primary"(click)="previousClickPincode()">
                                       <mat-icon>arrow_back</mat-icon>
                                    </button>
                                              {{currentpage}}
                                    <button mat-icon-button [disabled]="phas_next === false" color="primary" (click)="nextClickPincode()">
                                        <mat-icon>arrow_forward</mat-icon>
                                    </button>
                                </div>

                            </td>
                        </tr>
                    </ng-template>    
                </tbody>
            </table>
        </div>
    </div>





    <!-- ///////////////////////////////////////////////////////////////////////cc bs ccbs html part -->

    <div *ngIf="isBS" style="margin-left: 15px;margin-top: 2%;">
        <form [formGroup]="BSSearchForm" (ngSubmit)="getbs(1)">
            <div class="row">
                <div class="col-md-12">
                <!-- <div class="col-md-3"> -->
                    <mat-form-field  style="width: 200px;">
                        <input class="toolbar-search" type="text" matInput maxlength="3" autocomplete="off" formControlName="no">
                        <mat-placeholder>BS No</mat-placeholder>
                    </mat-form-field>
                <!-- </div>
                <div class="col-md-3"> -->
                    <mat-form-field style="width: 200px;margin-left:25px">
                        <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="name">
                        <mat-placeholder>BS Name</mat-placeholder>
                    </mat-form-field>
                <!-- </div>
                <div class="col-md-3"> -->
                    <!-- <mat-form-field style="width:200px;margin-left:25px">
                        <mat-label>Active/Inactive</mat-label>
                        <mat-select formControlName="activeinactive">
                                <mat-option value="ACTIVE">ACTIVE</mat-option>
                                <mat-option value="INACTIVE">INACTIVE</mat-option>
                             </mat-select>
                    </mat-form-field> -->

                    <mat-form-field style="width:200px;margin-left:25px">
                        <mat-label>Active/Inactive</mat-label>
                        <mat-select formControlName="activeinactive">
                            <mat-option *ngFor="let item of BSActiveInactive" [value]="item.value">
                              {{ item.display }}
                            </mat-option>
                          </mat-select>
                          
                      </mat-form-field>
                      
                <!-- </div>
                <div class="col-md-1"> -->
                    <!-- <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px;"
                    color="primary"><i class="fa fa-search" aria-hidden="true"></i></button>             -->
                    <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px"
                    color="primary">Search</button>   
                <!-- </div>
                <div class="col-md-1">      -->
                    <button class="btn btn-outline-primary" (click)="resetBS()" 
                    style="border-radius:40px;margin-left: 15px" color="primary">Reset</button>
                    <button  mat-raised-button type="button" class="btn btn-primary" (click)="bsdetails_download()" 
                    style="border-radius: 40px;height: 40px;margin-left:15px"> Download
                    <mat-icon *ngIf="first"><mat-spinner color="accent" diameter="20"></mat-spinner></mat-icon>
                    <mat-icon *ngIf="!first" inline=true style="color:black">download</mat-icon>
                    </button>   

                </div>
                   
                    
                   
                
                
                    
               
            
            </div>
        </form>  
        <div class="table-responsive" style="margin-top: 2%;width: 90%; overflow-x: hidden;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Code</th>
                        <th>Name</th>
                        <th>BS No</th>
                        <th>Action</th>
                        <!-- <th>Edit</th> -->
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let bs of businesssegmentList; index as i">
                        <td style="text-align: right;" scope="row">{{(presentpagebs-1)*pageSize +i+1}}</td>
                        <td  style="text-align: right;">{{ bs.code}}</td>
                        <td>{{ bs.name}}</td>
                        <td style="text-align: right;">{{ bs.no }}</td>
                        <td style="text-align:center" class="cursor">
                            <div *ngIf="bs.status === 1 ; else lock">
                                <mat-icon (click)="forInactivebs(bs)" title="Click to Inactive" disabled style="color: green;"
                                    aria-label="inactive">wb_sunny</mat-icon> 
                            </div>
                            <ng-template #lock>
                                <mat-icon (click)="foractivebs(bs)" title="Click to Active" disabled style="color:black;"
                                    aria-label="inactive">wb_sunny</mat-icon> 
                            </ng-template>
                        </td>
                        <!-- <td>
                            <div *ngIf="bs.status === 0 ; else enableedit">
                                <button mat-icon-button matTooltip=" Edit" class="iconbutton" color="primary" disabled
                                    title="Disabled in Inactive State">
                                    <mat-icon>edit</mat-icon>
                                </button>
                            </div>
                            <ng-template #enableedit>
                                <span class="material-icons" type="button" (click)="editbs(bs)" style="color: gray;"
                                    data-toggle="modal" data-target="#myModal">edit</span>
                                <div class="modal fade" id="myModal" role="dialog">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header" style="background:#DDEFDD;">
                                                <h2 class="modal-title">Business Segment Edit</h2>
                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            </div>
                                            <div class="modal-body">
                                                <form [formGroup]="editbss">
                                                    <table>
                                                        <div>
                                                            <tr>
                                                                <td>
                                                                    <mat-form-field
                                                                        style="width: 175px; margin-left: 50px;">
                                                                        <mat-label>BS Code</mat-label>
                                                                        <input matInput placeholder="BS Code"
                                                                            (keypress)="omit_special_char($event)"
                                                                            autocomplete="off" formControlName="code"
                                                                            required readonly>
                                                                    </mat-form-field>
                                                                </td>
                                                                <td>
                                                                    <mat-form-field
                                                                        style="width: 175px; margin-left: 50px;">
                                                                        <mat-label>BS Name</mat-label>
                                                                        <input matInput placeholder="BS Name"
                                                                            (keypress)="omit_special_char($event)"
                                                                            autocomplete="off" formControlName="name"
                                                                            required>
                                                                    </mat-form-field>
                                                                </td>
                                                                <td>
                                                                    <mat-form-field
                                                                        style="width: 175px; margin-left: 50px;">
                                                                        <mat-label>BS No</mat-label>
                                                                        <input matInput placeholder="BS No"
                                                                            type="number"
                                                                            autocomplete="off" formControlName="no"
                                                                            required>
                                                                    </mat-form-field>
                                                                </td>
    
                                                            </tr>
                                                        </div>
                                                    </table>
                                                    <div class="modal-footer">
                                                        <button type="submit" data-dismiss="modal"
                                                            style="border-radius: 40px;margin-left: 10px;"
                                                            class="btn btn-outline-success" [disabled]="editbss.invalid"
                                                            (click)="editbssForm()">Submit</button>
                                                        <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                        </td> -->
    
                    </tr>
                    <tr *ngIf="businesssegmentList?.length==0; else paginationbs" class="NodataAlign" style="text-align:center"><td colspan="5">No Records Found...</td></tr>
    
                    <ng-template #paginationbs>
                        <tr>
                            <td colspan="5">
                                <div style="text-align:right">
                                    <button mat-icon-button [disabled]="has_previousbs === false" color="primary"(click)="previousClickbs()">
                                       <mat-icon>arrow_back</mat-icon>
                                    </button>
                                              {{presentpagebs}}
                                    <button mat-icon-button [disabled]="has_nextbs === false" color="primary" (click)="nextClickbs()">
                                        <mat-icon>arrow_forward</mat-icon>
                                    </button>
                                </div>

                            </td>
                        </tr>
                    </ng-template>
                </tbody>
            </table>
            
        </div>
    </div>
    
    <!-- ///////////////////////////////////////CC -->
    
    <div *ngIf="isCC" style="margin-left:15px;margin-top: 2%;">
        <form [formGroup]="CCSearchForm" (ngSubmit)="getcc(1)">
            <div class="row">
                <div class="col-md-12">
    
                    <mat-form-field style="width:200px">
                        <input class="toolbar-search" type="text" matInput autocomplete="off" maxlength="3" formControlName="no">
                        <mat-placeholder>CC No</mat-placeholder>
                    </mat-form-field>
                    <mat-form-field class="example-full-width" style="margin-left: 25px;">
                        <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="name">
                        <mat-placeholder>CC Name</mat-placeholder>
                    </mat-form-field>
                    
                        <mat-form-field style="width:200px;margin-left: 25px;">
                            <mat-label>Active/Inactive</mat-label>
                            <mat-select formControlName="activeinactive">
                                <mat-option *ngFor="let item of CCActiveInactive" [value]="item.value">
                                    {{ item.display }}
                                  </mat-option>
                             </mat-select>
                        </mat-form-field>
                        <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px"
                        color="primary">Search</button>
                        <button class="btn btn-outline-primary" (click)="resetCC()" type="submit"
                        style="border-radius:40px;margin-left: 15px" color="primary">Reset</button>    
                        <button  mat-raised-button type="button" class="btn btn-primary" (click)="ccdetails_download()" 
                        style="border-radius: 40px;height: 40px;margin-left:15px"> Download
                        <mat-icon *ngIf="first"><mat-spinner color="accent" diameter="20"></mat-spinner></mat-icon>
                        <mat-icon *ngIf="!first" inline=true style="color:black">download</mat-icon>
                        </button>   
     
                
                    
                </div>
            </div>
        </form>
 
        <div class="table-responsive" style="margin-top: 2%;width: 90%; overflow-x: hidden;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Code</th>
                        <th>Name</th>
                        <th>CC No</th>
                        <th>Action</th>
                        <!-- <th>Edit</th> -->
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let cc of costcenterList; index as i">
                        <td style="text-align: right;">{{(presentpagecc-1)*pageSize +i+1}}</td>
                        <td style="text-align: right;">{{ cc.code}}</td>
                        <td>{{ cc.name}}</td>
                        <td style="text-align: right;">{{ cc.no }}</td>
                        <td style="text-align:center" class="cursor">
                            <div *ngIf="cc.status === 1 ; else cclock">
                                <mat-icon (click)="forInactivecc(cc)" title="Click to Inactive" style="color: green;">wb_sunny</mat-icon> 
                            </div>
                            <ng-template #cclock>
                                <mat-icon (click)="foractivecc(cc)" title="Click to Active" disabled style="color:black">wb_sunny
                                </mat-icon> 
                            </ng-template>
                        </td>
                        <!-- <td><mat-icon (click)="editcostcenter(cc.id)" title="Click to Edit" style="color: green;">edit</mat-icon></td> -->

                    </tr>
                    <tr *ngIf="costcenterList?.length==0; else paginationcc" style="text-align: center;" class="NodataAlign"><td colspan="6">No Records Found...</td></tr>
                    <ng-template #paginationcc>
                        <tr>
                            <td colspan="6">
                                <div style="text-align: right;">
                                    <button mat-icon-button [disabled]="has_previouscc === false" color="primary" (click)="previousClickcc()">
                                        <mat-icon>arrow_back</mat-icon>
                                    </button>
                                         {{presentpagecc}}
                                    <button mat-icon-button [disabled]="has_nextcc === false" color="primary" (click)="nextClickcc()">
                                        <mat-icon>arrow_forward</mat-icon>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </ng-template>

    
                </tbody>
            </table>
           
        </div>
    </div>
    <!-- //////////////////////////////////////////CCBS -->
    
    
    <div *ngIf="isCCBS" style="margin-left: 15px;margin-top:2%">
        <form [formGroup]="CCBSSearchForm" (ngSubmit)="getccbs(1)">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field style="width: 200px;">
                        <mat-label> Select BS Name</mat-label>
                        <input #bsInput placeholder="Select BS" matInput formControlName="businesssegment_id"
                            [matAutocomplete]="bs">
                        <mat-autocomplete #bs="matAutocomplete" [displayWith]="displayFnbs"
                            (opened)="autocompletebsScroll()">
                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                            <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let bs of bsList" [value]="bs">{{bs.name}}
                                </mat-option>
                            </ng-container>
                        </mat-autocomplete>
                    </mat-form-field>
                    <mat-form-field style="width: 200px;margin-left: 25px;">
                        <mat-label>Select CC Name</mat-label>
                        <input #ccInput placeholder="Select CC" matInput formControlName="costcentre_id"
                            [matAutocomplete]="cc">
                        <mat-autocomplete #cc="matAutocomplete" [displayWith]="displayFncc"
                            (opened)="autocompleteccScroll()">
                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                            <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let cc of ccList" [value]="cc">{{cc.name}}
                                </mat-option>
                            </ng-container>
                        </mat-autocomplete>
                    </mat-form-field>
                    <mat-form-field style="width: 200px;margin-left: 25px;">
                        <mat-label>CCBS Name</mat-label>
                        <input matInput placeholder="Name" formControlName="name" autocomplete="off">
                    </mat-form-field>
                    <mat-form-field style="width: 200px;margin-left: 25px;">
                        <mat-label>CCBS No</mat-label>
                        <input matInput placeholder="No" formControlName="no" autocomplete="off">
                    </mat-form-field>
                    <!-- <mat-form-field style="margin-left: 50px;">
                        <mat-label>Active/Inactive</mat-label>
                        <mat-select formControlName="activeinactive">
                            <mat-option *ngFor="let n of ActiveInactive" [value]="n.value" style="margin-left: 10px;">
                                <div *ngIf="n.display === 'Active' " (click)="ccbsactivelist(1,10)">Active </div>
                                <div *ngIf="n.display === 'Inactive' " (click)="ccbsInactivelist(1,10)">InActive </div>
                                <div *ngIf="n.display === 'All' " (click)="resetCCBS()">All </div>
                            </mat-option>
                        </mat-select>
                    </mat-form-field> -->
                    <!-- <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px;"
                        color="primary"><i class="fa fa-search" aria-hidden="true"></i></button> -->
                        <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px"
                        color="primary">Search</button>    
                    
                    <button class="btn btn-outline-primary" (click)="resetCCBS()" type="submit"
                        style="border-radius:40px;margin-left: 15px;" color="primary">Reset</button>
                        <button  mat-raised-button type="button" class="btn btn-primary" (click)="ccbsdetails_download()" 
                        style="border-radius: 40px;height: 40px;margin-left:15px"> Download
                        <mat-icon *ngIf="first"><mat-spinner color="accent" diameter="20"></mat-spinner></mat-icon>
                        <mat-icon *ngIf="!first" inline=true style="color:black">download</mat-icon>
                        </button>  
                </div>
            </div>            
        </form>
                
    
                  

        <div class="table-responsive" style="margin-top: 2%;width: 90%; overflow-x: hidden;">
    
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>CCBS Code</th>
                        <th>CCBS Name</th>
                        <th>CCBS No</th>
                        <th>Gl No</th>
                        <th>Business Segment</th>
                        <th>Cost Centre</th>
                        <!-- <th>Action</th> -->
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let ccbs of ccbsList; index as i">
                        <td style="text-align: right;">{{(presentpageccbs -1)*pageSize +i+1}}</td>
                        <td style="text-align: right;">{{ ccbs.code }}</td>
                        <td>{{ ccbs.name }}</td>
                        <td style="text-align: right;">{{ ccbs.no }}</td>
                        <td style="text-align: right;">{{ ccbs.glno }}</td>
                        <td>{{ ccbs.businesssegment_id.name}}</td>
                        <td>{{ ccbs.costcentre_id.name}}</td>
                        <!-- <td><mat-icon (click)="editccbs(ccbs.id)" title="Click to Edit" style="color: green;">edit</mat-icon></td> -->
                    </tr>
                    <tr *ngIf="ccbsList?.length==0;else paginationccbs" class="NodataAlign" style="text-align:center"><td colspan="8">No Records Found...</td></tr>
                    <ng-template #paginationccbs>
                        <tr>
                            <td colspan="8">
                                <div style="text-align: right;">
                                    <button mat-icon-button [disabled]="has_previousccbs === false" color="primary" (click)="previousClickccbs()">
                                          <mat-icon>arrow_back </mat-icon>
                                    </button>
                                         {{presentpageccbs}}
                                     <button mat-icon-button [disabled]="has_nextccbs === false" color="primary" (click)="nextClickccbs()">
                                           <mat-icon>arrow_forward</mat-icon>
                                     </button>
                                </div>

                            </td>
                        </tr>
                    </ng-template>
    
                </tbody>
            </table>
            
        </div>
    
    </div>

    <div *ngIf="isDesignation" style="margin-left: 15px;margin-top: 2%;">
        <form [formGroup]="designationform">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field style="width: 200px;">
                        <mat-label>Designation Name</mat-label>
                        <input type="text" matInput formControlName="name">
                    </mat-form-field>
                <!-- </div>
                <div class="col-md-3"> -->
                    <mat-form-field style="width: 200px;margin-left: 25px;">
                        <mat-label>Designation Code</mat-label>
                        <input type="text" matInput formControlName="desgcode">
                    </mat-form-field>
                <!-- </div>
                <div class="col-md-3"> -->
                    <mat-form-field style="width:200px;margin-left:25px">
                        <mat-label>Active/Inactive</mat-label>
                        <mat-select formControlName="activeinactive">
                            <mat-option value="ACTIVE">ACTIVE</mat-option>
                            <mat-option value="INACTIVE">INACTIVE</mat-option>
                         </mat-select>
                    </mat-form-field>
                <!-- </div>
                <div class="col-md-1"> -->
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left:15px;" (click)="getdesignationsummary(1)">Search</button>
               <!-- </div>
               <div class="col-md-1"> -->
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left:15px;" (click)="resetdesg()">Reset</button>
                </div>
            </div>
        </form>
        <br>
        <div class="table-responsive" style="width: 90%;margin-top:2%">
          <table class="table table-bordered" >
            <thead class="table_header">
                <tr>
                    <th>S.No</th>
                    <th>Designation Code</th>
                    <th>Designation Name</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let d of designationList;let i=index">
                    <td style="text-align:right">{{(has_designationpage - 1)*pagesize +i+1}}</td>
                    <td>{{d.code}}</td>
                    <td>{{d.name}}</td>
                    <td><button type="button" style="border:none;background:none" matTooltip="Edit" (click)="designationedit(d)"><mat-icon>edit</mat-icon></button>
                        <button mat-icon-button type="button" (click)="desgactiveinactive(d)"
                        [ngClass]="d.status?'active':'inactive'"
                        [matTooltip]="d.status? 'click to inactive':'click to active' ">
                        <mat-icon>wb_sunny</mat-icon></button></td>
                </tr>
                <tr *ngIf="designationList?.length==0;else pagepndesg" style="text-align: center;" class="NodataAlign"><td colspan="4">No Records Found...</td></tr>
                <ng-template #pagepndesg>
                    <tr>
                        <td colspan="4">
                            <div style="text-align:right;">
                                <button mat-icon-button [disabled]="has_designationprevious === false" color="primary" (click)="has_designationclickprevoius()">
                                       <mat-icon>arrow_back</mat-icon>
                                </button>
                                         {{has_designationpage}}
                                <button mat-icon-button [disabled]="has_designationnext === false" color="primary" (click)="has_designationclicknext()">
                                        <mat-icon>arrow_forward</mat-icon>
                                </button>
                            
                            </div>

                        </td>
                    </tr>
                </ng-template>
            </tbody>
                
        </table>
        
        </div> 
        <!-- <div style="font-size: small;text-align:right; margin-bottom:100px;">
            <button mat-icon-button [disabled]="has_designationprevious === false" color="primary"
                (click)="has_designationclickprevoius()">
                <mat-icon>arrow_back
                </mat-icon>
            </button>
            {{has_designationpage}}
            <button mat-icon-button [disabled]="has_designationnext === false" color="primary" (click)="has_designationclicknext()">
                <mat-icon>arrow_forward
                </mat-icon>
            </button>
        </div> -->
    </div>
    <div *ngIf="isPMD" style="margin-left: 15px;margin-top: 2%;">
        <nav>
            <div class="nav nav-tabs">
                <a class="nav-item nav-link active" data-toggle="tab" role="tab" (click)="pmdscreen()">PMD BRANCH</a>
                <a class="nav-item nav-link " data-toggle="tab" role="tab" (click)="pmdlocscreen()">PMD LOCATION</a>
            </div>
        </nav>

        <div *ngIf="pmdbranch">
            <form [formGroup]="PMDSearchForm">
                <div class="row">
                    <div class="col-md-12">
            
                            <mat-form-field style="width: 200px;">
                                <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="branch_name">
                                <mat-placeholder>Branch Name</mat-placeholder>
                            </mat-form-field>
                            <mat-form-field  style="width: 200px; margin-left: 25px;">
                                <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="branch_code">
                                <mat-placeholder>Branch Code</mat-placeholder>
                            </mat-form-field>
                            <!-- <mat-form-field class="example-full-width" style="margin-left: 50px;">
                                <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="location">
                                <mat-placeholder>Location</mat-placeholder>
                            </mat-form-field> -->
                                <mat-form-field style="width: 200px;margin-left: 25px;">
                                    <mat-label>Active/Inactive</mat-label>
                                    <mat-select formControlName="activeinactive">
                                        <mat-option value="ACTIVE">ACTIVE</mat-option>
                                        <mat-option value="INACTIVE">INACTIVE</mat-option>
                                     </mat-select>
                                </mat-form-field>
                                <button class="btn btn-outline-primary" type="submit" (click)="getPMD(1)"  style="border-radius:40px;margin-left: 15px;"
                                color="primary">Search</button>
                                <button class="btn btn-outline-primary" (click)="resetPMD()" type="submit"
                                style="border-radius:40px;margin-left: 15px;" color="primary">Reset</button>
                                
                       
                    </div>
                </div>
            </form>
        
            <div class="table-responsive" style="margin-top: 2%;width: 90%; overflow-x: hidden;">
                <table class="table table-bordered">
                    <thead class="table_header">
                        <tr>
                            <th>S.No</th>
                            <th>Branch Name</th>
                            <th>Branch Code</th>
                            <!-- <th>Location</th> -->
                            <th>GST NO</th>
                            <th>Is Active</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let pdm of PDMList; index as i">
                            <td style="text-align:right">{{(presentpagepmd-1)*pageSize +i+1}}</td>
                            <td>{{ pdm.branch_name}}</td>
                            <td>{{ pdm.branch_code}}</td>
                            <!-- <td>{{ pdm.location }}</td> -->
                            <td style="text-align:right">{{ pdm.gst_number }}</td>
                            <td>{{ pdm.status==1?"YES":"NO"}}</td>
                            <td>
                                <!-- <mat-icon (click)="edit(pdm)" title="Click to Edit" style="color: grey;">edit</mat-icon> -->
                                <button mat-icon-button type="button" (click)="getactiveinactivepmd(pdm)" [ngClass]="pdm.status==1?'active':'inactive'" [matTooltip]="pdm.status==1? 'click to inactive':'click to active' " >
                                    <mat-icon>wb_sunny</mat-icon>
                                </button>
                            </td> 
                        </tr>
                         <tr *ngIf="PDMList?.length==0; else paginationPDM" class="NodataAlign" style="text-align: center;"><td colspan="7">No Records Found...</td></tr>
                         <ng-template #paginationPDM>
                            <tr>
                                <td colspan="7">
                                    <div style="text-align: right;">
                                        <button mat-icon-button [disabled]="has_previouspmd === false" color="primary" (click)="previousClickPMD()">
                                             <mat-icon>arrow_back</mat-icon>
                                        </button>
                                                {{presentpagepmd}}
                                        <button mat-icon-button [disabled]="has_nextpmd === false" color="primary" (click)="nextClickPMD()">
                                             <mat-icon>arrow_forward</mat-icon>
                                        </button>
    
                                    </div>
    
                                </td>
                            </tr>
    
                         </ng-template>
    
                    </tbody>
                    
                </table>
    
            </div>
        </div>

        <div *ngIf="pmdloc">
            <div>
                <form [formGroup]="pmdlocationform">
                    <div class="row">
                        <div class="col-md-12">
                            <!-- <mat-form-field class="example-full-width">
                                <mat-label>Branch Name</mat-label>
                                <input class="toolbar-search" type="text" matInput autocomplete="off" matInput (click)="getbranch()" [matAutocomplete]="checkerbranch" #branchidInput formControlName="branch">
                                    <mat-placeholder>Branch</mat-placeholder>
                                    <mat-autocomplete #checkerbranch="matAutocomplete" [displayWith]="displaybranch" #branch (opened)="autocompleteScroll_branch()" >
                                        <mat-option *ngIf="isLoading">Loading..</mat-option>
                                        <ng-container>
                                            <mat-option *ngFor="let d of branchdata" [value]="d">{{d.name}}</mat-option>
                                        </ng-container>
                                    </mat-autocomplete>
                            </mat-form-field> -->
                            <mat-form-field style="width: 200px;">
                                <mat-label>Branch</mat-label>
                                <input class="toolbar-search" type="text" matInput autocomplete="off" (click)="getpmdbranch()" matInput [matAutocomplete]="pmdbran" #pmdbraninput formControlName="branch" style="width: 250px;">
                                <mat-placeholder>Branch</mat-placeholder>
                                <mat-autocomplete #pmdbran="matAutocomplete" [displayWith]="displaypmdbranch"  (opened)="autocompleteScroll_pmdbranch()">
                                    <mat-option *ngIf="isLoading">Loading..</mat-option>
                                    <ng-container>
                                        <mat-option *ngFor="let d of pmdbranchlist" [value]="d">{{d.branch_name}}</mat-option>
                                    </ng-container>
                                </mat-autocomplete>
                            </mat-form-field>
    
                            <mat-form-field  style="width: 200px;margin-left: 25px;">
                                <mat-label>Location</mat-label>
                                <input  type="text" matInput autocomplete="off" formControlName="location">
                            </mat-form-field>
                            <mat-form-field style="width: 200px;margin-left: 25px;">
                                <mat-label>Active/Inactive</mat-label>
                                <mat-select formControlName="activeinactive">
                                    <mat-option value="ACTIVE">ACTIVE</mat-option>
                                    <mat-option value="INACTIVE">INACTIVE</mat-option>
                                 </mat-select>
                            </mat-form-field>
                            <button class="btn btn-outline-primary" type="button" (click)="getPMDloc(1)"  style="border-radius:40px;margin-left: 15px;"
                                color="primary">Search</button>
                                <button class="btn btn-outline-primary" (click)="resetPMDloc()" type="submit"
                                style="border-radius:40px;margin-left: 15px;" color="primary">Reset</button>
                        </div>
                    </div>
                </form>
            </div>
            <div>
                <div class="table-responsive" style="margin-top: 2%;width: 90%; overflow-x: hidden;">
                    <table class="table table-bordered">
                        <thead class="table_header">
                            <tr>
                                <th>S.No</th>
                                <th>Branch Name</th>
                                <th>Branch Code</th>
                                <th>Location</th>
                                <th>GST NO</th>
                                <th>Category</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let pmdloc of pmdlocationlist; index as i">
                                <td style="text-align:right">{{(pmdloc_page-1)*pageSize +i+1}}</td>
                                <td>{{ pmdloc?.branch_id?.branch_name}}</td>
                                <td>{{ pmdloc?.branch_id?.branch_code}}</td>
                                <td>{{ pmdloc.location }}</td>
                                <td style="text-align:right">{{ pmdloc.gstno }}</td>
                                <td>{{pmdloc.category_code}}</td>
                                <td>
                                    <!-- <mat-icon (click)="edit_pmdloc(pmdloc)" title="Click to Edit" style="color: grey;">edit</mat-icon> -->
                                    <button mat-icon-button type="button" (click)="getactiveinactivepmdloc(pmdloc)" [ngClass]="pmdloc.status==1?'active':'inactive'" [matTooltip]="pmdloc.status==1? 'click to inactive':'click to active' " >
                                        <mat-icon>wb_sunny</mat-icon>
                                    </button>
                                </td> 
                            </tr>
                             <tr *ngIf="pmdlocationlist?.length==0; else paginationpmdloc" class="NodataAlign" style="text-align: center;"><td colspan="7">No Records Found...</td></tr>
                             <ng-template #paginationpmdloc>
                                <tr>
                                    <td colspan="10">
                                        <div style="text-align: right;">
                                            <button mat-icon-button [disabled]="pmdloc_prev === false" color="primary" (click)="pmdloc_previousclick()">
                                                 <mat-icon>arrow_back</mat-icon>
                                            </button>
                                                    {{pmdloc_page}}
                                            <button mat-icon-button [disabled]="pmdloc_next === false" color="primary" (click)="pmdloc_nextclick()">
                                                 <mat-icon>arrow_forward</mat-icon>
                                            </button>
        
                                        </div>
        
                                    </td>
                                </tr>
        
                             </ng-template>
        
                        </tbody>
                        
                    </table>
        
                </div>
    
            </div>
        </div>



       
    </div>

    <div *ngIf="isSector" style="margin-top: 2%;margin-left:15px;">
        <form [formGroup]="sectorForm">
            <div class="row">
                <div  class="col-md-12">
                    <mat-form-field style="width: 200px;">
                        <mat-label>Sector Name</mat-label>
                        <input type="text" matInput formControlName="name" required>
                    </mat-form-field>

                <!-- </div>
                <div  style="margin-left: 40px;"> -->
                    <mat-form-field style="margin-left: 25px;width: 200px;">
                        <mat-label>Active/Inactive</mat-label>
                        <mat-select formControlName="drop">
                           <mat-option value="ACTIVE">ACTIVE</mat-option>
                           <mat-option value="INACTIVE">INACTIVE</mat-option>
                           <mat-option value="ALL">ALL</mat-option>
                        </mat-select>
                    </mat-form-field>
                <!-- </div>
                <div class="col-md-3" style="margin-top:10px;"> -->
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left: 15px;" (click)="getsectorsummary(1)">Search</button>
                    <button type="button" class="btn btn-outline-primary" (click)="sectorreset()" style="border-radius:40px;margin-left:15px;">Reset</button>
                </div>
            </div>
        </form>
        <br>
        <div class="table-responsive" style="margin-top:2%;width:70%">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Sector Name</th>
                        <th>Sector Description</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let d of sectorlist;let i=index">
                        <td  style="text-align:right">{{(has_sectorpage-1)*pageSize +i+1}}</td>
                        <td>{{d.name}}</td>
                        <td>{{d.description}}</td>
                        <td><button type="button" style="border:none;background:none" matTooltip="Edit" (click)="sectoredit(d)"><mat-icon>edit</mat-icon></button>
                            <!-- <button type="button" style="border:none;background:none" (click)="sectoractiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button> -->
                            <button type="button" style="border:none;background:none" [ngClass]="d.status==1?'active':'inactive'" [matTooltip]="d.status==1?'click to inactive':'click to active'" (click)="sectoractiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button>
                        </td>
                    </tr>
                    <tr *ngIf="sectorlist.length==0;else pagepnsector" style="text-align: center;" class=" NodataAlign"><td colspan="4">No Records Found...</td></tr>
                    <ng-template #pagepnsector>
                        <tr>
                            <td colspan="4">
                                <div style="text-align: right;">
                                    <button mat-icon-button [disabled]="has_sectorprevious === false" color="primary"(click)="has_sectorclickprevoius()">
                                        <mat-icon>arrow_back</mat-icon>
                                     </button>
                                        {{has_sectorpage}}
                                    <button mat-icon-button [disabled]="has_sectornext === false" color="primary" (click)="has_sectorclicknext()">
                                        <mat-icon>arrow_forward</mat-icon>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                </tbody>
            </table>
        </div>
       
            
       
    </div>
    <div *ngIf="isExp" style="margin-top: 2%;margin-left: 15px;">
        <form [formGroup]="ExpForm">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field style="width: 200px;">
                        <mat-label>Expense Name</mat-label>
                        <input type="text" matInput formControlName="name" required>
                    </mat-form-field>
                        <mat-form-field style="margin-left: 25px;width: 200px;">
                            <mat-label>Active/Inactive</mat-label>
                            <mat-select formControlName="drop">
                               <mat-option *ngFor="let item of ExpActiveInactive" [value]="item.value">
                                {{ item.display }}
                              </mat-option>
                            </mat-select>
                        </mat-form-field>
                    <!-- </div>
                <div class="col-md-1"> -->
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left:15px;" (click)="getexpsummarysearch(1)">Search</button>
                <!-- </div>
                <div class="col-md-1">     -->
                    <button type="button" class="btn btn-outline-primary" (click)="expensereset()" style="border-radius:40px;margin-left:10px;">Reset</button>
                    <button  mat-raised-button type="button" class="btn btn-primary" (click)="apexpensedetails_download()" 
                    style="border-radius: 40px;height: 40px;margin-left:15px"> Download
                    <mat-icon *ngIf="first"><mat-spinner color="accent" diameter="20"></mat-spinner></mat-icon>
                    <mat-icon *ngIf="!first" inline=true style="color:black">download</mat-icon>
                    </button>   
                </div>
            </div>
        </form>
        <br>
        <div class="table-responsive" style="width:70%;margin-top: 2%;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Expense Name</th>
                        <th>Expense Description</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let d of explist;let i=index">
                        <td style="text-align:right">{{(has_exppage-1)*pageSize +i+1}}</td>
                        <td>{{d.name}}</td>
                        <td>{{d.description}}</td>
                        <td><button type="button" style="border:none;background:none" matTooltip="Edit" (click)="expenseedit(d)"><mat-icon>edit</mat-icon></button>
                            <!-- <button type="button" style="border:none;background:none" (click)="expactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button> -->
                            <button type="button" style="border:none;background:none" [ngClass]="d.status==1?'active':'inactive'" [matTooltip]="d.status==1?'click to inactive':'click to active'" (click)="expactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button>

                        </td>
                    </tr>
                    <tr *ngIf="explist?.length==0; else paginationexpence" class="NodataAlign" style="text-align: center;" class="NodataAlign"><td colspan="4">No Records Found...</td></tr>
                    <ng-template #paginationexpence>
                        <tr>
                              <td colspan="4">
                                <div style="text-align:right">
                                      <button mat-icon-button [disabled]="has_expprevious === false" color="primary"(click)="exp_previous()">
                                           <mat-icon>arrow_back</mat-icon>
                                      </button>
                                          {{has_exppage}}
                                      <button mat-icon-button [disabled]="has_expnext === false" color="primary" (click)="exp_next()">
                                               <mat-icon>arrow_forward</mat-icon>
                                   </button>
                                </div>
                              </td>  
                        </tr>
                     </ng-template> 
       
                    
                </tbody>
            </table>
            <!-- <div style="font-size: small;text-align:right; margin-bottom:100px;">
                <button mat-icon-button [disabled]="has_expprevious === false" color="primary"
                    (click)="exp_previous()">
                    <mat-icon>arrow_back
                    </mat-icon>
                </button>
                {{has_exppage}}
                <button mat-icon-button [disabled]="has_expnext === false" color="primary" (click)="exp_next()">
                    <mat-icon>arrow_forward
                    </mat-icon>
                </button>
            </div> -->
        </div>
    </div>


    <div *ngIf="isGL" style="margin-left: 50px;margin-top: 1%;">
        <h1>CBS GL Summary</h1>
        <hr>
        <div class="row">
            <div class="col-12 row">
    
                <form [formGroup]="GLSearchForm" (ngSubmit)="getGL(1)">
                    <mat-form-field class="example-full-width">
                        <input class="toolbar-search" type="text" matInput autocomplete="off" formControlName="gl_number">
                        <mat-placeholder>GL Number</mat-placeholder>
                    </mat-form-field>

                        <mat-form-field appearance="fill" style="margin-left:50px;">
                            <mat-label>Proofing Flag</mat-label>
                            <mat-select formControlName="status">
                              <mat-option *ngFor="let stat of status" [value]="stat.value" (click)="gledit(stat.value)">
                                {{stat.viewValue}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
        
                    <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px;">Search</button>
                    <button class="btn btn-outline-primary" (click)="resetgl()" type="submit" style="border-radius:40px;margin-left: 15px;">Reset</button>    
                </form>
               
            </div>
        </div>
    
        <div class="table-responsive" style="margin-top: 2%;width: 90%; overflow-x: hidden;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>GL Number</th>
                        <th>GL Desc</th>
                        <th>Sort Order</th>
                        <th>Sort Order Desc</th>
                        <th>Currency</th>
                        <th>SchSort Order</th>
                        <th>SchDesc Bank</th>
                        <th>GL Type</th>
                        <th>GL Active</th>
                        <th>Proofing Flag</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let gl of GLList; index as i">
                        <td style="text-align:right">{{(presentpagegl-1)*pageSize +i+1}}</td>
                        <td style="text-align:right">{{ gl.no}}</td>
                        <td>{{ gl.description}}</td>
                        <td style="text-align:right">{{ gl.sortorder }}</td>
                        <td>{{ gl.sortorderdesc }}</td>
                        <td>{{gl.currency}}</td>
                        <td style="text-align:right">{{gl.sch16_sortorder}}</td>
                        <td style="text-align:right">{{gl.sch16_desc_bank}}</td>
                        <td>{{gl.type}}</td>
                        <td>{{ gl.status==1?"Y":"N"}}</td>
                        <td class="cursor">
                            <div *ngIf="gl.status === 1 ; else gllock">
                                <mat-icon (click)="forInactivegl(gl)" title="Click to Inactive" style="color: green;">
                                    wb_sunny</mat-icon>
                            </div>
                            <ng-template #gllock>
                                <mat-icon (click)="foractivegl(gl)" title="Click to Active" disabled style="color:black;">wb_sunny
                                </mat-icon>
                            </ng-template>
                        </td>
                    </tr>
                    <tr *ngIf="GLList?.length==0; else paginationGL" class="NodataAlign" style="text-align: center;" class="NodataAlign"><td colspan="11">No Records Found...</td></tr>
                    <ng-template #paginationGL>
                       <tr>
                             <td colspan="11">
                               <div style="text-align:right">
                                     <button mat-icon-button [disabled]="has_previousgl === false" color="primary"(click)="previousClickGL()">
                                          <mat-icon>arrow_back</mat-icon>
                                     </button>
                                         {{presentpagegl}}
                                     <button mat-icon-button [disabled]="has_nextgl === false" color="primary" (click)="nextClickGL()">
                                              <mat-icon>arrow_forward</mat-icon>
                                  </button>
                               </div>
                             </td>  
                       </tr>
                    </ng-template> 
                    
                
    
                </tbody>
            </table>
           
        </div>
    </div>  
    <div *ngIf="isEntity" style="margin-left: 15px;margin-top: 2%;">
        <form [formGroup]="entityForm">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field style="width: 250px;">
                        <mat-label>Entity Name</mat-label>
                        <input type="text" matInput formControlName="name" required>
                    </mat-form-field>

                <!-- </div>
                <div class="col-md-3" style="margin-top:10px;"> -->
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left: 15px;" (click)="getentitysummarysearch(1)">search</button>
                </div>
            </div>
        </form>
        <br>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Entity Name</th>
                        <th>Entity Description</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let d of entitylist;let i=index">
                        <td>{{i+1}}</td>
                        <td>{{d.name}}</td>
                        <td>{{d.description}}</td>
                        <td><button type="button" style="border:none;background:none" matTooltip="Edit" (click)="sectoredit(d)"><mat-icon>edit</mat-icon></button>
                            <button type="button" style="border:none;background:none" (click)="Entityactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div style="font-size: small;text-align:right; margin-bottom:100px;">
            <button mat-icon-button [disabled]="has_entityprevious === false" color="primary"
                (click)="entity_previous()">
                <mat-icon>arrow_back
                </mat-icon>
            </button>
            {{has_entitypage}}
            <button mat-icon-button [disabled]="has_entitynext === false" color="primary" (click)="entity_next()">
                <mat-icon>arrow_forward
                </mat-icon>
            </button>
        </div>
    </div>
    <div *ngIf="isFin" style="margin-left: 50px;margin-top: 2%;">
        <form [formGroup]="finForm">
            <div class="row">
                <div class="col-md-3">
                    <mat-form-field style="width: 250px;">
                        <mat-label>Select The Fin Year</mat-label>
                        <input type="text" matInput formControlName="year" required>
                    </mat-form-field>

                </div>
                <div class="col-md-3">
                    <mat-form-field style="width: 250px;">
                        <mat-label>Select Month</mat-label>
                        <input type="text" matInput formControlName="month" required>
                    </mat-form-field>

                </div>
                <div class="col-md-3" style="margin-top:10px;">
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left: 15px;" (click)="getfinsummarysearch(1)">search</button>
                </div>
            </div>
        </form>
        <br>
        <div class="container">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Fin Year</th>
                        <th>Fin Month</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let d of Finlist;let i=index">
                        <td>{{i+1}}</td>
                        <td>{{d.name}}</td>
                        <td>{{d.description}}</td>
                        <td><button type="button" style="border:none;background:none" matTooltip="Edit" (click)="Finedit(d)"><mat-icon>edit</mat-icon></button>
                            <button type="button" style="border:none;background:none" (click)="Finactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div style="font-size: small;text-align:right; margin-bottom:100px;">
            <button mat-icon-button [disabled]="has_Finprevious === false" color="primary"
                (click)="fin_previous()">
                <mat-icon>arrow_back
                </mat-icon>
            </button>
            {{has_Finpage}}
            <button mat-icon-button [disabled]="has_Finnext === false" color="primary" (click)="fin_next()">
                <mat-icon>arrow_forward
                </mat-icon>
            </button>
        </div>
    </div>
    <div *ngIf="isFinQ" style="margin-left: 50px;margin-top: 2%;">
        <form [formGroup]="finquaterform">
            <div class="row">
                <div class="col-md-3">
                    <mat-form-field style="width: 250px;">
                        <mat-label>Financial Peroid</mat-label>
                        <input type="text" matInput formControlName="year" [matDatepicker]="picker" required>
                        <mat-datepicker-toggle [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>

                </div>
                <div class="col-md-3">
                    <mat-form-field style="width: 250px;">
                        <mat-label>Financial Month</mat-label>
                        <input type="text" matInput formControlName="month" [matDatepicker]="pickers" required>
                        <mat-datepicker-toggle [for]="pickers"></mat-datepicker-toggle>
                        <mat-datepicker #pickers></mat-datepicker>
                    </mat-form-field>

                </div>
                <div class="col-md-3" style="margin-top:10px;">
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left: 15px;" (click)="getfinquatersummarysearch(1)">search</button>
                </div>
            </div>
        </form>
        <br>
        <div class="container">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Fin Year</th>
                        <th>Fin Quater</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let d of Finlist;let i=index">
                        <td>{{i+1}}</td>
                        <td>{{d.name}}</td>
                        <td>{{d.description}}</td>
                        <td><button type="button" style="border:none;background:none" matTooltip="Edit" (click)="FinQuateredit(d)"><mat-icon>edit</mat-icon></button>
                            <button type="button" style="border:none;background:none" (click)="Finactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div style="font-size: small;text-align:right; margin-bottom:100px;">
            <button mat-icon-button [disabled]="has_FinQprevious === false" color="primary"
                (click)="finQ_previous()">
                <mat-icon>arrow_back
                </mat-icon>
            </button>
            {{has_FinQpage}}
            <button mat-icon-button [disabled]="has_FinQnext === false" color="primary" (click)="finQ_next()">
                <mat-icon>arrow_forward
                </mat-icon>
            </button>
        </div>
    </div>
    
    <div *ngIf="isBranchbank" style="margin-left: 15px;margin-top: 2%;">
        <form [formGroup]="branchbankForm">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field style="width: 250px;">
                        <mat-label>Employee</mat-label>
                        <input type="text" #empinput matInput formControlName="employee" maxlength="60"  [matAutocomplete]="emploeeauto" (click)="get_emp_dropdown('')">
                        <mat-autocomplete #emploeeauto="matAutocomplete" [displayWith]="employeeinterface" (opened)="autocompleteempScroll()">
                            <mat-option *ngIf="isLoading">Loading..</mat-option>
                            <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let d of emplist" [value]="d">{{d.full_name}}</mat-option>
                            </ng-container>
                        </mat-autocomplete>
                    </mat-form-field>

                    <mat-form-field style="width: 250px;margin-left:25px"> 
                        <mat-label>Branch Name</mat-label>
                        <input type="text" matInput formControlName="empbranch"  autocomplete="off" [matAutocomplete]="empnameinfo" #empnameInput (click)="branchdrop()">
                        <mat-autocomplete #empnameinfo="matAutocomplete" [displayWith]="getemployeeinterface" (opened)="autocompleteScrollempname()">
                            <mat-option *ngIf="isLoading">loading..</mat-option>
                            <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let d of empnamelist" [value]="d" >{{d.codename}}</mat-option>
                            </ng-container>
                        </mat-autocomplete>
                    </mat-form-field>

                    <mat-form-field style="width: 200px;margin-left:25px">
                        <mat-label class="search_text">Account Number</mat-label>
                        <input  matInput formControlName="accountno" [maxlength]="64" (keypress)="keypressd($event)">
                    </mat-form-field>     
 
                    <!-- <mat-form-field style="width: 200px;margin-left:25px">
                        <mat-label>Active/Inactive</mat-label>
                        <mat-select formControlName="activeinactive">
                            <mat-option value="ACTIVE">ACTIVE</mat-option>
                            <mat-option value="INACTIVE">INACTIVE</mat-option>
                         </mat-select>
                    </mat-form-field> -->
                    <mat-form-field style="width:200px;margin-left:25px">
                        <mat-label>Active/Inactive</mat-label>
                        <mat-select formControlName="activeinactive">
                            <mat-option *ngFor="let item of BBDActiveInactive" [value]="item.value">
                              {{ item.display }}
                            </mat-option>
                          </mat-select>
                          
                      </mat-form-field>
                
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left: 15px;" (click)="getBranchbanksummary(1)">search</button>
                    <button class="btn btn-outline-primary" (click)="resetbranchbank()" type="button"
                        style="border-radius:40px;margin-left: 15px;" color="primary">Reset</button>
                    <button  mat-raised-button type="button" class="btn btn-primary" (click)="bbdetails_download()" 
                            style="border-radius: 40px;height: 40px;margin-left:15px"> Download
                            <mat-icon *ngIf="first"><mat-spinner color="accent" diameter="20"></mat-spinner></mat-icon>
                            <mat-icon *ngIf="!first" inline=true style="color:black">download</mat-icon>
                    </button>        
                </div>
            </div>
        </form>
        <div class="table-responsive" style="margin-top: 2%;width: 95%;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Type</th>
                        <th>Employee</th>
                        <th>Branch</th>
                        <th>Paymode</th>
                        <th>Bank</th>
                        <th>Bank Branch</th>
                        <th>Benificiary Name</th>
                        <th>Account No</th>
                        <th>Action</th>
                        
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let br of BranchbankList; index as i">
                        <td>{{(presentpagebrbank-1)*pageSize +i+1}}</td>
                        <td>{{br.type.text}}</td>
                        <td>{{(br.type.text=='Employee')?br.employee.full_name:'-'}}</td>
                        <td>{{(br.type.text=='Branch')?br.employeebranch.codename:'-'}}</td>
                        <td>{{br.paymode.name}}</td>
                        <td>{{br.bank.name}}</td>
                        <td>{{br.bankbranch.name}}</td>
                        <td>{{br.accountholder}}</td>
                        <td>{{br.account_no}}</td>
                        <td style="width:150px;">
                            <button mat-icon-button matTooltip=" Edit" class="iconbutton"  
                                color="primary" (click)="BranchbankEdit(br,1)" >
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                            <button type="button" mat-icon-button [ngClass]="br.status==1?'active':'inactive'" 
                                (click)="bbdetailsactiveinactive(br)" [matTooltip]="br.status==1? 'Click to inactive':'Click to active' ">
                                <mat-icon>wb_sunny</mat-icon>
                            </button>

                            <!-- <button mat-icon-button matTooltip="view" class="iconbutton" (click)="BranchbankEdit(br,2)" color="primary">
                                <mat-icon >visibility</mat-icon></button>
                            <button mat-icon-button matTooltip="Delete" (click)="deletebranchbank(br.id)" class="iconbutton" ><mat-icon style="color: rgb(244, 91, 91);cursor: pointer;" >delete</mat-icon></button> -->
                        </td>
                    </tr>
    
                </tbody>
            </table>
            <div *ngIf="BranchbankList?.length==0; else paginationbranchbank" class="NodataAlign" style="text-align:center;">No Records Found...</div>
            <ng-template #paginationbranchbank>
                <div style="font-size: small;text-align:right; margin-bottom:100px;">
                    <button mat-icon-button [disabled]="has_previousbrbank === false" color="primary"
                        (click)="paginationbrbank(1)">
                        <mat-icon>arrow_back
                        </mat-icon>
                    </button>
                    {{presentpagebrbank}}
                    <button mat-icon-button [disabled]="has_nextbrbank === false" color="primary" (click)="paginationbrbank(2)">
                        <mat-icon>arrow_forward
                        </mat-icon>
                    </button>
                </div>
            </ng-template>

        </div>
    </div>
    <div *ngIf="isEmpbranch" style="margin-left: 25px;margin-top: 2%;">
        <form [formGroup]="empbranchform" autocomplete="off">
            <div class="row">
                <div class="col-md-12">
                        <!-- <mat-form-field style="margin-left:50px;">
                            <mat-label>Active/Inactive</mat-label>
                            <mat-select formControlName="drop">
                               <mat-option value="ACTIVE">ACTIVE</mat-option>
                               <mat-option value="INACTIVE">INACTIVE</mat-option>
                               <mat-option value="ALL">ALL</mat-option>
                            </mat-select>
                        </mat-form-field> -->

                        <mat-form-field style="width: 250px;"> 
                            <mat-label>Branch Name</mat-label>
                            <input type="text" matInput formControlName="empname"  autocomplete="off" [matAutocomplete]="empnameinfo" #empnameInput (click)="branchdrop()">
                            <mat-autocomplete #empnameinfo="matAutocomplete" [displayWith]="getemployeeinterface" (opened)="autocompleteScrollempname()">
                                <mat-option *ngIf="isLoading">loading..</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let d of empnamelist" [value]="d" >{{d.codename}}</mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                  
                
                    <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left: 15px;" (click)="getempbranchdatasearch()">Search</button>
                   
                    <button class="btn btn-outline-primary" (click)="empbranchreset()" style="border-radius:40px;margin-left: 15px;" color="primary">Reset </button>
                   
                        <!-- <button type="button" class="btn btn-outline-success" *ngIf="ismakerCheckerButton" (click)="addempbranchForm()"
                            style="border-radius: 40px;margin-left: 15px;cursor: pointer ;height: 40px;" color="primary">
                            {{makerNameBtn}} <span class="fa fa-plus"></span>                    
                            </button> -->
                   
                    <button *ngIf="isemployeedownloadbtn" mat-raised-button type="button" class="btn btn-primary" (click)="getempbranchdownload()"  style="border-radius: 40px;height: 40px;margin-left:15px">
                        Download
                            <mat-icon *ngIf="first"><mat-spinner color="accent" diameter="20">
                            </mat-spinner></mat-icon>
                            <mat-icon *ngIf="!first" inline=true style="color:black">download</mat-icon>
                        </button>
                </div>

            </div>


                   

               
               
        </form>
        <br>

            
        
            <table class="table table-bordered" style="width: 85%;">
                <thead>
                    <tr class="table_header">
                        <th>S No</th>
                        <th>Employee Branch</th>
                        <th style="width: 80px;">Control Office Branch</th>
                        <th>Branch Incharge</th>
                        <th>Contact No</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let d of empbranchData;index as i">
                        <td style="text-align:right">{{(empbranchpage - 1)*pageSize +i+1 }}</td>
                        <td>{{d.codename}}</td>
                        <td>{{d.control_office_branch}}</td>
                        <td>{{d.incharge}}</td>
                        <td style="text-align:right">{{d?.contact_id?.mobile}}</td>
                        <td>


                            <!-- <button type="button" mat-icon-button [ngClass]="d.status==1?'active':'inactive'" (click)="empbranchactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button>
                      <button type="button" mat-icon-button (click)="editmasterbranchdata(d,1)"><mat-icon>edit</mat-icon></button> -->
                      <!-- <button type="button" mat-icon-button [ngClass]="d.status==1?'active':'inactive'"
                       (click)="empbranchactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button> -->


                            <!-- <button type="button" mat-icon-button [ngClass]="d.status==1?'active':'inactive'" (click)="empbranchactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button>
                      <button type="button" mat-icon-button (click)="editempbranchdata(d)"><mat-icon>edit</mat-icon></button> -->

                            <button mat-icon-button matTooltip="Branch View" class="iconbutton" 
                            color="primary" (click)="viewmasterbranchdata(d,2)">
                            <mat-icon >visibility</mat-icon></button> 
                            <button mat-icon-button matTooltip="Employee List" class="iconbutton" 
                            color="primary" (click)="branch_emp_data(d)">
                            <mat-icon >supervisor_account</mat-icon>
                            </button>          
                            <!-- <button type="button" mat-icon-button (click)="editmasterbranchdata(d)"><mat-icon>edit</mat-icon></button> -->
                        </td>
                    </tr>
                    <tr *ngIf="empbranchData?.length==0; else paginationappempb" style="text-align: center;" class="NodataAlign" ><td colspan="5"> No Records Found...</td></tr>
                    <ng-template #paginationappempb>
                    <tr>
                        <td colspan="2">

                            <!-- <span (click)="totalcountempb()" style="color:purple;">Total Count:
                                 <b class="text-left"  style="color:black;" > {{empbranchData[0]?.count}}</b></span> -->

                            <div style="text-align: left;">
                                <span (click)="totalcountempb()" style="color:purple;">Total Count: <b class="text-left"  style="color:black;" > {{empbranchData[0]?.count}}</b></span>
                            </div>

                        </td>
                        <td colspan="4">
                            <div style="text-align:right">
                            <button mat-icon-button [disabled]="!empbranchprevious" color="primary"
                                (click)="empsbranchprevious()">
                                <mat-icon>arrow_back
                                </mat-icon>
                            </button>
                            {{empbranchpage}}
                            <button mat-icon-button [disabled]="!empbranchnext" color="primary" (click)="empsbranchnext()">
                                <mat-icon>arrow_forward
                                </mat-icon>
                            </button>
                        </div>
                        </td>
                    </tr>
                    </ng-template>
                </tbody>
            </table>

        <!-- <div style="font-size: small;text-align:right; margin-bottom:100px;"> -->
            <!-- <button mat-icon-button [disabled]="!empbranchprevious" color="primary"
                (click)="empsbranchprevious()">
                <mat-icon>arrow_back
                </mat-icon>
            </button>
            {{empbranchpage}}
            <button mat-icon-button [disabled]="!empbranchnext" color="primary" (click)="empsbranchnext()">
                <mat-icon>arrow_forward
                </mat-icon>
            </button> -->
        <!-- </div> -->
    
       
    </div>
    <div  *ngIf="isbranchempdata" style="margin-top: 2%;margin-left: 1%;">
        <div style="margin-left: 3%;">
            <h1 style="color:blue;font-family:'Times New Roman', Times, serif;font-size:23px">Employee Branch Details</h1>
        </div>

        <form [formGroup]="branchempdetailform" autocomplete="off">

            <mat-form-field style="margin-left:3%">
                <mat-label>Employee Name</mat-label>
                <input type="text" matInput formControlName="empname">
            </mat-form-field>
            <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left: 15px;" (click)="branchempdatasearch()">Search</button>
            <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left:15px;" (click)="branhempreset()">Reset</button>

     

        </form>
            <table class="table table-bordered" style="width: 95%;margin-left: 3%;">

                <thead>
                    <tr class="table_header">
                        <th>S.No </th>
                        <!-- <button mat-icon-button [ngClass]="empbclr==false?'able':'disable'" matTooltip="asce" style="text-align: right;" color="primary"
                            (click)="getempbascdes('asce',1)"><mat-icon >arrow_upward</mat-icon></button>
                            <button mat-icon-button [ngClass]="empbclr1==false?'able':'disable'" matTooltip="dece" style="text-align: right;" color="primary"
                            (click)="getempbascdes('desc',2)"><mat-icon >arrow_downward</mat-icon></button> -->
                        <th>Employee Code</th>
                        <th>Employee Name</th>
                        <th>State Name</th>
                        <th>Date Of Joining</th>
                        <th>Gender</th>
                        <th>Mobile No</th>
                        <th>E-Mail ID</th>
                        <!-- <th>Action</th> -->
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let d of branch_emp_Data;index as i">
                        <td>{{(branchemppage - 1)*pageSize +i+1 }}</td>
                        <td>{{d.code}}</td>
                        <td>{{d.full_name}}</td>
                        <td>{{d.state_name? d.state_name:'-'}}</td>
                        <td>{{d.doj ? d.doj:'-'}}</td>
                        <td>{{d.gender}}</td>
                        <td>{{d.phone_no ? d.phone_no:'-'}}</td>
                        <td>{{d.email_id ? d.email_id:'-'}}</td>
                        <!-- <td>
                            <button type="button" mat-icon-button [ngClass]="d.status==1?'active':'inactive'" (click)="empbranchactiveinactive(d)"><mat-icon>wb_sunny</mat-icon></button>
                            <button type="button" mat-icon-button ><mat-icon>edit</mat-icon></button>
                            <button mat-icon-button matTooltip="Branch View" class="iconbutton" 
                            color="primary" (click)="editmasterbranchdata(d)">
                            <mat-icon >visibility</mat-icon></button> 
                            <button mat-icon-button matTooltip="Branch View" class="iconbutton" 
                            color="primary" (click)="branch_emp_data(d)">
                            <mat-icon >supervisor_account</mat-icon>
                            </button>                     
                        </td> -->
                    </tr>
                    <tr *ngIf="branch_emp_Data?.length==0; else paginationappbremp" style="text-align: center;" class="NodataAlign" ><td colspan="8"> No Records Found...</td></tr>
                    <ng-template #paginationappbremp>
                    <tr>
                        <td colspan="5">
                            <div style="text-align: left;">

                                <span (click)="totalcountbremp()" style="color:purple;">Total Count: 
                                    <b class="text-left"  style="color:black;" > {{branch_emp_Data[0]?.count}}</b></span>

                            </div>
                        </td>
                        <td colspan="3">
                            <div style="text-align:right">
                            <button mat-icon-button [disabled]="!branchempprevious" color="primary"
                                (click)="branchemppagination(1)">
                                <mat-icon>arrow_back
                                </mat-icon>
                            </button>
                            {{branchemppage}}
                            <button mat-icon-button [disabled]="!branchempnext" color="primary" (click)="branchemppagination(0)">
                                <mat-icon>arrow_forward
                                </mat-icon>
                            </button>
                        </div>
                    </td>
                </tr>
                </ng-template>
            </tbody>
        </table>

    <div style="text-align: center;">

        <button type="button" class="btn btn-danger" style="border-radius:40px;margin-left: 15px;" (click)="exit_branch_emp()">Back</button>
    </div>
    </div>
    
    
    <div *ngIf="isRolexp"style="margin-left: 15px;margin-top:2%">
        <form [formGroup]="rolesearchform">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field  style="width:200px;">
                        <mat-label>Role Group</mat-label>
                        <input formControlName="role_id" type="text" matInput #roleinput autocomplete="off" [matAutocomplete]="roleint">
                        <mat-autocomplete #role #roleint="matAutocomplete" [displayWith]="getroleinterface" >
                        <!-- (opened)="autocompltescrollroleGroup()" -->
                            <mat-option *ngFor="let role of roledropList" [value]="role">{{role.operation_name}}
                            </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    <mat-form-field  style="width:200px; margin-left:25px;">
                        <mat-label>Role Code</mat-label>
                        <input type="text" matInput formControlName="code">
                    </mat-form-field>
                    <mat-form-field  style="width:200px; margin-left: 25px;" >
                        <mat-label>Role Name</mat-label>
                        <input type="text" matInput formControlName="name">
                    </mat-form-field>
                    <button type="button" class="btn btn-outline-primary" (click)="getRolesexpList(1)"  style="border-radius:40px;margin-left:15px;">Search</button>            
                    <button type="button" class="btn btn-outline-danger" (click)="rolereset()" style="border-radius:40px;margin-left:15px">Reset</button>  

                </div>
            </div>
             

        </form>
        <div class="table-responsive" style="margin-top: 2%;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.no</th>
                        <th>Role Code</th>
                        <th>Role Name</th>
                        <th>Role Group</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody> 
                    <tr *ngFor="let roles of rolesexpList; index as i">
                        <td scope="row">{{(rolelistpage - 1)*pageSize +i+1 }}</td>
                        <td>{{ roles.code}}</td>
                        <td>{{ roles.name}}</td>
                        <td>{{roles.operation_name}}</td>
                        <td>
                            <button mat-icon-button matTooltip="Edit" class="iconbutton" (click)="roleexpEdit(roles)"
                                color="primary">
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                        </td>
                    </tr>
                    <tr *ngIf="rolesexpList?.length==0; else rolepagination" style="text-align: center;"><td colspan="5">No Records Found</td></tr>
                    <ng-template #rolepagination>
                        <tr>
                            <td colspan="5">
                                <div style="text-align: right;">
                                    <button mat-icon-button [disabled]="!has_rolelistprev" style="font-size: small;" color="primary"
                                    (click)="rolesummarypaginationprev()">
                                    <mat-icon >arrow_back</mat-icon>
                                    </button>
                                    {{rolelistpage}}
                                    <button mat-icon-button [disabled]="!has_rolelistnext" style="font-size: small;" color="primary"
                                    (click)="rolesummarypaginationnext()">
                                    <mat-icon >arrow_forward</mat-icon>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                </tbody>
            </table>
        </div>
    </div>
    <div *ngIf="isUserRole" style="margin-left: 15px;margin-top:2%">
        <form [formGroup]="userroleform">
            <div calss="row">
                <div class="col-md-12">
                        <!-- <mat-form-field style="width:150px">
                <mat-label>Role Group</mat-label>
                <input formControlName="role_id" type="text" matInput #roleinput autocomplete="off" [matAutocomplete]="roleint">
                <mat-autocomplete #role #roleint="matAutocomplete" [displayWith]="getroleinterface">
                    <mat-option *ngFor="let role of rolesList" [value]="role">{{role.name}}
                    </mat-option>
                </mat-autocomplete>
              </mat-form-field> -->
              <mat-form-field style="width:200px;">
                <mat-label>User Code</mat-label>
                <input type="text" matInput formControlName="code">
              </mat-form-field>
              <mat-form-field style="width:200px;margin-left:25px;">
                <mat-label>User Name</mat-label>
                <input type="text" matInput  formControlName="name">
              </mat-form-field>   
              <button type="button" class="btn btn-outline-primary" (click)="getUserRolesList(1)"  style="border-radius:40px;margin-left:15px;">Search</button>  
              <button type="button" class="btn btn-outline-primary" (click)="userrolereset()" style="border-radius:40px;margin-left:15px">Reset</button> 
                    
                </div>
            </div>              
        </form>
        <div class="table-responsive" style="margin-top: 2%;">
            <table class="table table-bordered">
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>User Code</th>
                        <th>User Name</th>
                        <th>Edit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let user of userrolelist;index as i">
                        <td>{{(userrolelistpage - 1)*pageSize +i+1 }}</td>
                        <td>{{user.code}}</td>
                        <td>{{user.name}}</td>
                        <td>
                            <button mat-icon-button matTooltip="Edit" class="iconbutton" (click)="useredit(user)" data-toggle="modal" data-target="#roeluser">
                                <mat-icon style="color:gray;" aria-labrl="Edit">edit</mat-icon>
                            </button>
                        </td>
                    </tr>
                    <tr *ngIf="userrolelist?.length==0; else userrolepagination" style="text-align: center;"><td colspan="4">No Records Found</td></tr>
                    <ng-template #userrolepagination>
                        <tr>
                            <td colspan="4">
                                <div style="text-align: right;">
                                    <button mat-icon-button [disabled]="has_userrolelistprev === false" style="font-size: small;" color="primary"
                                    (click)="userroleprev()">
                                    <mat-icon >arrow_back</mat-icon>
                                    </button>
                                    {{userrolelistpage}}
                                    <button mat-icon-button [disabled]="has_userrolelistnext === false" style="font-size: small;" color="primary"
                                    (click)="userrolenext()">
                                    <mat-icon >arrow_forward</mat-icon>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                </tbody>

            </table>

        </div>
        <div class="modal fade" id="roeluser" data-backdrop="static" role="dailog" style="padding-right: 0px;overflow-y: hidden;">
            <div class="modal-dialog modal-sm"  role="document" style="max-width: 1000px;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title" style="margin-left:40%;font-family: 'Times New Roman', Times, serif;color:rgb(4, 4, 29);font-size: 20px;font-weight: bold;">{{this.ur_role_name}}</h1>
                        <button type="button" class="close"  data-dismiss="modal">&times;</button>        
                    </div>
                    <div class="modal-body" style="overflow-y: auto;">
                        <ul class="list-group">
                            <li class="list-group-item" *ngFor="let d of userrolesdata; index as i">
                                <input type="checkbox" [(ngModel)]="d.isSelected" name="userlist" value="{{d.id}}"><span> {{i+1}}.{{d.name}}-{{d.operation_name}}</span>
                            </li>
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" style="border-radius:40px; margin-left:65%;"  data-dismiss="modal">Close</button> 
                        <button type="submit" class="btn btn-success" style="border-radius: 40px; margin-left:15px" (click)="userrolesubmit(userrolesdata)" data-dismiss="modal">Submit</button>       
                    </div>
                   
                </div>
            </div>

           
        </div>

    </div>

    <div *ngIf="isemccontacts" style="margin-left: 15px;margin-top: 2%;">
            <form [formGroup]="emcForm">
                <div class="row">
                    <div class="col-md-12">
                        <mat-form-field style="width: 250px;">
                            <mat-label>Employee</mat-label>
                            <input type="text" #empinput matInput formControlName="employee" maxlength="60"  [matAutocomplete]="emploeeauto" (click)="get_emp_dropdown('')">
                            <mat-autocomplete #emploeeauto="matAutocomplete" [displayWith]="employeeinterface" (opened)="autocompleteempScroll()">
                                <mat-option *ngIf="isLoading">Loading..</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let d of emplist" [value]="d">{{d.full_name}}</mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
    
                       
    
                        <mat-form-field style="width: 250px;margin-left:25px">
                            <mat-label class="search_text">Designation</mat-label>
                            <input  matInput type="text" formControlName="desg">
                        </mat-form-field> 

                        <mat-form-field style="width: 250px;margin-left:25px">
                            <mat-label class="search_text">Mobile No</mat-label>
                            <input  matInput type="text"  maxlength="10" minlength="10" formControlName="mobile">
                        </mat-form-field> 
     
                    
                        <button type="button" class="btn btn-outline-primary" style="border-radius:40px;margin-left: 15px;" (click)="Emc_contactsummary(1)">search</button>
                        <button class="btn btn-outline-primary" (click)="reset_emccontacts()" type="button"
                            style="border-radius:40px;margin-left: 15px;" color="primary">Reset</button>        
                    </div>
                </div>
            </form>
            <div class="table-responsive" style="margin-top: 2%;width: 95%;">
                <table class="table table-bordered">
                    <thead class="table_header">
                        <tr>
                            <th>S.No</th>
                            <th>Employee</th>
                            <th>Designation</th>
                            <th>Section Handling</th>
                            <th>LandLine No</th>
                            <th>Mobile No</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let emc of emccontact_list,index as i">
                            <td>{{(emc_page - 1)*pageSize +i+1 }}</td>
                            <td>{{emc.emp_detail.full_name}}</td>
                            <td>{{emc.designation}}</td>
                            <td>{{emc.section_handling}}</td>
                            <td>{{emc.landline_no}}</td>
                            <td>{{emc.mobile_no}}</td>
                            <td><button mat-icon-button matTooltip=" Edit" class="iconbutton"  
                                color="primary" (click)="emc_contact_edit(emc)" >
                                <mat-icon style="color: gray;" aria-label="Edit">edit</mat-icon>
                            </button>
                            <button mat-icon-button type="button" (click)="Emc_contactstatus(emc)" [ngClass]="emc.status?'active':'inactive'" [matTooltip]="emc.status? 'click to inactive':'click to active' " >
                                <mat-icon>wb_sunny</mat-icon>
                            </button>
                           </td>
                        </tr>
                        <tr  *ngIf="emccontact_list?.length==0; else paginationemc" class="NodataAlign" style="text-align:center;"><td colspan="7">No Records Found...</td></tr>
                        <ng-template #paginationemc>
                            <tr>
                                <td colspan="7">
                                    <div style="text-align:right">
                                        <button mat-icon-button [disabled]="emc_prev === false" color="primary"
                                         (click)="Emc_contact_pagination(1)"><mat-icon>arrow_back</mat-icon></button>
                                         {{emc_page}}
                                         <button mat-icon-button [disabled]="emc_next === false" color="primary" 
                                         (click)="Emc_contact_pagination(2)"><mat-icon>arrow_forward</mat-icon></button>                        
                                    </div>
                                </td>
                            </tr>
                        </ng-template>
                       
        
                    </tbody>
                </table>
                <div></div>
                <ng-template #paginationemc>
                    <div style="font-size: small;text-align:right; margin-bottom:100px;">
                        <button mat-icon-button [disabled]="emc_prev === false" color="primary"
                            (click)="Emc_contact_pagination(1)">
                            <mat-icon>arrow_back
                            </mat-icon>
                        </button>
                        {{emc_page}}
                        <button mat-icon-button [disabled]="emc_next === false" color="primary" (click)="Emc_contact_pagination(2)">
                            <mat-icon>arrow_forward
                            </mat-icon>
                        </button>
                    </div>
                </ng-template>
    
            </div>
    </div>
    

    


</div>

