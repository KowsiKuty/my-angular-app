<div>
    <h1 style="font-family: 'Times New Roman', Times, serif;color: blue;font-size: 24px;">View Electricity Details</h1>
</div><hr>
<div >
    <form [formGroup]="createelecform">
        <div class="row">
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>State Name</mat-label>
                    <input type="text" matInput formControlName="statename" [matAutocomplete]="statedata" (keypress)="kyenbdata($event)">
                    <mat-autocomplete #statedata="matAutocomplete" [displayWith]="stateinterface">
                        <mat-option *ngIf="isLoading">Loading..</mat-option>
                        <ng-container *ngIf="!isLoading">
                            <mat-option *ngFor="let d of stateList" [value]="d">{{d.name}}</mat-option>
                        </ng-container>
                    </mat-autocomplete>
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Electricity Board</mat-label>
                    <mat-select formControlName="elecboard">
                        <mat-option *ngFor="let electricity of electricityBoard" [value]="electricity.name">
                            {{electricity.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Region</mat-label>
                    <!-- <input type="text" matInput formControlName="region" > -->
                    <input placeholder="branch" matInput formControlName="region" #branchContactInput
                            [matAutocomplete]="branchtype" (keypress)="kyenbdata($event)">
                        <mat-autocomplete #branchtype="matAutocomplete" [displayWith]="displaydiss2">
                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                            <ng-container *ngIf="!isLoading">
                                <mat-option *ngFor="let branch of branchlist"
                                [value]="branch">
                                <!-- ({{branch.code}}){{branch.name+ " " }} -->
                                {{branch.region_name}}
                                </mat-option>
                            </ng-container>
                        </mat-autocomplete>
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field style="width: 180px;">
                    <mat-label>Premises Name</mat-label>
                    <input type="text" matInput formControlName="premicename" readonly>
                </mat-form-field>
                <button type="button" (click)="clicktoview('')" mat-mini-fab color="primary"><mat-icon>arrow_upward</mat-icon></button>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Occupancy Type</mat-label>
                    <input type="text" matInput formControlName="occupancytype" readonly>
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Premises Type</mat-label>
                    <input type="text" matInput formControlName="premicetype" readonly>
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Contact Person</mat-label>
                    <input type="text" matInput formControlName="contactperson" (keypress)="kyenbdata($event)">
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Contact No</mat-label>
                    <input type="number" matInput formControlName="contactno" (keypress)="kyenbdata($event)">
                </mat-form-field>
                <!-- <button type="button" mat-mini-fab color="primary"><mat-icon>arrow_upward</mat-icon></button> -->
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Consumer No</mat-label>
                    <input type="number" matInput formControlName="consumerno" (keypress)="kyenbdata($event)">
                </mat-form-field>
            </div>
            <div class="col-md-4">
                <button type="button" mat-raised-button (click)="getconsumercode()">Validate</button>
                <mat-form-field style="margin-left: 10px;width: 200px;">
                    <mat-label>Consumer Name</mat-label>
                    <input type="text" matInput formControlName="consumername" readonly>
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Billing Cycle</mat-label>
                    <input type="number" matInput formControlName="billingcycle" >
                </mat-form-field>
            </div>
            <div class="col-md-2">
                <mat-form-field style="width: 180px;">
                    <mat-label>Site Id</mat-label>
                    <input type="text" matInput formControlName="siteid" (keypress)="kyenbdata($event)">
                </mat-form-field>
                <!-- <button type="button" mat-mini-fab color="primary"><mat-icon>arrow_upward</mat-icon></button> -->
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-3">
                <mat-form-field style="width: 250px;">
                    <mat-label>Remarks</mat-label>
                    <input type="text" matInput formControlName="remarks" (keypress)="kyenbdata($event)">
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-button-toggle-group color="primary" formControlName="activate">
                    <mat-button-toggle value="activate">Activate</mat-button-toggle>
                    <mat-button-toggle value="deactivate">Deactivate</mat-button-toggle>
                  </mat-button-toggle-group>
            </div>
        </div>
        <br>
        <div class="text-center">
            <button type="button" class="btn btn-success" (click)="addElectricitySubmit()" style="border-radius: 40px;height: 40px;">Submit</button>&nbsp;&nbsp;
            <button type="button" class="btn btn-danger" (click)="routertosummary()" style="border-radius: 40px;height: 40px;">Cancel</button>
        </div>
    </form>
</div>
<ng-template #viewdata>
    <table class="table table-bordered">
        <thead>
            <tr class="table_header">
               
                <th>Sl.No</th>
                <th>Premises Code</th>
                <th>Premises Name</th>
                <th>Occupancy Type</th>
                <th>OwnerShip</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let list of findPremisesList; index as i">
                <td> {{(paymentpresentpage - 1)*pagesizepayment +i+1 }} </td>
                <td>{{list?.premise_code}}</td>
                <td>{{list?.premise_name}}</td>
                <td>{{list?.usage.occupancy_name}}</td>
                <td>{{list?.premise_ownership.ownership_type}}</td>
                <td>
                    <mat-checkbox class="example-margin" (change)="checkedtrue($event.checked,list)">
                    </mat-checkbox>
                </td>
                <!-- <td><span *ngIf="list?.effectiveto != null">{{minimum?.effectiveto | date:"dd-MMM-yyyy"}}</span><span *ngIf="minimum?.effectiveto == null"> -- </span></td> -->
                
            </tr>
        </tbody>
    </table>
    <div class="text-center">
        <button type="button" (click)="submitdata()" mat-raised-button >Update</button>
        <button type="button" (click)="canceldata()" mat-raised-button color="warn">Close</button>
    </div>
</ng-template>