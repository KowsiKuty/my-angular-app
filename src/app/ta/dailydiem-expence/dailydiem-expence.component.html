<!-- <h3 style="margin-left: 50px;">
  eClaim Daily Diem
</h3>


<div style="margin-left: 50px;margin-right: 80%;margin-top: 3%; width: 100%;">
  <h3 style="color:deeppink;">
    Employee
  </h3>
  <div>
    <form #taForm="ngForm">
      <table>
        <tr> -->

<!-- <td>
                         <mat-form-field  style="width: 175px;">
                             <mat-label>Tour No</mat-label>
                             <input  matInput placeholder="Tour No" [disabled]="true" name="tourid" [(ngModel)]="dailydiem.tourid"  autocomplete="off"  required>
                         </mat-form-field>
                      </td> -->
<!-- <td>
            <mat-form-field style="width: 175px;">
              <mat-label>Tour No</mat-label>
              <input matInput placeholder="Tour No" [disabled]="true" [value]="id" autocomplete="off" required>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field style="width: 175px;margin-left: 50px;">
              <mat-label>Employee Name</mat-label>
              <input matInput placeholder="Employee Name" [disabled]="true" [value]="employeename" autocomplete="off"
                required>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field style="width: 175px;margin-left: 50px;">
              <mat-label>Designation</mat-label>
              <input matInput placeholder="Designation" [disabled]="true" [value]="employeedesignation"
                autocomplete="off" required>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field style="width: 175px;margin-left: 50px;">
              <mat-label>Employee Grade</mat-label>
              <input matInput placeholder="Emp grade" [disabled]="true" [value]="employeegrade" autocomplete="off"
                required>
            </mat-form-field>
          </td>



          <td>

            <button type="button" class="btn btn-outline-success" (click)="addSection()"
              style="border-radius:40px;margin-left: 50px"><span class="fa fa-plus"></span>
              Daily</button>

          </td>
        </tr>
      </table>


      <div class="table-responsive" style="width:100%;margin-top: 1%;">
        <table class="table table-bordered" fixed-header style="width: 99%;margin-top: 10px;">
          <thead class="table_header" style="text-align: left;">
            <tr>
              <th>S.No</th>
              <th>City</th>
              <th *ngIf="show">FromDate</th>
              <th *ngIf="show">FromTime</th>
              <th *ngIf="show">ToDate</th>
              <th *ngIf="show">ToTime</th>
              <th>System Calculated no of Hours</th>
              <th>No of Hours</th>
              <th>Accommodtion provided by Bank</th>
              <th>Boarding provided by Bank</th>
              <th>Declaration for boarding submitted</th>
              <th>No of leaveDays</th>
              <th>Eligible Amount</th>
              <th>Claim Amount</th>
              <th>Action</th>

            </tr>
          </thead>
          <tbody>
            *ngIf="showdailydiem" -->
<!-- <tr *ngFor="let dtl of dailydiem.data;let i=iex;">
              <td scope="row" style="vertical-align: middle;"> {{(this.currentpage - 1)*pagesize +i+1 }}</td>

              <td> -->
<!-- <mat-form-field style="width: 175px;">
                 <input matInput placeholder="City" name="visitcity_{{dtl.id}}" [(ngModel)]="dtl.visitcity" autocomplete="off" required>
               </mat-form-field> -->
<!-- 
                <mat-form-field style="width: 175px;">
                  <mat-label>City</mat-label>
                  <mat-select name="city_{{dtl.id}}" [(ngModel)]="dtl.city"
                    (selectionChange)="oncityChange($event.value,dtl)">
                    <mat-option *ngFor="let list of citylist" [value]="list.city">
                      {{list.city}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </td>
              <td *ngIf="show">
                <mat-form-field style="width:175px;">

                  <input matInput [matDatepicker]="picker1" [max]="DailydiemTodate" [min]="minselect(i)"
                    (dateChange)="fromdateSelection($event.value,dtl)" placeholder="From Date" autocomplete="off"
                    name="fromdate_{{dtl.id}}" [(ngModel)]="dtl.fromdate">
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
              </td>

              <td *ngIf="show"> -->
<!-- *ngIf="showfromtimecreate" -->
<!-- <mat-form-field style="width: 175px;">
    
              <input
                matInput placeholder="From Time" name="FromTime_{{dtl.id}}"
                aria-label="default time"
                [ngxTimepicker]="defaultValue"
                [value]="'0:00:00 '"
                [(ngModel)]="dtl.FromTime" (ngModelChange)="getfromtime(dtl.FromTime)"
               />
               <ngx-material-timepicker #defaultValue>
               </ngx-material-timepicker>
            </mat-form-field> -->


<!-- <mat-form-field style="width: 175px;">
                  <input matInput class="timepicker" [ngxTimepicker]="defaultValue" [format]=24 placeholder="From Time"
                    [(ngModel)]="dtl.FromTime" name="FromTime_{{dtl.id}}"
                    (ngModelChange)="getfromtime(dtl.FromTime,dtl)">
                </mat-form-field>


                <ngx-material-timepicker #defaultValue [enableKeyboardInput]=true>
                </ngx-material-timepicker> -->

<!-- <input matInput type="time-24"  [(ngModel)]="dtl.FromTime" name="FromTime_{{dtl.id}}">  -->
<!-- </td> -->
<!-- <td *ngIf="showfromtimeedit">
            <mat-form-field style="width: 175px;">
              <input matInput placeholder="From Time"   [value]="FromTimes"  autocomplete="off" (click)="showfromtime()" required>
            </mat-form-field>
          </td> -->
<!-- <td *ngIf="show">
                <mat-form-field style="width:175px;">

                  <input matInput [matDatepicker]="picker2" [max]="DailydiemTodate" [min]="maxselect(i)"
                    (dateChange)="todateSelection($event.value,dtl)" placeholder="To Date" autocomplete="off"
                    name="todate_{{dtl.id}}" [(ngModel)]="dtl.todate">
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
              </td>
              <td *ngIf="show"> -->
<!-- *ngIf="showtotimecreate" -->
<!-- <mat-form-field style="width: 175px;">
        
                <input 
                  matInput placeholder="To Time" name="totime_{{dtl.id}}"
                  aria-label="default time"
                  [ngxTimepicker]="defaultValue1"
                  [value]="'0:00:00 '"
                  [(ngModel)]="dtl.totime"  (ngModelChange)="ontimeChange(dtl.totime)"
                 />
                 <ngx-material-timepicker #defaultValue1  >
                 </ngx-material-timepicker>
              </mat-form-field> -->

<!-- <mat-form-field style="width: 175px;">
                  <input matInput class="timepicker" [ngxTimepicker]="defaultValue1" [format]=24 placeholder="To Time"
                    [(ngModel)]="dtl.totime" name="totime_{{dtl.id}}" (ngModelChange)="ontimeChange(dtl.totime,dtl)">
                </mat-form-field>


                <ngx-material-timepicker #defaultValue1 [enableKeyboardInput]=true>
                </ngx-material-timepicker>
              </td> -->
<!-- <td *ngIf="showtotimeedit">
              <mat-form-field style="width: 175px;">
                <input matInput placeholder="To Time"  [value]="totime" autocomplete="off" (click)="showtotime()" required>
              </mat-form-field>
            </td> -->
<!-- <td *ngIf="dtl.syshours !=undefined">
                <mat-form-field style="width: 175px;">
                  <input matInput placeholder="System Calculated no of Hours" [value]="dtl.syshours" [disabled]="true"
                    autocomplete="off" required>
                </mat-form-field>
              </td>
              <td *ngIf="dtl.syshours === undefined">
                <mat-form-field style="width: 175px;">
                  <input matInput placeholder="System Calculated no of Hours" [value]=" " [disabled]="true"
                    autocomplete="off" required>
                </mat-form-field>
              </td>
              <td>
                <mat-form-field style="width: 175px;">
                  <input matInput placeholder="No of Hours" name="noofhours_{{dtl.id}}" [(ngModel)]="dtl.noofhours"
                    autocomplete="off" required>
                </mat-form-field>
              </td>
              <td> -->

<!-- <mat-form-field style="width: 175px;">
                <mat-label>Accommodtion</mat-label>
                <mat-select name="accbybank_{{dtl.id}}"  [(ngModel)]="dtl.accbybank">
                <mat-option *ngFor="let yesno of yesnoList" [value]="yesno.value"  (click)="getaccom(yesno.value,dtl)">
                    {{yesno.name}}
                  </mat-option>
                </mat-select>
              </mat-form-field> -->

<!-- <mat-form-field style="width: 175px;">
                  <input matInput name="accbybank_{{dtl.id}}" [(ngModel)]="dtl.accbybank" #accbybank="ngModel"
                    placeholder="Accomodation" [matAutocomplete]="auto" required>
                  <mat-autocomplete #auto="matAutocomplete" [displayWith]="accomvalueMapper">
                    <mat-option *ngFor="let yesno of yesnoList" [value]="yesno.value"
                      (click)="getaccom(yesno.value,dtl)">
                      {{yesno.name}}
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
              </td>


              <td> -->


<!-- <mat-form-field style="width: 175px;">
                <mat-label>Boarding</mat-label>
                <mat-select name="boardingbybank_{{dtl.id}}"  [(ngModel)]="dtl.boardingbybank">
                  <mat-option *ngFor="let board of boardingList" [value]="board.value" (click)="getboarding(board.value,dtl)">
                    {{board.name}}
                  </mat-option>
                </mat-select>
              </mat-form-field> -->

<!-- <mat-form-field style="width: 175px;">
                  <input matInput name="boardingbybank_{{dtl.id}}" [(ngModel)]="dtl.boardingbybank"
                    #boardingbybank="ngModel" placeholder="Boarding" [matAutocomplete]="boardauto" required>
                  <mat-autocomplete #boardauto="matAutocomplete" [displayWith]="boardingvalueMapper">
                    <mat-option *ngFor="let board of boardingList" [value]="board.value"
                      (click)="getboarding(board.value,dtl)">
                      {{board.name}}
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
              </td>

              <td> -->


<!-- <mat-form-field style="width: 175px;">
                <mat-label>Declaration of boarding</mat-label>
                <mat-select name="declaration_{{dtl.id}}"  [(ngModel)]="dtl.declaration">
                  <mat-option *ngFor="let declare of declareList" [value]="declare.value" (click)="getdeclaration(declare.value,dtl)">
                    {{declare.name}}
                  </mat-option>
                </mat-select>
              </mat-form-field> -->

<!-- <mat-form-field style="width: 175px;">
                  <input matInput name="declaration_{{dtl.id}}" [(ngModel)]="dtl.declaration" #declaration="ngModel"
                    placeholder="Declaration of boarding" [matAutocomplete]="declareauto" required>
                  <mat-autocomplete #declareauto="matAutocomplete" [displayWith]="declarevalueMapper">
                    <mat-option *ngFor="let declare of declareList" [value]="declare.value"
                      (click)="getdeclaration(declare.value,dtl)">
                      {{declare.name}}
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
              </td>

              <td>
                <mat-form-field style="width: 175px;">
                  <input matInput placeholder="No of leaveDays" name="isleave_{{dtl.id}}" [(ngModel)]="dtl.isleave"
                    (change)="getleavedays(dtl.isleave,dtl)" autocomplete="off" required>
                </mat-form-field>
              </td>
              <td *ngIf="dtl.eligibleamount != undefined">
                <mat-form-field style="width: 175px;">
                  <input matInput placeholder="Eligible Amount" [value]="dtl.eligibleamount" [disabled]="true"
                    autocomplete="off" required>
                </mat-form-field>
              </td>
              <td *ngIf="dtl.eligibleamount === undefined">
                <mat-form-field style="width: 175px;">
                  <input matInput placeholder="Eligible Amount" [value]=" " [disabled]="true" autocomplete="off"
                    required>
                </mat-form-field>
              </td>
              <td>
                <mat-form-field style="width: 175px;">
                  <input matInput placeholder="Claim Amount" name="claimedamount_{{dtl.id}}"
                    [(ngModel)]="dtl.claimedamount" autocomplete="off" required>
                </mat-form-field>
              </td>
              <td><button mat-icon-button matTooltip="Delete" class="iconbutton" (click)="removeSection(i,dtl)"
                  color="primary">
                  <mat-icon style="color:red;" aria-label="Delete">delete</mat-icon>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-md-12 text-center">
        <button type="submit" style="border-radius: 40px;margin-left: 10px;" (click)="submitForm()"
          class="btn btn-outline-primary">Submit</button>

        <button type="button" (click)="back()" class="btn btn-outline-primary"
          style="border-radius: 40px;margin-left: 10px;">Back</button>
      </div>

    </form>
  </div>
</div> -->



<!-- <pre>
        {{expenceeditForm.value|json}}
    </pre> -->

<div class="col-12-md" style="margin-left: 50px; margin-top: 20px; margin-bottom: 40px;">

  <h2 style="font-size: 22px; font-weight: 500;">
    eClaim Daily Diem
  </h2>

  <div *ngIf="isonbehalf">
    <h3 style="margin-left: 44px;color:rgb(0, 0, 0);font-size: 18px; font-weight: 400;">
      On Behalf Employee - {{onbehalf_empName}}
    </h3>
  </div>

  <hr style="width: 99%;">

  <!-- <div *ngIf="isonbehalf">
        <h3 style="margin-left: 44px;color:rgb(0, 0, 0);font-size: 18px; font-weight: 400;">
          On Behalf Employee - {{onbehalf_empName}}
        </h3>
      </div> -->

  <div style="margin-top: 60px;">
    <form [formGroup]="dailydiemform">
      <table>
        <tr>
          <td>
            <mat-form-field style="width: 175px;">
              <mat-label style="font-size: 20px;">Tour No</mat-label>
              <input matInput class="disabled11" placeholder="Tour No" formControlName="requestno" [readonly]="true">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field style="width: 175px;margin-left: 50px;">
              <mat-label style="font-size: 20px;">Employee Name</mat-label>
              <input matInput class="disabled11" placeholder="Employee Name" formControlName="employeename"
                [readonly]="true">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field style="width: 175px;margin-left: 50px;">
              <mat-label style="font-size: 20px;">Designation</mat-label>
              <input matInput class="disabled11" placeholder="Designation" formControlName="designation"
                [readonly]="true">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field style="width: 175px;margin-left: 50px;">
              <mat-label style="font-size: 20px;">Employee Grade</mat-label>
              <input class="disabled11" matInput placeholder="Employee Grade" formControlName="employeegrade"
                [readonly]="true">
            </mat-form-field>
          </td>

          <td>


            <button type="button" class="btn btn-outline-success" (click)="adddata()" [disabled]="enb_all_exbdetails"
              *ngIf="!approver && !transferreason " style="border-radius:40px;margin-left: 50px"><span
                class="fa fa-plus"></span>
              </button>

            <button type="button" class="btn btn-outline-success"
              [disabled]="dailydiemform.get('data')['controls'].length== 1" (click)="adddata1()" *ngIf="transferreason"
              style="border-radius:40px;margin-left: 50px"><span class="fa fa-plus"></span>
              ADD</button>


          </td>
        </tr>
      </table>

      <div class="table-responsive" style="width:97%;margin-top: 1%;">
        <table class="table table-bordered" fixed-header style="width: 99%;margin-top: 10px;">
          <tr class="table_header" style="text-align: left;">
            <th>S.No</th>
            <th>City<label style="color: red;">*</label></th>
            <th>From Date<label style="color: red;">*</label></th>
            <th>From Time<label style="color: red;">*</label></th>
            <!-- <th></th> -->
            <th>To Date<label style="color: red;">*</label></th>
            <th>To Time<label style="color: red;">*</label></th>
            <!-- <th></th> -->
            <th>System Calculated no of Hours</th>
            <th>No of Hours<label style="color: red;">*</label></th>
            <th>Accommodtion provided by Bank</th>
            <th>Boarding provided by Bank</th>
            <th>Declaration for boarding submitted<label style="color: red;">*</label></th>
            <th>No of leaveDays<label style="color: red;">*</label></th>
            <th>Eligible Amount</th>
            <th>Claim Amount<label style="color: red;">*</label></th>
            <th *ngIf="approver && applevel == 2">Approved Amount<label style="color: red;">*</label></th>
            <th *ngIf="enb_all_exbdetails">GST No</th>
            <th *ngIf="enb_all_exbdetails">Invoice Date</th>
            <th *ngIf="enb_all_exbdetails">Invoice No</th>
            <th *ngIf="!approver">Action</th>
          </tr>
          <tbody formArrayName="data"
            *ngFor="let item of dailydiemform.get('data')['controls'] index as i">
            <tr [formGroupName]="i">
              <td>{{((p-1)*pageSize)+i+1}}</td>
              <td>
                <fieldset [disabled]="approver || enb_all_exbdetails">
                  <mat-form-field floatLabel="never">

                    <mat-label>City</mat-label>
                    <input (keypress)="citysearch(i)" type="text" required #inputassetid placeholder="Select City"
                      matInput (keypress)="omit_special_char($event)" [matAutocomplete]="conoffice"
                      formControlName="city">
                    <mat-autocomplete #assetid #conoffice="matAutocomplete" (opened)="autocompleteid()">
                      <mat-option *ngFor="let city of citylist" (click)="geteligibleamount(i)" [value]="city.city">
                        {{city.city}}

                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>
                </fieldset>
              </td>
              <!-- <td>
                <fieldset [disabled]="approver || transferreason ">
                  <mat-form-field floatLabel="never" style="width: 280px;">
                    <input matInput type='datetime-local' formControlName="fromdate"
                      [min]="minselect(((p-1)*pageSize)+i)" [max]="maximum" 
                      (change)="invaliddatestart(((p-1)*pageSize)+i);geteligibleamount(i)" autocomplete="off" required>

                  </mat-form-field>
                </fieldset>
              </td> -->
              <td>
                <fieldset [disabled]="approver || enb_all_exbdetails">
                 <mat-form-field floatLabel="never" style="width: 120px;" id="tadate">

                        <input matInput [matDatepicker]="picker1" readonly [min]="minselect(((p-1)*pageSize)+i)" 
                          [max]="maximum" (dateChange)="geteligibleamount(i)"
                          placeholder="From Date" autocomplete="off" formControlName="fromdate">
                        <mat-datepicker-toggle matSuffix [for]="picker1" ></mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                      </mat-form-field>
                </fieldset>
              </td>
              <td>
                <fieldset [disabled]="approver || enb_all_exbdetails">
                  <mat-form-field style="margin-left:15px;width:120px;">
                    <span matSuffix class="material-icons">watch_later</span>
                    <input matInput  (keypress)="numberOnlywithcolon($event)" formControlName="fromtime"
                    (keyup)="timefilter($event)" #time (blur)="timedropdowncheck(time,i)" (input)="formatInput($event)" placeholder="Time" required  [matAutocomplete]="timefile">
                    <mat-autocomplete #timefile="matAutocomplete">
                      <mat-option (click)="geteligibleamount(i)" *ngFor="let time of timeclone" [value]="time.name">
                        {{time.name}}
 
                     </mat-option>
                    </mat-autocomplete>
                  </mat-form-field> 
                       <!-- <mat-form-field matSuffix id="tatime" style="margin-left:15px">
                      <span matSuffix class="material-icons">watch_later</span>
                      <input matInput (keyup)="timefilter($event)" #time (input)="timedropdowncheck(time,i)" (keydown)="onKeyDownnum($event)"  formControlName="fromtime"
                        type="search" placeholder="Time" required  [matAutocomplete]="timefile">
                      <mat-autocomplete #timefile="matAutocomplete">
                        <mat-option (click)="geteligibleamount(i)" *ngFor="let time of timeclone" [value]="time.name">
                          {{time.name}}

                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>  -->

									
                </fieldset>
              </td>
              <!-- <td>
                <fieldset [disabled]="approver || transferreason ">
                  <mat-form-field floatLabel="never" style="width: 280px;">
                    <input matInput type='datetime-local' placeholder="Time" formControlName="todate"
                      [min]="maxselect(((p-1)*pageSize)+i)" [max]="maximum"
                      (change)="datechange(((p-1)*pageSize)+i);geteligibleamount(i)" autocomplete="off" required>

                  </mat-form-field>
                </fieldset>
              </td> -->
              <!-- <td>
                <fieldset>
                  <mat-form-field floatLabel="never" id="tadate">

                    <input matInput [matDatepicker]="picker1" readonly [min]="minselect(((p-1)*pageSize)+i)"
                      [max]="maxselect(((p-1)*pageSize)+i)" (dateChange)="geteligibleamount(i)"
                      placeholder="From Date" autocomplete="off" formControlName="fromdate">
                    <mat-datepicker-toggle matPrefix [for]="picker1" [disabled]="true"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                  </mat-form-field>
                </fieldset> (keypress)="numberOnlywithcolon($event)"
              </td> -->
              <td>
                <fieldset [disabled]="approver || enb_all_exbdetails">
                <mat-form-field floatLabel="never" style="width: 120px;" id="tadate">
                  <input matInput [matDatepicker]="picker2" readonly
                     [min]="maxselect(((p-1)*pageSize)+i)" [max]="maximum" 
                     (change)="datechange(((p-1)*pageSize)+i);geteligibleamount(i)" placeholder="Todate"
                    autocomplete="off" formControlName="todate">
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
              </fieldset>
              </td>
              <td>
                <fieldset [disabled]="approver || enb_all_exbdetails">
                  <mat-form-field matSuffix id="tatime" style="margin-left:15px;width:120px;">
                  <span matSuffix class="material-icons">watch_later</span>
                          <input matInput   #totime (keypress)="numberOnlywithcolon($event)" (change)="timedropdowncheck(time,i)" 
                            type="text" placeholder="Time" (input)="formatInput($event)" required  [matAutocomplete]="timeto" formControlName="totime">
                          <mat-autocomplete #timeto="matAutocomplete">
                            <mat-option (click)="geteligibleamount_datechanges(i);totimechange(i,totime)" *ngFor="let time of totimesdd(i,totime)" 
                              [value]="time.name">
                              {{time.name}}
  
                            </mat-option>
                          </mat-autocomplete>
                        </mat-form-field>
                      </fieldset>
              </td>
              <td>
                <fieldset [disabled]="approver || true ">
                  <mat-form-field floatLabel="never">
                    <input matInput formControlName="syshours" placeholder="System No of Hours">
                  </mat-form-field>
                </fieldset>
              </td>
              <td>
                <fieldset [disabled]="approver || enb_all_exbdetails">
                  <mat-form-field floatLabel="never"  style="width: 120px;">
                    <input matInput formControlName="noofhours" (keydown)="nospace($event);zero($event)"
                      (keypress)="keyPressAmounts($event)" (keyup)="limit($event,i)" placeholder="No of hours">
                  </mat-form-field>
                </fieldset>
              </td>
              <td>
                <fieldset>
                  <mat-form-field floatLabel="never">
                    <mat-label>Accommodtion</mat-label>
                    <mat-select formControlName="accbybank" [disabled]="approver || enb_all_exbdetails">
                      <mat-option *ngFor="let yesno of yesnoList" (click)="geteligibleamount(i)" [value]="yesno.value">
                        {{yesno.name}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </fieldset>
              </td>
              <td>
                <fieldset>
                  <mat-form-field floatLabel="never">
                    <mat-label>Boarding</mat-label>
                    <mat-select formControlName="boardingbybank" [disabled]="approver || enb_all_exbdetails">
                      <mat-option *ngFor="let board of boardingList" (click)="geteligibleamount(i)"
                        [value]="board.value">
                        {{board.name}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </fieldset>
              </td>
              <td
                *ngIf="dailydiemform.value.data[GlobalIndex(i)].accbybank == 1 && dailydiemform.value.data[GlobalIndex(i)].boardingbybank == 1">
                <fieldset>
                  <mat-form-field floatLabel="never">
                    <mat-label>Declaration</mat-label>
                    <mat-select formControlName="declaration" [disabled]="approver || true">
                      <mat-option *ngFor="let declare of declareList" (click)="geteligibleamount(i)"
                        [value]="declare.value">
                        {{declare.name}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </fieldset>
              </td>
              <td
                *ngIf="dailydiemform.value.data[GlobalIndex(i)].accbybank != 1 || dailydiemform.value.data[GlobalIndex(i)].boardingbybank  != 1">
                <fieldset>
                  <mat-form-field floatLabel="never">
                    <mat-label>Declaration of boarding</mat-label>
                    <mat-select formControlName="declaration" [disabled]="approver || enb_all_exbdetails">
                      <mat-option *ngFor="let declare of declareList" (click)="geteligibleamount(i)"
                        [value]="declare.value">
                        {{declare.name}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </fieldset>
              </td>
              <td>
                <fieldset [disabled]="approver || enb_all_exbdetails">
                  <mat-form-field floatLabel="never">
                    <input matInput formControlName="isleave" (keydown)="nospacewithperiod($event);zero($event)"
                      (keypress)="keyPressAmounts($event)" (change)="geteligibleamount(i)" placeholder="No of leaveDays"
                      autocomplete="off" required>
                  </mat-form-field>
                </fieldset>
              </td>
              <td>
                <fieldset [disabled]="true">
                  <mat-form-field floatLabel="never"  style="width: 130px;">
                    <input matInput placeholder="Eligible Amount" formControlName="eligibleamount"
                      required>
                  </mat-form-field>
                </fieldset>
              </td>
              <td>
                <fieldset [disabled]="approver || enb_all_exbdetails">
                  <mat-form-field floatLabel="never" style="width: 120px;">
                    <input matInput placeholder="Claim Amount" appNumberOnly (keydown)="onKeyDown($event)"
                       formControlName="claimedamount" required>
                  </mat-form-field>
                </fieldset>
              </td>
              <td *ngIf="enb_all_exbdetails">
                <mat-form-field  style="width: 250px;">
                  <input matInput placeholder="GST No"  (keydown)="kyenbdata($event)"
                     formControlName="gstno">
                </mat-form-field>
              </td>
              <td *ngIf="enb_all_exbdetails">
               
                <mat-form-field style="width: 300px;">
                  <mat-label>Invoice Date</mat-label>
                  <input matInput [matDatepicker]="picker_n"  formControlName="invoicedate">
                  
                  <mat-datepicker-toggle matSuffix [for]="picker_n"></mat-datepicker-toggle>
                  <mat-datepicker #picker_n></mat-datepicker>
                </mat-form-field>
              </td>
              <td *ngIf="enb_all_exbdetails">
                <mat-form-field style="width: 125px;" >
                  <input matInput placeholder="Invoice No"  (keydown)="kyenbdata($event)"
                     formControlName="invoiceno">
                </mat-form-field>
              </td>
              <td *ngIf="!approver">
                <button mat-icon-button 
                  (click)="removeSection(i)">
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
              <td *ngIf="approver && applevel == 2">
                <fieldset [disabled]="statusid > 2">
                  <mat-form-field floatLabel="never" style="width: 120px;">
                    <input matInput placeholder="Approved Amount" (keydown)="nospace($event);zero($event)" appNumberOnly
                      formControlName="approvedamount" (keypress)="keyPressAmounts($event)" autocomplete="off" required>
                  </mat-form-field>
                </fieldset>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- <div class="pagination">
          <pagination-controls responsive="true" (pageChange)="p = $event"></pagination-controls>
        </div> -->
      </div>
    </form>
    <fieldset [disabled]="true"></fieldset>
    <div class="col-md-12 text-center" style="margin-top: 50px;">
      <button *ngIf='!approver' type="submit" [disabled]="dailydiemform.get('data')['controls'].length== 0"
       style="border-radius: 40px;margin-left: 10px;" (click)="submitfunction()"
        class="btn btn-outline-primary">Submit</button>

      <button *ngIf='applevel == 2 && statusid == 2' type="button" (click)="Approve()" class="btn btn-outline-primary"
        style="border-radius: 40px;margin-left: 10px;">Approve</button>
      <button type="button" class="btn btn-outline-primary" (click)="back()"
        style="border-radius: 40px;margin-left: 10px;">Back</button>
    </div>
  </div>
</div>
<ngx-spinner bdColor="rgba(0, 0, 0, 1.5)" size="default" type="la-ball-scale-multiple la-3x">
  <p style="color: white">Please Wait. </p>
</ngx-spinner>


<!-- <pre>
  {{dailydiemform.value | json }}
</pre> -->