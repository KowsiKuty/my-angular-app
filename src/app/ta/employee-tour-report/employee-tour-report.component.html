
<div style="margin-top: 40px;margin-left: 40px;">
    <h2>
        Tour Report
        </h2>
    <div class="row">
        <div class="col-12">
            <form [formGroup]="taempreportForm">
                <mat-form-field style="width:175px;">
                    <mat-label>Tour No</mat-label>
                    <input matInput formControlName="requestno" type="text">
                </mat-form-field>
                <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px;"
                color="primary" (click)="download()"><i matTooltip="Download" class="fa fa-download" aria-hidden="true"></i></button>
                <button class="btn btn-outline-primary" type="submit" style="border-radius:40px;margin-left: 15px;"
                color="primary" (click)="empreportSearch(1)"><i matTooltip="Search" class="fa fa-search" aria-hidden="true"></i></button>
                <button class="btn btn-outline-primary" type="clear" style="border-radius:40px;margin-left: 15px;"
                color="primary" (click)="reset()">Clear</button>
            </form>
        </div>
    </div>
    </div>
    
    
    <div class="table-responsive" >
        <table class="table table-bordered" fixed-header style="width: 95%;margin-top: 10px;margin-left:30px;overflow-x: hidden;">
        <thead class="table_header" style="text-align: left;">
          <tr>
          <th style="text-align: center;">S.No</th>
          <th style="text-align: center;">Tour NO</th>
          <th style="text-align: center;">Tour Request Date</th>
          <th style="text-align: center;">From Date</th>
          <th style="text-align: center;">To Date</th>
          <th style="text-align: center;">Reason</th>
          <th style="text-align: center;">Employee</th>
          <th style="text-align: center;">Designation</th>
          <th style="text-align: center;">Branch</th>
          <th style="text-align: center;">Approver</th>
          <th style="text-align: center;">Total Advance Amount</th>
          <th style="text-align: center;">Total Claim Amount</th>
          <th style="text-align: center;">Tour Status</th>
          <th style="text-align: center;">Advance Status</th>
          <th style="text-align: center;">Claim Status</th>
          <th style="text-align: center;">Tour Detail</th>
          <th style="text-align: center;">Tour Expense</th>
         
          
          </tr>
          </thead>
          <tbody>
              <tr *ngFor="let report of getempreportList; index as i">
              <td style="text-align: center;">{{(presentpage-1)*pageSize+i+1}}</td> 
              <td style="text-align: center;">{{report.requestno}}</td> 
              <td style="text-align: center;">{{report.requestdate}}</td>
              <td style="text-align: center;">{{report.startdate}}</td>
              <td style="text-align: center;">{{report.enddate}}</td>
              <td style="text-align: center;">{{report.reason}}</td> 
              <td style="text-align: center;">{{report.employee_name}}</td>
              <td style="text-align: center;">{{report.empdesignation}}</td>
              <td style="text-align: center;">{{report.branch_name}}</td>
              <td style="text-align: center;">{{report.approvedby}}</td> 
              <td style="text-align: center;">{{report.advanceamount}}</td>
              <td style="text-align: center;">{{report.claimedamount}}</td>
              <td style="text-align: center;">{{report.tour_status}}</td>
              <td style="text-align: center;">{{report.advance_status}}</td>
              <td style="text-align: center;">{{report.claim_status}}</td>
              <td style="text-align: center;color:blue;"><span class="fa fa-arrow-up" aria-hidden="true" (click)="gettourdetail(report)"></span></td>
              <td style="text-align: center;color:blueviolet;"><span class="fa fa-arrow-up" aria-hidden="true" (click)="gettourexpense(report)"></span></td>
            

            </tr>
             <tr *ngIf="getempreportList?.length==0; else paginationreport" class="NodataAlign"><td colspan="18" style="text-align: center;">No Records Found...</td></tr>
     <ng-template #paginationreport>
    <tr>
        <td colspan="4">Total Count:{{this.total_count}}</td>
        <td colspan="14">
        <div style="text-align:right;">
        <button mat-icon-button [disabled]="has_previous === false" color="primary" (click)="previousClick()">
            <mat-icon>arrow_back
            </mat-icon>
        </button> {{presentpage}}
        <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClick()">
            <mat-icon>arrow_forward
            </mat-icon>
        </button>
       </div>
    </td>
    </tr>
    </ng-template>
     </tbody>
    </table>
          
    </div>
     
  
  