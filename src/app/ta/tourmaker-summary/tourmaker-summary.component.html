<!-- <div *ngIf='onbehalfname!="" &&  onbehalfname!=undefined ' > -->
    <div style="margin-left: 0px;max-width: fit-content;margin-top: 2%;">
    <h2 style="margin-left: 32px;color: black;font-size: 20px;font-weight: 500px;">
        Tour ID Creation
    </h2>
     <div *ngIf='value === 0'>
    <h3 style="color: black;font-size: 18px;font-weight: 500px;margin-left: 32px;">
        On BeHalf Employee - {{onbehalfname}}
    </h3>
    </div>
    <div style="margin-top: 15px;margin-left: 25px;">
        <div class="row">
            <div class="col-12">
                <form [formGroup]="memoSearchForm" (ngSubmit)="searchClick()">
    
                    <mat-form-field style="width:10rem; margin-left: 20px; margin-left: 7px;">
                        <mat-label>Tour No</mat-label>
                        <input matInput placeholder="Tour No" formControlName="tourno"
                       
                             type="text" #inputRef 
                         
                          >
                    </mat-form-field>
                    <mat-form-field id="tasumspace" style="width:210px;">
                        <mat-label>Tour Requested Date</mat-label>
                        <input matInput readonly [matDatepicker]="picker1" (dateChange)="fromDateSelection($event.value)" 
                                placeholder="Request Date" autocomplete="off" formControlName="requestdate">
                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                    </mat-form-field>
                    <!-- <button mat-fab id="tasumspace" [disabled]="creatable"   (click)="tourMakerSearch()" color="primary">
                        <mat-icon>search</mat-icon>
                      </button>
                    <button mat-fab style="margin-left: 20px;" [disabled]="creatable" (click)="createtour()" color="primary" aria-label="Tour Maker">
                        <mat-icon>add</mat-icon>
                    </button>
                    <button class="btn btn-outline-primary" type="clear" [disabled]="creatable" style="border-radius:40px;margin-left: 15px;"
                    color="primary" (click)=reset()>Clear</button> -->

                    <button class="btn btn-outline-success"  id="tasumspace" [disabled]="creatable"   (click)="tourMakerSearch()"
                    style="border-radius:40px;margin-left:5%" color="primary" matTooltip="Tour Search"><i class="fa fa-search"
                        aria-hidden="true"></i></button>
                        <!-- <button mat-icon-button="button">
                    <mat-icon style="border-radius:40px;font-size: 30px;" aria-label="search" matTooltip="Tour Search" (click)="tourMakerSearch()">search</mat-icon>
                  </button> -->
                <button class="btn btn-outline-success" (click)=reset() [disabled]="creatable"
                    style="border-radius:40px;margin-left:3%">Clear</button>
                <button type="button" class="btn btn-outline-success" [disabled]="creatable" (click)="createtour()" style="border-radius:40px;margin-left:3%;" matTooltip="Create Tour"><span
                        class="fa fa-plus"></span>
                    </button>
                    <!-- <button class="btn btn-outline-success" [routerLink]='"/ta/ta_summary"' style="border-radius:40px;margin-left:3%"> Back

                    </button> -->
                </form>
            </div>
        </div>
    
        <div class="table-responsive">
        <table class="table table-bordered" fixed-header style="margin-top: 10px;">
        <thead class="table_header">
        <tr>
        <th>S.No</th>
        <th>Tour No</th>
        <th>Tour Requested Date</th>
        <th>From Date </th>
        <th>To Date</th>
        <th>Reason</th>
        <th>Branch</th>
        
        <th>Approver</th>
        <th  style="width: 5%;">Status</th>
        <th>Action</th>
        
        </tr>
        </thead>
        <tbody>
            <!-- <tr *ngFor="let tourmaker of getTourmakerList | paginate : {id:'page',itemsPerPage:10,currentPage:page,totalItems:200}; index as i">
            <td scope="row"  style="vertical-align: middle;"> {{(this.currentpage - 1)*pagesize +i+1 }}</td> -->
        <tr *ngFor="let tourmaker of getTourmakerList; index as i">
            <td> {{(currentpage - 1)*pagesize +i+1 }} </td>
            <td>{{tourmaker.requestno}}</td> 
            <td>{{tourmaker.requestdate}}</td>
            <td>{{tourmaker.startdate}}</td>
            <td>{{tourmaker.enddate}}</td>
            <td>{{tourmaker.reason}}</td>
            <td>({{tourmaker.branch_code}}) {{tourmaker.branch_name}}</td>
            <td>({{tourmaker.approver_data.code}}) {{tourmaker.approver_data.name}}</td>
            <td *ngIf='tourmaker.tour_status_id === 1'>Tour Request Submitted To Approver</td>
            <td *ngIf='tourmaker.tour_status_id === 2'>Tour Request Submitted To Approver</td>
            <td *ngIf='tourmaker.tour_status_id === 3'>Tour Request Approved</td>
            <td *ngIf='tourmaker.tour_status_id === 4'>Tour Request Rejected</td>
            <td *ngIf='tourmaker.tour_status_id === 5'>Tour Request Returned From Approver</td>
            <td *ngIf='tourmaker.tour_status_id === 6'>Tour Request Forwarded</td>
            <td *ngIf='tourmaker.tour_status_id === 7'>Tour Cancel Requested</td>
            <td *ngIf='tourmaker.tour_status_id === 8'>Tour Cancel Approved </td>

    
             <td><button mat-icon-button matTooltip="Tour Edit" class="iconbutton" color="primary"
                (click)="tourEdit(tourmaker)">
                
                <mat-icon style="color: blue;font-size: 30px;" aria-label="Edit">edit</mat-icon>
            </button>
            </td>
            <!-- <td *ngIf="getTourmakerList ?.length == 0"  colspan="10"> No Records found</td> -->
        </tr>
        </tbody>
        </table>
        <div *ngIf="getTourmakerList ?.length == 0" style="margin-left: 42%;">
            <h3>Sorry data not found!.. </h3>
        </div>
        <div class="row" *ngIf="isTourMakerpage">
            <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 5%;">
                <button mat-icon-button [disabled]="has_previous === false" color="primary"
                (click)="TourmakerpreviousClick()">
                <mat-icon >arrow_back</mat-icon>
                </button>
                {{currentpage}}
                <button mat-icon-button [disabled]="has_next === false" color="primary"
                (click)="TourmakernextClick()">
                <mat-icon >arrow_forward</mat-icon>
                </button>
                </div>
        </div>
        <!-- <pagination-controls id="page" (pageChange)="pagination($event)"></pagination-controls> -->
        </div> 
    </div> 
</div>