
<mat-tab-group>
    <mat-tab label="Tour Reason"> 
        <div style="margin-left: 0px;margin-top: 0px; " class="col-md-12" #tavelreasons>
            <!-- <h2>Tour Reason</h2> -->
            <div class="row">
                <div style="margin-left:0px" class="col-12">
                    <form [formGroup]="reasonSearchForm">
                        <mat-form-field style="width:250px;">
                            <mat-label> Tour Reason Name</mat-label>
                            <input matInput placeholder="Name" formControlName="expname">
                        </mat-form-field>
    
                        <button class="btn btn-outline-success" (click)="reasonSearch()" type="submit"
                            style="border-radius:40px;margin-left: 15px;" color="success"><i class="fa fa-search"
                                aria-hidden="true"></i></button>
                            <button type="button" class="btn btn-outline-success" data-toggle="modal"
                            data-target="#travelreasonaddmodal" style="border-radius:40px;margin-left: 15px"><span
                                class="fa fa-plus"></span>
                            </button>
                            <button class="btn btn-outline-success" (click)="resetform()" type="clear" style="border-radius:40px;margin-left: 15px;"
                                color="success">Clear</button>
                    </form>
                </div>
            </div>
    
        </div>
        <div class="table-responsive" style="width:98%;margin-top: 1%;">
            <table class="table" style="margin-top: 10px;width: 100%;" id='commonstyle'>
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Tour Reason Name</th>
                        <th>Code</th>
                        <th>Edit</th>
                        <th>Delete</th>
    
                    </tr>
                </thead>
                <tr *ngFor="let reasons of travelreasons;index as i">
                    <td>{{(currentpage - 1)*pagesize +i+1 }}</td>
                    <td>{{reasons.name}}</td>
                    <td>
                        {{reasons.code}}
                    </td>
                    <td>
                        <button mat-icon-button data-toggle="modal" (click)="edittravelreasons(reasons)"
                            data-target="#travelreasoneditmodal">
                            <mat-icon>edit</mat-icon>
                        </button>
                    </td>
                    <td>
                        <button mat-icon-button (click)="deletereason(reasons.id)">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </td>
    
                </tr>
                <tr *ngIf="travelreasons?.length==0; else gstpagination" class="NodataAlign"><td colspan="19" style="text-align: center;">No Records Found...</td></tr>
                <ng-template #gstpagination>
               <tr>
                <td colspan="4">Total Count:{{this.totalcount}}</td>
               <td colspan="15">
               <div style="text-align:right;">
                   <button mat-icon-button [disabled]="has_previous=== false" color="primary" (click)="previousClick()">
                       <mat-icon>arrow_back
                       </mat-icon>
                   </button>  {{currentpage}}
                   <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClick()">
                       <mat-icon>arrow_forward
                       </mat-icon>
                   </button>
               </div>
               </td>
               </tr>
               </ng-template>
          
    
            </table>
            <!-- <div *ngIf="travelreasons?.length==0; else paginationsummary" class="NodataAlign text-center">No Records
                Found...
            </div>
            <ng-template #paginationsummary>
                <div class="cursor" style="font-size: small;text-align:right; margin-bottom:100px;float: right;">
                    <button mat-icon-button [disabled]="has_previous === false" color="primary" (click)="previousClick()">
                        <mat-icon>arrow_back
                        </mat-icon>
                    </button> {{currentpage}}
                    <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClick()">
                        <mat-icon>arrow_forward
                        </mat-icon>
                    </button>
                </div>
            </ng-template> -->
        </div>
    
    </mat-tab>
    <mat-tab label="Tour Expense"> 
        <div style="margin-left: 0px;margin-top: 20px; " class="col-md-12">
            <!-- <h2>Tour Expense</h2> -->
            <div class="row">
                <div style="margin-left:0px" class="col-12">
                    <form [formGroup]="expenseSearchForm">
                        <mat-form-field style="width:250px;">
                            <mat-label>Tour Expense Name</mat-label>
                            <input matInput placeholder="Name" formControlName="expname">
                        </mat-form-field>
        
                        <button class="btn btn-outline-success" (click)="expenseSearch()" type="submit"
                            style="border-radius:40px;margin-left: 15px;" color="success"><i class="fa fa-search"
                                aria-hidden="true"></i></button>
                            <button type="button" class="btn btn-outline-success" data-toggle="modal"
                                data-target="#expenseaddmodal" style="border-radius:40px;margin-left: 15px"><span
                                    class="fa fa-plus"></span>
                                </button>
                                <button class="btn btn-outline-success" (click)="resetform_tourexp()" type="clear" style="border-radius:40px;margin-left: 15px;"
                                color="success">Clear</button>
        
                    </form>
                </div>
            </div>
        </div>
        <div class="table-responsive" style="width:98%;margin-top: 1%;">
            <table class="table" style="margin-top: 10px;width: 100%;" id='commonstyle'>
                <thead class="table_header">
                    <tr>
                        <th>S.No</th>
                        <th>Tour Expense Name</th>
                        <th>Code</th>
                        <th>Edit</th>
                        <th>Delete</th>
        
                    </tr>
                    </thead>
        
                    <tr *ngFor="let expensess of travelexpenses;index as i">
                        <td>{{(currentpage - 1)*pagesize +i+1 }}</td>
                        <td>{{expensess.name}}</td>
                        <td>{{expensess.code}}</td>
                        <td>
                            <button mat-icon-button data-toggle="modal" data-target="#expenseeditmodal"
                                (click)="edittravelexpense(expensess)">
                                <mat-icon>edit</mat-icon>
                            </button>
                        </td>
                        <td>
                            <button mat-icon-button (click)="deleteexpense(expensess.id)">
                                <mat-icon>delete</mat-icon>
                            </button>
                        </td>
        
                    </tr>
                    <tr *ngIf="travelexpenses?.length==0; else gstpagination" class="NodataAlign"><td colspan="19" style="text-align: center;">No Records Found...</td></tr>
                    <ng-template #gstpagination>
                   <tr>
                    <td colspan="4">Total Count:{{this.totalcount}}</td>
                   <td colspan="15">
                   <div style="text-align:right;">
                       <button mat-icon-button [disabled]="has_previous=== false" color="primary" (click)="previousClick()">
                           <mat-icon>arrow_back
                           </mat-icon>
                       </button>  {{currentpage}}
                       <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClick()">
                           <mat-icon>arrow_forward
                           </mat-icon>
                       </button>
                   </div>
                   </td>
                   </tr>
                   </ng-template>
                
        
            </table>
            <!-- <div *ngIf="travelexpenses?.length==0; else paginationsummarys" class="NodataAlign text-center">No Records
                Found...
            </div>
            <ng-template #paginationsummarys>
                <div class="cursor" style="font-size: small;text-align:right; margin-bottom:100px;float: right;">
                    <button mat-icon-button [disabled]="has_previous === false" color="primary" (click)="previousClicks()">
                        <mat-icon>arrow_back
                        </mat-icon>
                    </button> {{currentpage}}
                    <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextClicks()">
                        <mat-icon>arrow_forward
                        </mat-icon>
                    </button>
                </div>
            </ng-template> -->
            </div>
    </mat-tab>

</mat-tab-group>

<div>
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="travelreasoneditmodal" aria-hidden="true"
        id="travelreasoneditmodal" #travelreasoneditclose>
        <div class="modal-dialog modal-xl" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header" style="background:#DDEFDD;">
                    <h2 class="modal-title" style="color:black ;">Edit Tour Reason</h2>
                    <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div style="margin-left: 70px;margin-right: 80%;margin-top: 2%; width: 40%;">

                    <form [formGroup]="reasoneditform">
                        <table>
                            <div>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 250px;">
                                            <mat-label>Tour Reason Name</mat-label>
                                            <input matInput placeholder="Name" name="name" formControlName="name"
                                                autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field style="width: 175px;margin-left: 50px;">
                                            <mat-label>Code</mat-label>
                                                <input matInput placeholder="Code" name="code" formControlName="code"
                                                autocomplete="off">

                                        </mat-form-field>
                                    </td>


                                </tr>
                                <tr>
                                    <div style="margin-bottom: 5%;">
                                        <button type="submit" style="border-radius: 40px;margin-left: 10px;"
                                            class="btn btn-outline-primary" (click)="submitForm()">Update</button>
                                        <button type="button" class="btn btn-outline-primary" data-dismiss="modal"
                                            style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                                    </div>
                                </tr>
                            </div>
                        </table>

                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="travelreasonaddmodal" aria-hidden="true"
        id="travelreasonaddmodal" #travelreasonaddclose>
        <div class="modal-dialog modal-xl" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header" style="background:#DDEFDD;">
                    <h2 class="modal-title" style="color:black ;">Add Tour Reason</h2>
                    <button type="button" #closeaddreason class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span> </button>
                </div>

                <div style="margin-left: 70px;margin-right: 80%;margin-top: 2%; width: 40%;">

                    <form [formGroup]="reasonform">
                        <table>
                            <div>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 250px;">
                                            <mat-label>Tour Reason Name</mat-label>
                                            <input matInput placeholder="Name" name="name" formControlName="name"
                                                autocomplete="off">
                                        </mat-form-field>

                                    </td>
                                    <td>
                                        <mat-form-field style="width: 175px;margin-left: 50px;">
                                            <mat-label>Code</mat-label>

                                            <input matInput placeholder="Code" name="code" formControlName="code"
                                                autocomplete="off">
                                            
                                               

                                        </mat-form-field>
                                    </td>


                                </tr>
                            </div>
                        </table>
                        <tr>
                            <div style="margin-bottom: 5%;">
                                <button type="submit" style="border-radius: 40px;margin-left: 10px;"
                                    class="btn btn-outline-primary" (click)="addsubmitForm()">Submit</button>
                                <button type="button" class="btn btn-outline-primary" data-dismiss="modal"
                                    style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                            </div>
                        </tr>
                    </form>
                </div>
            </div>
        </div>
    </div>



</div>

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="expenseeditmodal" #travelexpenseeditclose
    aria-hidden="true" id="expenseeditmodal">
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Edit Tour Expense</h2>
                <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 2%; width: 40%;">

                <form [formGroup]="expenseeditform">
                    <table>
                        <div>
                            <tr>
                                <td>
                                    <mat-form-field style="width: 250px;">
                                        <mat-label>Tour Expense Name</mat-label>
                                        <input matInput placeholder="Name" name="name" formControlName="name"
                                            autocomplete="off">
                                    </mat-form-field>
                                </td>
                                <td>
                                    <mat-form-field style="width: 175px;margin-left: 50px;">
                                        <mat-label>Code</mat-label>
                                        <input matInput placeholder="Code" name="code" formControlName="code"
                                            autocomplete="off">

                                    </mat-form-field>
                                </td>


                            </tr>
                            <tr>
                                <div style="margin-bottom: 5%;">
                                    <button type="submit" style="border-radius: 40px;margin-left: 10px;"
                                        class="btn btn-outline-primary" (click)="editsubmitForm()">Submit</button>
                                    <button type="button" class="btn btn-outline-primary" data-dismiss="modal"
                                        style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                                </div>
                            </tr>
                        </div>
                    </table>

                </form>
            </div>

        </div>
    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="expenseaddmodal" #travelexpenseaddclose
    aria-hidden="true" id="expenseaddmodal">
    <div class="modal-dialog modal-xl" style="width: 60%;">
        <div class="modal-content">
            <div class="modal-header" style="background:#DDEFDD;">
                <h2 class="modal-title" style="color:black ;">Add Tour Expense</h2>
                <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div style="margin-left: 70px;margin-right: 80%;margin-top: 2%; width: 40%;">

                <form [formGroup]="expenseform">
                    <table>
                        <div>
                            <tr>
                                <td>
                                    <mat-form-field style="width: 250px;">
                                        <mat-label>Tour Expense Name</mat-label>
                                        <input matInput placeholder="Name" name="name" formControlName="name"
                                            autocomplete="off">
                                    </mat-form-field>
                                </td>
                                <td>
                                    <mat-form-field style="width: 175px;margin-left: 50px;">
                                        <mat-label>Code</mat-label>
                                        <input matInput placeholder="Code" name="code" formControlName="code"
                                            autocomplete="off">

                                    </mat-form-field>
                                </td>


                            </tr>
                            <tr>
                                <div style="margin-bottom: 5%;">
                                    <button type="submit" style="border-radius: 40px;margin-left: 10px;"
                                        class="btn btn-outline-primary" (click)="addsubmitForms()">Submit</button>
                                    <button type="button" class="btn btn-outline-primary" data-dismiss="modal"
                                        style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                                </div>
                            </tr>
                        </div>
                    </table>

                </form>
            </div>

        </div>
    </div>
</div>