<br>
<!-- <div style="margin-left:20px">
    <h2 style="font-weight: 500;">
        Holiday Diem Master
    </h2>
</div> -->
<div class="row">
    <div style="margin-left:20px" class="col-12">
        <form [formGroup]="citySearchForm">
            <td>
                <mat-form-field style="width: 15rem;">
                    <mat-label>Salary Grade</mat-label>
                    <input matInput formControlName="salarygrade">
                </mat-form-field>
            </td>
            <td>
                <mat-form-field style="width: 15rem;margin-left: 22px;">
                    <mat-label>City</mat-label>
                    <input matInput formControlName="city">
                </mat-form-field>
            </td>
            <td>
            <button class="btn btn-outline-success" type="submit" style="border-radius:40px;margin-left: 15px;"
                color="success"><i class="fa fa-search" aria-hidden="true" (click)="citySearch()"></i></button>
            <button class="btn btn-outline-success" type="clear" (click)=" resetform()" style="border-radius:40px;margin-left: 15px;"
                color="success">Clear</button>
            
                <button type="button" class="btn btn-outline-success" data-toggle="modal"
                data-target="#createmodalforholidaydeim" style="border-radius:40px;margin-left: 15px"><span
                    class="fa fa-plus"></span>
                </button>
            </td>
        </form>
    </div>
</div>

<!-- -->
<div class="Container" style="margin-left: 20px;">
    <div class="table-responsive" style="margin-top: 1%;width: 90%; -ms-overflow-style: none;">
        

        <div class="container">
            <div class="row">
                <div class="table-responsive">
                    <table class="table table-bordered" fixed-header
                        style="width: 95%;margin-top: 10px;overflow-x: hidden;">
                        <thead class="table_header" style="text-align: left;">
                            <tr>
                                <th style="text-align: center;">S.No</th>
                                <th style="text-align: center;">Salary Grade</th>
                                <th style="text-align: center;">City</th>
                                <th style="text-align: center;">Amount</th>
                                <th style="text-align: center;">Applicable To</th>
                                <th style="text-align: center;">Edit</th>
                                <th style="text-align: center;">Action</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let holidaydiem of getHolidayDiemList; index as ind">
                                <td style="text-align: center;">{{(pagination.index-1)*limit+ind+1}}</td>
                                <td style="text-align: center;">{{holidaydiem.salarygrade}}</td>
                                <td style="text-align: center;">{{holidaydiem.city}}</td>
                                <td style="text-align: center;">{{holidaydiem.amount}}</td>
                                <td style="text-align: center;">{{holidaydiem.applicableto}}</td>
                                <td>
                                    <button mat-icon-button (click)="editholidaydiem(holidaydiem)" data-toggle="modal"
                                        data-target="#editmodalforholidaydeim">
                                        <mat-icon>edit</mat-icon>
                                    </button>
                                </td>
                                <td style="text-align: center;"><button mat-icon-button matTooltip="Delete"
                                        class="iconbutton" (click)="deletediem(holidaydiem.id)" color="primary">
                                        <mat-icon style="color: gray;" aria-label="Delete">delete</mat-icon>
                                    </button>
                                </td>
                            </tr>
                            <tr *ngIf="getHolidayDiemList?.length==0; else gstpagination" class="NodataAlign"><td colspan="19" style="text-align: center;">No Records Found...</td></tr>
                            <ng-template #gstpagination>
                           <tr>
                               <td colspan="4">Total Count:{{this.totalcount}}</td>
                           <td colspan="15">
                           <div style="text-align:right;">
                               <button mat-icon-button [disabled]="has_previous === false" color="primary" (click)="prevpage()">
                                   <mat-icon>arrow_back
                                   </mat-icon>
                               </button> {{pagination.index}}
                               <button mat-icon-button [disabled]="has_next === false" color="primary" (click)="nextpage()">
                                   <mat-icon>arrow_forward
                                   </mat-icon>
                               </button>
                           </div>
                           </td>
                           </tr>
                           </ng-template>
                        </tbody>
                    </table>
                    <!-- <div *ngIf="getHolidayDiemList?.length==0; else paginationsummary" class="NodataAlign text-center">
                        No Records
                        Found...
                    </div> -->
                    <!-- <ng-template #paginationsummary>
                        <div class="cursor"
                            style="font-size: small;text-align:right; margin-bottom:100px;float: right;">
                            <button mat-icon-button [disabled]="has_previous === false" color="primary"
                                (click)="previousClick()">
                                <mat-icon>arrow_back
                                </mat-icon>
                            </button> {{currentpage}}
                            <button mat-icon-button [disabled]="has_next === false" color="primary"
                                (click)="nextClick()">
                                <mat-icon>arrow_forward
                                </mat-icon>
                            </button>
                        </div>
                    </ng-template> -->

                    <!-- <div class="col-sm-12" style="font-size:x-small;text-align:right;padding-right:2%;">
                        <button (click)="prevpage()" mat-icon-button [disabled]="pagination.has_previous === false"
                            color="primary">
                            <mat-icon class="customIconSize">arrow_back</mat-icon>
                        </button>
                        {{pagination.index}}
                        <button (click)="nextpage()" mat-icon-button [disabled]="pagination.has_next === false"
                            color="primary">
                            <mat-icon class="customIconSize">arrow_forward</mat-icon>
                        </button>
            
                    </div> -->
                    <br>
                    <br>
                    <br>
                    <br>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
        id="createmodalforholidaydeim">
        <div class="modal-dialog modal-xl" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header" style="background:#DDEFDD">
                    <h2 class="modal-title" style="color:black ;">Add Holiday Diem</h2>
                    <button type="button" #closebutton class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div style="margin-left: 70px;margin-right: 80%;margin-top: 2%; width: 40%;">

                    <form #taholidaydiemForm="ngForm">
                        <table>
                            <div>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 175px;">
                                            <mat-label>Salary Grade</mat-label>
                                            <input matInput placeholder="Salary Grade" name="salarygrade"
                                                [(ngModel)]="holidaydiemmodel.salarygrade" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field style="width: 175px;margin-left: 50px;">
                                            <mat-label>City</mat-label>
                                            <input matInput placeholder="City" name="city"
                                                [(ngModel)]="holidaydiemmodel.city" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field style="width: 175px;margin-left: 50px;">
                                            <mat-label>Amount</mat-label>
                                            <input matInput placeholder="Amount" name="amount"
                                                [(ngModel)]="holidaydiemmodel.amount" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 175px;">
                                            <mat-label>Applicable To</mat-label>
                                            <input matInput placeholder="Applicable To" name="applicableto"
                                                [(ngModel)]="holidaydiemmodel.applicableto" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </tr>
                            </div>
                        </table>
                        <tr>
                            <div style="margin-bottom: 5%;">
                                <button type="submit" style="border-radius: 40px;margin-left: 10px;"
                                    class="btn btn-outline-primary" (click)="submitForm()">Submit</button>
                                <button type="button" class="btn btn-outline-primary" (click)="OnCancelclick()"
                                    data-dismiss="modal" style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                            </div>
                        </tr>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
        id="editmodalforholidaydeim">
        <div class="modal-dialog modal-xl" style="width: 60%;">
            <div class="modal-content">
                <div class="modal-header" style="background:#DDEFDD">
                    <h2 class="modal-title" style="color:black ;">Edit Holiday Diem</h2>
                    <button type="button" #closebuttons class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div style="margin-left: 70px;margin-right: 80%;margin-top: 2%; width: 40%;">

                    <form [formGroup]="holidaydiemeditform">
                        <table>
                            <div>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 175px;">
                                            <mat-label>Salary Grade</mat-label>
                                            <input matInput placeholder="Salary Grade" name="salarygrade"
                                            formControlName="salarygrade" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field style="width: 175px;margin-left: 50px;">
                                            <mat-label>City</mat-label>
                                            <input matInput placeholder="City" name="city"
                                            formControlName="city" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field style="width: 175px;margin-left: 50px;">
                                            <mat-label>Amount</mat-label>
                                            <input matInput placeholder="Amount" appNumberOnly
                                            formControlName="amount" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <mat-form-field style="width: 175px;">
                                            <mat-label>Applicable To</mat-label>
                                            <input matInput placeholder="Applicable To" name="applicableto"
                                            formControlName="applicableto" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </tr>
                            </div>
                        </table>
                        <tr>
                            <div style="margin-bottom: 5%;">
                                <button type="submit" style="border-radius: 40px;margin-left: 10px;"
                                    class="btn btn-outline-primary" (click)="editForm()">Update</button>
                                <button type="button" class="btn btn-outline-primary" 
                                    data-dismiss="modal" style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                            </div>
                        </tr>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>