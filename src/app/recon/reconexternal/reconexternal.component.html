<section class="left-adjust">
  <div *ngIf="uploadshow == false">
    <div *ngIf="mainpages">
      <div class="toggle-div" style="margin-bottom: 10px;margin-top: 12px;">
        <p
          [ngClass]="{ 'toggle-p-active': showToggle1 }"
          (click)="reconordcs_toggle(1)"
        >
         Recon
        </p>
        <p
          [ngClass]="{ 'toggle-p-active': showToggle2 }"
          (click)="reconordcs_toggle(2)"
        >
          DCS
        </p>
          <p
          [ngClass]="{ 'toggle-p-active': showToggle3 }"
          (click)="reconordcs_toggle(3)"
        >
          Recon Process
        </p>
      </div>
      <div >
        <div *ngIf="mainscreen" style="margin-top: 10px;">
    
          <!-- <mat-card> -->
          <form [formGroup]="mainform">
            <div class="filter-aling">
              <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label *ngIf="dcs_recon===0">Recon Name</mat-label>
                  <mat-label *ngIf="dcs_recon===1">DCS Name</mat-label>
                  <mat-label *ngIf="dcs_recon===2">Recon Process</mat-label>
                  <input matInput formControlName="template_name" required />
                </mat-form-field>
              </div>
  
              <!-- <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label> File1 Input Data</mat-label>
                  <mat-select formControlName="file1_type">
                    <mat-option *ngFor="let x of inputdataarray" [value]="x.id">
                      {{ x.file1_type }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div> -->
  
              <lib-vs-dynamicform-cmp
                id="matInput-size"
                [InputFields]="file1input"
                (dataEvent)="file1inputdata($event)"
                [ResetForm]="restformfile1"
              ></lib-vs-dynamicform-cmp>
  
              <!-- <div id="matInput-size">
                <mat-form-field appearance="outline">
                  <mat-label> File2 Input Data</mat-label>
                  <mat-select formControlName="file2_type">
                    <mat-option *ngFor="let x of inputdataarray" [value]="x.id">
                      {{ x.file1_type }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div> -->
  
              <lib-vs-dynamicform-cmp
                id="matInput-size"
                [InputFields]="file2input"
                (dataEvent)="file2inputdata($event)"
                [ResetForm]="restformfile2"
              ></lib-vs-dynamicform-cmp>
  
              <!-- <div class="row" style="margin-left: 5px; margin-top: 20px"> -->
              <!-- <span>
            <p style="font-size: 15px; font-weight: 500">Periodicity:</p>
          </span>
          <span style="margin-left: 15px">
            <mat-radio-group
              formControlName="periodicity"
              aria-label="Select an option"
            >
              <mat-radio-button value="1">Yes</mat-radio-button>
              <mat-radio-button value="0" style="margin-left: 10px"
                >No</mat-radio-button
              >
            </mat-radio-group>
          </span> -->
              <!-- <span
              style="margin-left: 30px; margin-top: -10px; margin-bottom: 10px"
            > -->
            <div style="margin-top: 5px;">FAS consolidate</div>
            <div style="margin-top: 5px;">
              <mat-slide-toggle [formControl]="fas_consolidate_form" (change)="fasconsolidate($event)"></mat-slide-toggle>
            </div>
            <div style="margin-top: 5px;">CBS consolidate</div>
            <div style="margin-top: 5px;">
              <mat-slide-toggle [formControl]="cbs_consolidate_form" (change)="cbsconsolidate($event)"></mat-slide-toggle>
            </div>
              <div id="matInput-size">
                <button
                  class="btn btn-outline-primary"
                  style="border-radius: 40px"
                  (click)="proceedmainscreen()"
                >
                  Save
                </button>
              </div>
              <button
             
             
              id="buttonsSubmit"
              aria-label="reset"
              (click)="resetsummary()"
              class="btn btn-outline-primary"
              style="margin-left: 14px;border-radius: 50px;display: flex;justify-content: center;align-items: center;width: 40px;height: 40px;"
            >
              <mat-icon>replay</mat-icon>
            </button>
            
              <!-- </span> -->
              <!-- </div> -->
            </div>
          </form>
          <!-- </mat-card> -->
        </div>
        <div *ngIf="dcs_recon_form" style="margin-top: 5px">
          <div>
            <!-- <mat-card> -->
            <h3><b>Upload file Summary</b></h3>
            <!-- <hr /> -->
            <div style="margin-top: 10px;display: flex;gap: 10px;">
              <form [formGroup]="fileuploadsearch">
                <div>
                  <lib-vs-search-cmp
                    id="matInput-size"
                    [SearchArr]="uploadsearch"
                    [Outputtype]="searchvar2"
                    (dataoutput)="searchupload($event)"
                  >
                  </lib-vs-search-cmp>
                  <!-- <div class="col-md-3">
                <mat-form-field style="width: 250px">
                  <mat-label>Integrity Name</mat-label>
                  <input matInput formControlName="intigrity" />
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field style="width: 250px">
                  <mat-label>Status</mat-label>
                  <input matInput formControlName="status" />
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <button
                  (click)="fileupload_search()"
                  class="btn btn-outline-success"
                  id="rmubtn"
                  style="border-radius: 25px; margin-left: 35px"
                  color="primary"
                >
                  <i class="fa fa-search" aria-hidden="true"></i>
                </button>
                <button
                  class="btn btn-outline-primary"
                  ngbTooltip="Clear Entries"
                  style="
                    margin-left: 20px;
                    border-radius: 25px;
                    margin-left: 35px;
                  "
                  id="rmubtn"
                  (click)="fileupload_reset()"
                >
                  Clear
                </button> -->
                  <!-- <button type="button" class="btn btn-outline-success" 
                style="border-radius:40px;text-align: center; margin-left: 35px;" data-toggle="modal" data-target="#fileuploadpopup"><span class="fa fa-plus">&nbsp;</span></button> -->
                  <!-- </div> -->
                </div>
              </form>
              <div style="margin-top: 5px;">
                <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="consolidationpopup()" *ngIf="dcs_recon===1">Consolidation</button>
              </div>
            </div>
            <lib-vs-cbox-summary
              [SummaryDetails]="SummaryinterintegrityData"
              [SummaryApiObj]="SummaryApinterintegrityObjNew"
            ></lib-vs-cbox-summary>
            <!-- <div class="table-responsive">
          <table
            class="table table-bordered"
            id="historytable"
            style="text-align: center"
          >
            <thead class="table_header">
              <tr>
                <th>S.No</th>
                <th>Integrity Name</th>
                <th>Last Run Date</th>
                <th>Scheduler Trigger Date</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody
              *ngFor="let sum of summarylists; index as ind"
              style="padding: 5px"
            >
              <tr>
                <td>{{ (pagination.index - 1) * limit + ind + 1 }}</td>
                <td>{{ sum.integrity_name }}</td>
                <td>{{ sum.run_date }}</td>
                <td>{{ sum.trigger_date }}</td>
                <td>
                  <mat-slide-toggle
                    [(ngModel)]="sum.integrity_status"
                    (click)="deletetemplate(sum)"
                  ></mat-slide-toggle>
                </td>
                <td>
                  <mat-icon
                    style="cursor: pointer; font-size: 35px"
                    (click)="routetonextpage(sum)"
                    >arrow_right_alt</mat-icon
                  >
                </td>
              </tr>
            </tbody>
          </table>
          <div *ngIf="summarylists?.length == 0" style="text-align: center">
            <h3>Sorry data not found...</h3>
          </div>
          <div class="col-sm-12" style="font-size: x-small; text-align: right">
            <button
              (click)="prevpage()"
              mat-icon-button
              [disabled]="pagination?.has_previous === false"
              color="primary"
            >
              <mat-icon class="customIconSize">arrow_back</mat-icon>
            </button>
            <span style="font-size: 15px">{{ pagination?.index }}</span>
            <button
              (click)="nextpage()"
              mat-icon-button
              [disabled]="pagination?.has_next === false"
              color="primary"
            >
              <mat-icon class="customIconSize">arrow_forward</mat-icon>
            </button>
          </div>
        </div> -->
            <!-- </mat-card> -->
          </div>
        </div>
      </div>
    
     
    </div>
  </div>
</section>
<section class="right-adjust">
  <div *ngIf="uploadshow == true">
    <main>
      <div *ngIf="summarypage">
        <!-- <button class="keyboard" type="button" (click)="backtoTaskSummary()">
        <mat-icon>keyboard_backspace</mat-icon>
      </button> -->
        <div class="container-fluid">
          <div>
            <div class="filter-aling">
              <mat-icon style="cursor: pointer" (click)="backtomain()"
                >keyboard_backspace</mat-icon
              >
              <h3><b>Run Process</b></h3>
            </div>
            <form [formGroup]="externalform" class="runprocess2" style="margin-top: 20px;">
              <div class="filter-aling">
                <div *ngIf="externalpage" class="filter-aling">
                  <div id="matInput-size">
                    <mat-form-field appearance="outline">
                      <mat-label>Select Date</mat-label>
                      <input
                        matInput
                        required
                        [matDatepicker]="picker23"
                        placeholder="Date"
                        autocomplete="off"
                        formControlName="date"
                      />

                      <mat-datepicker-toggle
                        class="rmudatetoggle"
                        matSuffix
                        [for]="picker23"
                      >
                      </mat-datepicker-toggle>
                      <mat-datepicker #picker23></mat-datepicker>
                    </mat-form-field>
                  </div>

                  <div id="matInput-size" *ngIf="dcs_recon===0">
                    <mat-form-field
                      *ngIf="disable_gl !== 1"
                      appearance="outline"
                    >
                      <mat-label>GLNO</mat-label>
                      <input matInput formControlName="gl_no" />
                    </mat-form-field>
                  </div>

                  <div id="matInput-size" *ngIf="hidebranch !== 1 && dcs_recon===0" >
                    <mat-form-field appearance="outline">
                      <mat-label>Branch Code</mat-label>
                      <input matInput formControlName="branch_code" />
                    </mat-form-field>
                  </div>

                  <lib-vs-dynamicform-cmp
                    id="matInput-size"
                    [InputFields]="temp_field"
                    (dataEvent)="tempdatas($event)"
                    [ResetForm]="resettemplate"
                  ></lib-vs-dynamicform-cmp>
                </div>

                <div *ngIf="dd_show">
                  <lib-vs-dynamicform-cmp
                    id="matInput-size"
                    [InputFields]="temp_field"
                    (dataEvent)="tempdatas($event)"
                    [ResetForm]="resettemplate"
                  ></lib-vs-dynamicform-cmp>
                </div>
                <div class="btn_align">
                  <!-- <div class="row"> -->
                  <button
                    style="font-size: smaller"
                    type="button"
                    class="btn btn-outline-success"
                    (click)="runprocess()"
                    #closerunpopup
                  >
                    <!-- data-toggle="modal"
                data-target="#actionmodal" -->
                    Run Process
                  </button>
                  <!-- </div> -->
                  <!-- <div class="row"> -->
                  <button
                    style="font-size: smaller"
                    type="button"
                    class="btn btn-outline-info"
                    (click)="viewDataAndHistory(1)"
                    #closeviewpopup
                  >
                    <!-- data-toggle="modal"
                data-target="#viewData" -->
                    View Data
                  </button>
                  <button
                  *ngIf="dcs_recon===0"
                    style="font-size: smaller"
                    type="button"
                    class="btn btn-outline-primary"
                    (click)="addclick()"
                    #closeaddpopup
                  >
                    <!-- data-toggle="modal"
                data-target="#reconexternal" -->
                    Run With Account
                  </button>
                </div>
              </div>
            </form>
          </div>

          <!-- <div class="modal fade" id="reconexternal" tabindex="-1" role="dialog" 
      >
      <div class="modal-dialog  modal-lg" role="document">
          <div class="modal-content">
              <div class="modal-header" style="background:#DDEFDD;">
                  <h2 class="modal-title" style="color:black ;">Reconexternal</h2>
                  <button type="button" #closebuttons class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>

              <div style="margin-top: 2%;">
                <div class="modal-content">
                  <form [formGroup]="radiobuttonform">
          <div class="row">
            <div class="col-md-3">Multiple GL</div>
            <div class="col-md-9">
              <span >
                    <mat-checkbox  (change)="multipleglclick(1)"  [checked]="multiplecheckbox === 1" >Yes</mat-checkbox>
                    <mat-checkbox style="margin-left: 100px;"  [checked]="multiplecheckbox === 0"  (change)="multipleglclick(0)">No</mat-checkbox>
                  </span> 
              <span>
                <mat-radio-group
                  formControlName="radioOption"
                  aria-label="Select an option"
                >
                  <mat-radio-button value="1" (change)="multipleglclick(1)"
                    >Yes</mat-radio-button
                  >
                  <mat-radio-button
                    value="0"
                    style="margin-left: 100px"
                    (change)="multipleglclick(0)"
                    >No</mat-radio-button
                  >
                </mat-radio-group>
              </span>
            </div>
          </div>
          <div class="row" *ngIf="disable_gl !== 0">
            <div class="col-md-3">Compare GL</div>
            <div class="col-md-9">
              <span>
                    <mat-checkbox [checked]="hidecomparecheckbox===1"  (change)="compareglclick(1)">Yes</mat-checkbox>
                  <mat-checkbox style="margin-left: 100px;" [checked]="hidecomparecheckbox===0" (change)="compareglclick(0)">No</mat-checkbox>
                  </span> 
              <span>
                <mat-radio-group
                  formControlName="radioOptioncbs"
                  aria-label="Select an option"
                >
                  <mat-radio-button value="1" (change)="compareglclick(1)"
                    >Yes</mat-radio-button
                  >
                  <mat-radio-button
                    value="0"
                    style="margin-left: 100px"
                    (change)="compareglclick(0)"
                    >No</mat-radio-button
                  >
                </mat-radio-group>
              </span>
            </div>
          </div>
          <div class="row">
              <mat-radio-group
          #branchRadioGroup
          name="branch"
          [(ngModel)]="selectedOption"
        >
          <mat-radio-button value="whole" (click)="bankradioclick(1)"
            >Bank as a Whole</mat-radio-button
          >
          <mat-radio-button
            value="particular"
            style="margin-left: 14px"
            (click)="bankradioclick(0)"
            >Single Branch</mat-radio-button
          >
        </mat-radio-group>
          </div>
        </form>
      </div>
      </div>
    </div>
  </div>
  </div> -->

          <div
            class="modal fade"
            id="reconexternal"
            tabindex="-1"
            role="dialog"
          >
            <div
              class="modal-dialog modal-lg modal-dialog-centered"
              role="document"
            >
              <div class="modal-content">
                <div class="modal-header" style="background: #ddefdd">
                  <h2 class="modal-title" style="color: black">Recon Files</h2>
                  <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                <div class="modal-body" style="margin-top: 2%">
                  <form [formGroup]="radiobuttonform">
                    <div class="form-group row">
                      <label class="col-md-3 col-form-label">Run Account</label>
                      <div class="col-md-9">
                        <mat-checkbox
                          (change)="allglclick(1)"
                          [checked]="allcheckbox === 1"
                          >Yes</mat-checkbox
                        >
                        <mat-checkbox
                          (change)="allglclick(0)"
                          [checked]="allcheckbox === 0"
                          style="margin-left: 20px"
                          >No</mat-checkbox
                        >
                      </div>
                    </div>
                    <!-- Multiple GL Section -->
                    <div *ngIf="uploadshow1 == true">
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label"
                          >Multiple GL</label
                        >
                        <div class="col-md-9">
                          <mat-checkbox
                            (change)="multipleglclick(1)"
                            [checked]="multiplecheckbox === 1"
                            >Yes</mat-checkbox
                          >
                          <mat-checkbox
                            (change)="multipleglclick(0)"
                            [checked]="multiplecheckbox === 0"
                            style="margin-left: 20px"
                            >No</mat-checkbox
                          >
                        </div>
                      </div>

                      <!-- Compare GL Section -->
                      <div class="form-group row" *ngIf="disable_gl !== 0">
                        <label class="col-md-3 col-form-label"
                          >Compare GL</label
                        >
                        <div class="col-md-9">
                          <mat-checkbox
                            (change)="compareglclick(1)"
                            [checked]="hidecomparecheckbox === 1"
                            >Yes</mat-checkbox
                          >
                          <mat-checkbox
                            (change)="compareglclick(0)"
                            [checked]="hidecomparecheckbox === 0"
                            style="margin-left: 20px"
                            >No</mat-checkbox
                          >
                        </div>
                      </div>

                      <!-- Bank Selection Section -->
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label"
                          >Select Bank</label
                        >
                        <div class="col-md-9">
                          <mat-checkbox
                            (change)="banksradioclicks(1)"
                            [checked]="isWholeBank"
                          >
                            Bank as a Whole
                          </mat-checkbox>
                          <mat-checkbox
                            (change)="banksradioclicks(0)"
                            [checked]="isSingleBranch"
                            style="margin-left: 20px"
                          >
                            Single Branch
                          </mat-checkbox>
                        </div>
                      </div>

                      <!-- <div class="form-group row" >
                <label class="col-md-3 col-form-label">Select Bank</label>
                <div class="col-md-9">
                  <mat-radio-group name="branch" [(ngModel)]="selectedOption">
                    <mat-radio-button value="whole" (click)="bankradioclick(1)">Bank as a Whole</mat-radio-button>
                    <mat-radio-button value="particular" (click)="bankradioclick(0)" style="margin-left: 20px;">Single Branch</mat-radio-button>
                  </mat-radio-group>
                </div>
                </div>  -->
                    </div>

                    <div class="modal-footer" style="justify-content: flex-end">
                      <button
                        type="button"
                        class="btn btn-outline-primary"
                        data-dismiss="modal"
                        (click)="back()"
                        style="border-radius: 40px"
                      >
                        Back
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <!-- <div class="radstyle">
        <mat-radio-group
          #branchRadioGroup
          name="branch"
          [(ngModel)]="selectedOption"
        >
          <mat-radio-button value="whole" (click)="bankradioclick(1)"
            >Bank as a Whole</mat-radio-button
          >
          <mat-radio-button
            value="particular"
            style="margin-left: 14px"
            (click)="bankradioclick(0)"
            >Single Branch</mat-radio-button
          >
        </mat-radio-group>
      </div> -->
          <!-- <form class="overallsetup">
            <form [formGroup]="wisefinUpload" class="card-containers">
           
              <div style="display: flex; padding-top: 2%; gap: 15px">
                <h3 style="width: 18%"><b>File 1</b></h3>
                <input
                  id="sect"
                  style="
                    border-bottom-style: none;
                    color: black;
                    font-size: smaller;
                    padding-left: 2%;
                  "
                  type="file"
                  (change)="uploadchooses($event)"
                  name="filedatas"
                />
              </div>
           
              <div>
                <button
                  type="button"
                  matTooltip="Upload File"
                  class="btn btn-outline-success"
                  (click)="gluploads()"
                  style="border-radius: 25px; white-space: nowrap"
                >
                  <span class="fa fa-upload"></span>
                </button>
              </div>
           
            </form>

            <form [formGroup]="bankstmtupload" class="card-containers">
        

              <div style="display: flex; padding-top: 2%; gap: 15px">
                <h3 style="width: 18%"><b>File 2</b></h3>
               
                <input
                  id="sect"
                  style="
                    border-bottom-style: none;
                    color: black;
                    font-size: smaller;
                    padding-left: 2%;
                  "
                  type="file"
                  (change)="uploadchoose($event)"
                  name="filedata"
                />
              </div>
              <div>
                <button
                  type="button"
                  matTooltip="Upload File"
                  class="btn btn-outline-success"
                  (click)="bankstmtuploads()"
                  style="white-space: nowrap; border-radius: 25px"
                >
                  <span class="fa fa-upload"></span>
                </button>
              </div>
            </form>
          </form> -->
          <form>
            <div class="interTrans-cards" style="width: 100%">
              <mat-card style="width: 100%">
                <span style="font-weight: 600">{{fas_header_name}} Upload</span>
                <div style="text-align: center" *ngIf="fas_uploadxl">
                  <!-- <form
                    [formGroup]="wisefinUpload"
                    style="
                      display: flex;
                      align-items: center;
                      justify-content: flex-start;
                      gap: 10px;
                    "
                  >
                
                    <div
                      style="
                        border: 2px solid #d9d9d9;
                        padding: 10px;
                        border-radius: 4px;
                      "
                    >
                      <input
                        style="border: none !important"
                        id="sect"
                        type="file"
                        (change)="uploadchooses($event)"
                        name="filedatas"
                        formControlName="wisefinuploadfile"
                      />
                    </div>
        
                    <button
                      type="button"
                      style="white-space: nowrap;border-radius: 50px;"
                      class="btn btn-outline-primary"
                      (click)="gluploads()"
                    >
                      Upload File
                    </button>
         -->
                    <!-- <button class="btn btn-outline-success" (click)="tbsummary()">
                      Create Wisfin TB
                    </button> -->
        
                  <!-- </form> -->
                  <button type="button" class="btn btn-outline-primary" style="border-radius: 50px;" (click)="fileuploadpopup('uploadModal')" >
                    Upload File
                  </button>
                </div>
                <div *ngIf="fas_apicall" style="text-align: center">
                  <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="api_search(1)">
                    API Call
                  </button>
                </div>
                <div *ngIf="fas_dblink" style="text-align: center">
                  <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="db_search(1)">
                    DB Link
                  </button>
                </div>
              </mat-card>
        
              <mat-card style="width: 100%">
                <span style="font-weight: 600">{{cbs_header_name}} Upload</span>
                <div *ngIf="cbs_uploadxl" style="text-align: center">
                  <!-- <form
                    [formGroup]="bankstmtupload"
                    style="
                      display: flex;
                      align-items: center;
                      justify-content: flex-start;
                      gap: 10px;
                    "
                  >
        
                    <div
                      style="
                        border: 2px solid #d9d9d9;
                        padding: 10px;
                        border-radius: 4px;
                      "
                    >
                      <input
                        style="border: none !important"
                        id="sect"
                        type="file"
                        (change)="uploadchoose($event)"
                        name="filedata"
                        formControlName="cbsuploadfile"
                      />
                    </div>
        
                    <button
                      style="white-space: nowrap;border-radius: 50px;"
                      type="button"
                      class="btn btn-outline-primary"
                      (click)="bankstmtuploads()"
                    >
                      Upload File
                    </button>
        
                  </form> -->
                  <button type="button" class="btn btn-outline-primary" style="border-radius: 50px;"  (click)="fileuploadpopup('uploadModals')">
                    Upload File
                  </button>
                </div>
                <div *ngIf="cbs_apicall" style="text-align: center">
                  <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="api_search(2)">
                    API Call
                  </button>
                </div>
                <div *ngIf="cbs_dblink" style="text-align: center">
                  <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="db_search(2)">
                    DB Link
                  </button>
                </div>
              </mat-card>
            </div>
          </form>
          <div style="display: flex;gap:20px ;justify-content: end;margin-top:20px;">
            <!-- <div class="col-md-6 texpxleft">
          <div class="alignleft">
          <label class="fontbold">FAS Auto fetch</label>
          <button
            type="button"
            class="btn btn-outline-dark fetchdwnld"
            matTooltip="Upload"
            (click)="autofetchDownload()">
            <span class="fa fa-upload"></span>
          </button>
        </div>    
        </div> -->
            <!-- <div class="overreportallocation"> -->
            <!-- <b style="margin-top: 4px;">Overall : {{ new_fas_cbs_fetch_values?.overall }}</b> -->
            <!-- <h3 style="margin-left: 10px">Overall Report</h3>
              <button
                type="button"
                class="btn btn-outline-info overdwnld"
                matTooltip="Download Overall Report"
                (click)="overallreportdownload()"
              >
                <span class="fa fa-download"></span>
              </button>
            </div> -->
           
            <div *ngIf="dcs_recon===0" style="margin: 0 10px 0 0">Statement Report</div>
            <button
            *ngIf="dcs_recon===0"
            style="margin-top:-10px;margin-left: -20px;"
              type="button"
              class="btn btn-outline-info overdwnld"
              matTooltip="Download Statement Report"
              (click)="statementreport()"
            >
              <span class="fa fa-download"></span>
            </button>
          
              <div style="margin: 0 10px 0 0">Overall Report</div>
              <button
              style="margin-top:-10px;margin-left: -20px;"
                type="button"
                class="btn btn-outline-info overdwnld"
                matTooltip="Download Overall Report"
                (click)="overallreportdownload()"
              >
                <span class="fa fa-download"></span>
              </button>
            
          </div>

          <div class="row" style="margin-top: 0%">
            <!-- <div class="col-md-3">
                <form [formGroup]="brsconcile">
                <mat-form-field appearance="outline" style="width: 70%;margin-top: 3%;margin-left: 25px;">
                    <mat-label>From Date</mat-label>
                    <input matInput readonly [matDatepicker]="picker3" placeholder="Date" autocomplete="off"
                        formControlName="fromdate">
                    <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker3">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker3></mat-datepicker>
                </mat-form-field>
                </form>
            </div> -->
            <!-- <div class="col-md-2">
                <form [formGroup]="brsconcile">
                <mat-form-field appearance="outline" style="width: 70%;margin-top: 0%;margin-left: 25px;">
                    <mat-label> Date</mat-label>
                    <input matInput readonly [matDatepicker]="picker3" placeholder="Date" autocomplete="off"
                        formControlName="fromdate"  (dateChange)="arsfilterdate()">
                    <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker3">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker3></mat-datepicker>
                </mat-form-field>
                </form>
            </div> -->
            <!-- <div class="col-sm-3" style="margin-left: 2%;">
              <form [formGroup]="myForm">
                <mat-form-field class="search__form_field" appearance="outline">
                  <mat-label>Filters</mat-label>
                  <mat-select name="fileSource" placeholder="" appearance="outline"
                    formControlName="filterProduct" >
                    <mat-option *ngFor="let obj of listOfObjs" [value]="obj" (click)="getfiltersummary(obj,1)" >
                      {{ obj.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </form>
            </div> -->
            <!-- <div
          class="col-md-2 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status != 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >FAS Matched : {{ new_fas_cbs_fetch_values?.fas_match_count }}
          </label>
        </div>
        <div
          class="col-md-2 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status == 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >FAS Matched :
          </label>
        </div> -->
            <!-- <div
          class="col-md-2 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status != 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >FAS UnMatched : {{ new_fas_cbs_fetch_values?.fas_unmatch_count }}
          </label>
        </div> -->
            <!-- <div
          class="col-md-2 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status == 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >FAS UnMatched :
          </label>
        </div> -->

            <!-- <div class="label_align" *ngIf="this.ars_status != 'Pending'">
              <label class="fontbold"
                >Matched Amount :
                {{
                  formatNumberWithCommas(
                    new_fas_cbs_fetch_values?.fas_match_amount
                  )
                }}
              </label>
            </div>
            <div class="label_align" *ngIf="this.ars_status == 'Pending'">
              <label class="fontbold"> Matched Amount : </label>
            </div>
            <div style="margin-left: 80px">
              <div class="label_align" *ngIf="this.ars_status != 'Pending'">
                <label class="fontbold"
                  >File1 Unmatched Amount:
                  {{ formatNumberWithCommas(
                    new_fas_cbs_fetch_values?.fas_unmatch_amount
                  )  }}
                </label>
              </div>
              <div class="label_align" *ngIf="this.ars_status == 'Pending'">
                <label class="fontbold">File1 Unmatched Amount: </label>
              </div>
            </div>
            <div style="margin-left: 80px">
              <div class="label_align" *ngIf="this.ars_status != 'Pending'">
                <label class="fontbold"
                  >File2 Unmatched Amount:
                  {{
                    formatNumberWithCommas(
                      new_fas_cbs_fetch_values?.cbs_unmatch_amount
                    )
                  }}
                </label>
              </div>
              <div class="label_align" *ngIf="this.ars_status == 'Pending'">
                <label class="fontbold">File2 Unmatched Amount: </label>
              </div>
            </div> -->
          </div>
        </div>
        <div class="row over">
          <!-- <div
          class="col-md-2 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status != 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >CBS Matched : {{ new_fas_cbs_fetch_values?.cbs_match_count }}
          </label>
        </div>
        <div
          class="col-md-2 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status == 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >CBS Matched :
          </label>
        </div> -->
          <!-- <div
          class="col-md-2 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status != 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >CBS UnMatched : {{ new_fas_cbs_fetch_values?.cbs_unmatch_count }}
          </label>
        </div> -->
          <!-- <div
            class="col-md-2 card padding"
            style="height: 51px; margin-left: 3%; margin-top: 4px"
            *ngIf="this.ars_status == 'Pending'"
          >
            <br />
            <label style="margin-top: -10px" class="fontbold"
              >CBS UnMatched :
            </label>
          </div> -->
          <!-- <div
          class="col-md-3 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status != 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >CBS Matched Amount :
            {{
              formatNumberWithCommas(new_fas_cbs_fetch_values?.cbs_match_amount)
            }}
          </label>
        </div>
        <div
          class="col-md-3 card padding"
          style="height: 51px; margin-left: 3%; margin-top: 4px"
          *ngIf="this.ars_status == 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >CBS Matched Amount :
          </label>
        </div> -->
          <!-- <div
          class="col-md-3 card padding"
          style="height: 51px; margin-left: 32px; margin-top: 4px"
          *ngIf="this.ars_status != 'Pending'"
        >
          <br />
          <label style="margin-top: -10px" class="fontbold"
            >CBS Unmatched Amount :
            {{
              formatNumberWithCommas(
                new_fas_cbs_fetch_values?.cbs_unmatch_amount
              )
            }}
          </label>
        </div> -->
          <!-- <div
            class="col-md-3 card padding"
            style="height: 51px; margin-left: 32px; margin-top: 4px"
            *ngIf="this.ars_status == 'Pending'"
          >
            <br />
            <label style="margin-top: -10px" class="fontbold"
              >CBS Unmatched Amount :
            </label>
          </div> -->
        </div>
        <mat-tab-group
        *ngIf="dcs_recon===0"
          class="tab-main-group"
          (selectedTabChange)="getfiltersummary($event, 1)"
          [(selectedIndex)]="selectedTabIndex"
        >
          <mat-tab label="System Match" id="1" class="mat-tab-body-content">
            <br />
            <div>
              <div
                *ngIf="table_show"
                style="width: 90%; margin-top: 5px; margin-left: 50px"
              >
                <mat-accordion class="autoknockss">
                  <mat-expansion-panel [expanded]="isExpandedscardrecon">
                    <mat-expansion-panel-header>
                      <!-- Total Count: {{dataArrays?.length }} -->
                      <mat-panel-title style="font-weight: 600"
                        >File 1 Table</mat-panel-title
                      >
                    </mat-expansion-panel-header>

                    <form [formGroup]="fassearch" style="display: flex;gap: 50px;">
                      <!-- <div class="row paddingfas">
                    <div class="col-md-3">
                       
                   <mat-form-field appearance="outline" class="legacy">
                      <mat-label >Select Header</mat-label>
                      <mat-select matInput formControlName="fasHeaders">
                        <mat-option
                          *ngFor="let item of fasheaderlist"
                          [value]="item.name">
                          {{ item.name }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field> 

                   <mat-form-field class="mat-chipScroll" appearance="outline">
            <mat-label>Select Header</mat-label>
            <mat-chip-list multiple #chipListvendor class="chip-container">
                <mat-chip *ngFor="let obj of chipSelectedObj" [removable]="true" (removed)="removechip(obj)" class="mat-chipEx">
                    {{ obj.name }}
                    <mat-icon matChipRemove>cancel</mat-icon>
                </mat-chip>
                <input #DropInput [matAutocomplete]="scrolll" class="matformfieldinputstyle" [matChipInputFor]="chipListvendor" [matChipInputSeparatorKeyCodes]="
                              separatorsKeysCodes
                            " [matChipInputAddOnBlur]="true" (click)="clickOption()"/>
            </mat-chip-list>
            <mat-autocomplete #scrolll="matAutocomplete" (optionSelected)="venSelected($event)">
                <ng-container>
                    <mat-option *ngFor="let dropvalues of fasheaderlist" [value]="dropvalues">
                        {{dropvalues.name}}
                    </mat-option>
                </ng-container>
            </mat-autocomplete>
        </mat-form-field>

                   </div>
                  <div *ngFor="let search of chipSelectedObj">
                    <div *ngIf="search.id == '9'" class="col-md-3">
                      <mat-form-field appearance="outline" class="legacy">
                        <mat-label>BranchCode</mat-label>
                        <input matInput formControlName="branchcontrol" />
                      </mat-form-field>
                    </div> 
                  <div *ngIf="search.id == '9'" class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Transaction Date</mat-label>
                        <input
                          matInput
                          formControlName="Transactiondatepatch"
                        />
                      </mat-form-field>
                    </div> 
                   <div *ngIf="search.id == '3'" class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Dr/Cr</mat-label>
                        <input matInput formControlName="DebitandCredit" />
                      </mat-form-field>
                    </div>
                  <div *ngIf="search.id == '4'" class="col-md-3">
                    <mat-form-field class="legacy" appearance="outline">
                      <mat-label>Comp</mat-label>
                      <mat-select matInput formControlName="AmtComparisons">
                        <mat-option
                          *ngFor="let item of Comparisons"
                          [value]="item.id"
                        >
                          {{ item.value }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div *ngIf="search.id == '4'" class="col-md-3">
                    <mat-form-field class="legacy" appearance="outline">
                      <mat-label>Amount</mat-label>
                      <input matInput formControlName="Amountt" />
                    </mat-form-field>
                  </div> 
                  </div>
                   <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Others</mat-label>
                        <input matInput formControlName="Commonfield" />
                      </mat-form-field>
                    </div> 
                  </div>

                  <div class="row paddingfas">
                   <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Comp</mat-label>
                        <mat-select matInput formControlName="AmtComparisons">
                          <mat-option
                            *ngFor="let item of Comparisons"
                            [value]="item.id"
                          >
                            {{ item.value }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Amount</mat-label>
                        <input matInput formControlName="Amountt" />
                      </mat-form-field>
                    </div> 

                   <div class="col-md-3 search">
                      <button
                        mat-mini-fab
                        id="buttonsSubmit"
                        aria-label="Search"
                        type="button"
                        (click)="fassearchtable(1)"
                      >
                        <mat-icon>search</mat-icon>
                      </button>
                    </div>
                    <div class="col-md-3 clear">
                      <button
                        mat-mini-fab
                        id="buttonsSubmit"
                        aria-label="Search"
                        type="button"
                        (click)="fastableclear()"
                      >
                        <mat-icon>refresh</mat-icon>
                      </button>
                    </div> 
                   </div> -->
                      <!-- <div class="filter-aling-2">
                        <lib-vs-search-cmp
                          id="matInput-size"
                          [SearchArr]="uploadsearchfasys"
                          [Outputtype]="searchvarfasys"
                          (dataoutput)="onChangeRBF($event, 1)"
                        >
                        </lib-vs-search-cmp>
                      </div> -->
                      <div  style="margin-top: 15px;">
                        <span style="font-size: 15px;font-weight: 700;">
                          File 1 Count :
                          <span class="badge-btn" *ngIf="new_fas_cbs_fetch_values?.fas_match_count" >
                            {{new_fas_cbs_fetch_values?.fas_match_count}}
                          </span>
                        </span>
                      </div>

                      <div class="filter-aling" class="fieldwidth" style="margin-top: 10px;">
                        <lib-vs-search-cmp
                          id="matInput-size"
                          [SearchArr]="Optionsysfassearch"
                          [Outputtype]="searchsysfasvar"
                          (dataoutput)="onChangeRBF($event, 1)"
                          [SeparateReset]="true"
                          (ResetOutput)="summaryreset($event, 1)"
                        ></lib-vs-search-cmp>
                      </div>

                      <!-- <lib-vs-dynamicform-cmp
                        class="package-width"
                        [InputFields]="Optionfield"
                        (dataEvent)="Optiondata($event)"
                      ></lib-vs-dynamicform-cmp> -->

                      <!-- <div class="filter-aling">
                        <div id="matInput-size">
                          <mat-form-field class="fieldwidth">
                            <mat-label>Options</mat-label>
                            <mat-select
                              matInput
                              formControlName="dropdownoption"
                            >
                              <mat-option
                                *ngFor="let item of wisefinKeys"
                                [value]="item"
                              >
                                {{ item }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div id="matInput-size">
                          <mat-form-field class="fieldwidth">
                            <mat-label>Value</mat-label>
                            <input matInput formControlName="value" />
                          </mat-form-field>
                        </div>

                        <div id="matInput-size">
                          <span class="search">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              type="button"
                              (click)="fassearchtable(1)"
                            >
                              <mat-icon>search</mat-icon>
                            </button>
                          </span>
                        </div>
                        <div id="matInput-size">
                          <span class="clear" style="margin-left: 15px">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              type="button"
                              (click)="fastableclear()"
                            >
                              <mat-icon>refresh</mat-icon>
                            </button>
                          </span>
                        </div>
                      </div> -->
                      <!-- <div class="row paddingfas">
                        <div class="col-md-3">
                          <mat-form-field appearance="outline" class="legacy">
                            <mat-label>BranchCode</mat-label>
                            <input matInput formControlName="branchcontrol" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Transaction Date</mat-label>
                            <input
                              matInput
                              formControlName="Transactiondatepatch"
                            />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Dr/Cr</mat-label>
                            <input matInput formControlName="DebitandCredit" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Others</mat-label>
                            <input matInput formControlName="Commonfield" />
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row paddingfas" style="gap: 5px">
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Comp</mat-label>
                            <mat-select
                              matInput
                              formControlName="AmtComparisons"
                            >
                              <mat-option
                                *ngFor="let item of Comparisons"
                                [value]="item.id"
                              >
                                {{ item.value }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Amount</mat-label>
                            <input matInput formControlName="start_amount" />
                          </mat-form-field>
                        </div>

                        <div class="col-md-3 search">
                          <button
                            mat-mini-fab
                            id="buttonsSubmit"
                            aria-label="Search"
                            type="button"
                            (click)="fassearchtable(1)"
                          >
                            <mat-icon>search</mat-icon>
                          </button>
                        </div>
                        <div class="col-md-3 clear">
                          <button
                            mat-mini-fab
                            id="buttonsSubmit"
                            aria-label="Search"
                            type="button"
                            (click)="fastableclear()"
                          >
                            <mat-icon>refresh</mat-icon>
                          </button>
                        </div>
                      </div> -->
                    </form>
                    <!-- <div
                  class="mat-elevation-z5 tablescroll"
                  class="table-row"
                  style="max-width: 170%; overflow-x: auto"> -->
                    <div
                      *ngIf="fassytammatchsearchlist.length !== 0"
                      style="margin-left: 20px"
                    >
                      <span class="applied_filter">Applied Filters:</span>
                      <span *ngFor="let data of fassytammatchsearchlist">
                        <button class="class_badge">
                          {{ data.display_name }}
                        </button>
                      </span>
                    </div>
                    <br />
                    <div class="table-container">
                      <table class="table table-bordered width" id="boxlevel">
                        <thead class="table_header">
                          <th>S.No</th>
                          <th *ngFor="let key of this.wisefinKeys">
                            {{ key }}
                          </th>
                          <!-- <th>Branch Code</th> -->
                          <!-- <th>Gl Number</th> -->
                          <!-- <th>Entry Gid</th>
                      <th>Transaction Date</th>
                      <th>Dr/Cr</th>
                      <th>Amount</th>
                      <th>Tag Number</th>
                      <th>Remark</th>
                      <th>Entry Crno</th>
                      <th>Entry Module</th>
                      <th>Entry Module</th> -->
                        </thead>
                        <tbody *ngFor="let sum of tabledata; let i = index">
                          <tr [ngClass]="getRowColorfas(sum, i)">
                            <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                            <td *ngFor="let key of wisefinKeys">
                              {{ sum[wisefindatas[key]] }}
                            </td>

                            <!-- <td>{{sum?.fas_branch_code}}</td>
                                            <td>{{sum?.fas_entry_gid}}</td>
                                            <td>{{sum?.fas_transaction_date}}</td>
                                            <td>{{sum?.fas_dr_cr}}</td>
                                            <td>{{sum?.fas_amount}}</td>
                                            <td>{{sum?.fas_remark}}</td>
                                            <td>{{sum?.fas_entry_crno}}</td>
                                            <td>{{sum?.fas_entry_module}}</td>
                                            <td>{{sum?.fas_tag_no}}</td> -->

                            <!-- <td
                          (click)="
                            getfassearch(sum?.fas_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_branch_code }}
                        </td>

                        <td
                          *ngIf="
                            sum?.fas_recommendatory == 'Entry_gid';
                            else others
                          "
                          (click)="
                            getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                          "
                          class="pointer"
                        >
                          <mat-chip-list>
                            <mat-chip
                              (click)="
                                getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                              "
                              >{{ sum?.fas_entry_gid }}</mat-chip
                            >
                          </mat-chip-list>
                        </td>
                        <ng-template #others>
                          <td
                            (click)="
                              getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_gid }}
                          </td>
                        </ng-template>

                        <td
                          (click)="
                            getfassearch(
                              sum?.fas_transaction_date,
                              'Branch date'
                            )
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_transaction_date }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.fas_dr_cr }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.fas_amount) }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_tag_no, 'Tag Number')"
                          class="pointer"
                        >
                          {{ sum?.fas_tag_no }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_remark, 'Remark')"
                          class="pointer"
                        >
                          {{ sum?.fas_remark }}
                        </td>

                        <td
                          *ngIf="
                            sum?.fas_recommendatory == 'Entry_crno';
                            else other
                          "
                          (click)="
                            getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                          "
                          class="pointer"
                        >
                          <mat-chip-list>
                            <mat-chip
                              (click)="
                                getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                              "
                              >{{ sum?.fas_entry_crno }}</mat-chip
                            >
                          </mat-chip-list>
                        </td>
                        <ng-template #other>
                          <td
                            (click)="
                              getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_crno }}
                          </td>
                        </ng-template>
                        <td 
                          (click)="
                            getfassearch(sum?.fas_entry_module, 'Entry Module')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_module }}
                       </td> -->
                            <!-- <td *ngIf="nodatafoundfas" class="text-center">No data found!..</td> -->
                          </tr>
                        </tbody>
                        <tbody *ngIf="tabledata?.length == 0">
                          <tr>
                            <td colspan="5" class="text-center">
                              No Records Found..!
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="paginationDiv">
                        <button
                          mat-icon-button
                          [disabled]="pagination.has_previous === false"
                          color="primary"
                          (click)="previousClick()"
                        >
                          <mat-icon>arrow_back</mat-icon>
                        </button>
                        <b style="align-items: center; margin-top: 9px">{{
                          pagination.index
                        }}</b>
                        <button
                          mat-icon-button
                          [disabled]="pagination.has_next === false"
                          color="primary"
                          (click)="nextClick()"
                        >
                          <mat-icon>arrow_forward</mat-icon>
                        </button>
                      </div>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
              <form [formGroup]="fassearch">
                <div class="row">
                  <!-- <div class="col-md-3" *ngIf="externalpage">
                  <lib-vs-dynamicform-cmp class="arsexternalwidth" [InputFields]="externalsummary"
                    (dataEvent)="matchsummary($event)" [ResetForm]="resetFormstatus">
                  </lib-vs-dynamicform-cmp>
                </div> -->
                  <!-- <div class="col-md-3">
                  <mat-form-field appearance="outline" style="width: 70%; margin-top: 3%; margin-left: 25px">
                    <mat-label>Start Date</mat-label>
                    <input matInput [value]="fr_date" [readonly]="true" [matDatepicker]="picker24" placeholder="Date"
                      autocomplete="off" (dateChange)="fasfromdate()" />
                    <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker24" [disabled]="true">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker24></mat-datepicker>
                  </mat-form-field>
                </div>
                <div class="col-md-3">
                  <mat-form-field appearance="outline" style="width: 70%; margin-top: 3%; margin-left: -68px">
                    <mat-label>End Date</mat-label>
                    <input matInput [readonly]="true" [value]="to_date" [matDatepicker]="picker25" placeholder="Date"
                      autocomplete="off" (dateChange)="fasenddate()" />
                    <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker25" [disabled]="true">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker25></mat-datepicker>
                  </mat-form-field>
                </div> -->
                  <!-- <div class="sysre">
                  <mat-label style="white-space: nowrap;margin-top: 4px;"
                    >System Match Report</mat-label
                  >
                  <button
                    type="button"
                    class="btn btn-outline-success radius"
                    matTooltip="Download Report"
                    style="white-space: nowrap"
                  >
                    <span
                      class="fa fa-download"
                      (click)="systemreportdownload()"
                    >
                    </span>
                  </button>
                </div> -->
                </div>
              </form>

              <!-- <div class="col-md-6">
                  <h3
                    style="
                      margin-left: 18px;
                      margin-top: 5px;
                      font-weight: bold;
                    "
                  >
                    File 1 Table
                  </h3> -->
              <!-- <form [formGroup]="fassearch"> -->
              <!-- <div class="row paddingfas">
                    <div class="col-md-3">
                       
                   <mat-form-field appearance="outline" class="legacy">
                      <mat-label >Select Header</mat-label>
                      <mat-select matInput formControlName="fasHeaders">
                        <mat-option
                          *ngFor="let item of fasheaderlist"
                          [value]="item.name">
                          {{ item.name }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field> 

                   <mat-form-field class="mat-chipScroll" appearance="outline">
            <mat-label>Select Header</mat-label>
            <mat-chip-list multiple #chipListvendor class="chip-container">
                <mat-chip *ngFor="let obj of chipSelectedObj" [removable]="true" (removed)="removechip(obj)" class="mat-chipEx">
                    {{ obj.name }}
                    <mat-icon matChipRemove>cancel</mat-icon>
                </mat-chip>
                <input #DropInput [matAutocomplete]="scrolll" class="matformfieldinputstyle" [matChipInputFor]="chipListvendor" [matChipInputSeparatorKeyCodes]="
                              separatorsKeysCodes
                            " [matChipInputAddOnBlur]="true" (click)="clickOption()"/>
            </mat-chip-list>
            <mat-autocomplete #scrolll="matAutocomplete" (optionSelected)="venSelected($event)">
                <ng-container>
                    <mat-option *ngFor="let dropvalues of fasheaderlist" [value]="dropvalues">
                        {{dropvalues.name}}
                    </mat-option>
                </ng-container>
            </mat-autocomplete>
        </mat-form-field>

                   </div>
                  <div *ngFor="let search of chipSelectedObj">
                    <div *ngIf="search.id == '9'" class="col-md-3">
                      <mat-form-field appearance="outline" class="legacy">
                        <mat-label>BranchCode</mat-label>
                        <input matInput formControlName="branchcontrol" />
                      </mat-form-field>
                    </div> 
                  <div *ngIf="search.id == '9'" class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Transaction Date</mat-label>
                        <input
                          matInput
                          formControlName="Transactiondatepatch"
                        />
                      </mat-form-field>
                    </div> 
                   <div *ngIf="search.id == '3'" class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Dr/Cr</mat-label>
                        <input matInput formControlName="DebitandCredit" />
                      </mat-form-field>
                    </div>
                  <div *ngIf="search.id == '4'" class="col-md-3">
                    <mat-form-field class="legacy" appearance="outline">
                      <mat-label>Comp</mat-label>
                      <mat-select matInput formControlName="AmtComparisons">
                        <mat-option
                          *ngFor="let item of Comparisons"
                          [value]="item.id"
                        >
                          {{ item.value }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div *ngIf="search.id == '4'" class="col-md-3">
                    <mat-form-field class="legacy" appearance="outline">
                      <mat-label>Amount</mat-label>
                      <input matInput formControlName="Amountt" />
                    </mat-form-field>
                  </div> 
                  </div>
                   <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Others</mat-label>
                        <input matInput formControlName="Commonfield" />
                      </mat-form-field>
                    </div> 
                  </div>

                  <div class="row paddingfas">
                   <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Comp</mat-label>
                        <mat-select matInput formControlName="AmtComparisons">
                          <mat-option
                            *ngFor="let item of Comparisons"
                            [value]="item.id"
                          >
                            {{ item.value }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field class="legacy" appearance="outline">
                        <mat-label>Amount</mat-label>
                        <input matInput formControlName="Amountt" />
                      </mat-form-field>
                    </div> 

                   <div class="col-md-3 search">
                      <button
                        mat-mini-fab
                        id="buttonsSubmit"
                        aria-label="Search"
                        type="button"
                        (click)="fassearchtable(1)"
                      >
                        <mat-icon>search</mat-icon>
                      </button>
                    </div>
                    <div class="col-md-3 clear">
                      <button
                        mat-mini-fab
                        id="buttonsSubmit"
                        aria-label="Search"
                        type="button"
                        (click)="fastableclear()"
                      >
                        <mat-icon>refresh</mat-icon>
                      </button>
                    </div> 
                   </div> -->
              <!-- <div style="margin-left: 15px">
                      <lib-vs-search-cmp
                        id="matInput-size"
                        [SearchArr]="uploadsearchfasys"
                        [Outputtype]="searchvarfasys"
                        (dataoutput)="onChangeRBF($event, 1)"
                      >
                      </lib-vs-search-cmp>
                    </div> -->
              <!-- <div class="row paddingfas">
                      <div class="col-md-3">
                        <mat-form-field appearance="outline" class="legacy">
                          <mat-label>BranchCode</mat-label>
                          <input matInput formControlName="branchcontrol" />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Transaction Date</mat-label>
                          <input
                            matInput
                            formControlName="Transactiondatepatch"
                          />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Dr/Cr</mat-label>
                          <input matInput formControlName="DebitandCredit" />
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Others</mat-label>
                          <input matInput formControlName="Commonfield" />
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="row paddingfas" style="gap: 5px">
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Comp</mat-label>
                          <mat-select matInput formControlName="AmtComparisons">
                            <mat-option
                              *ngFor="let item of Comparisons"
                              [value]="item.id"
                            >
                              {{ item.value }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="legacy" appearance="outline">
                          <mat-label>Amount</mat-label>
                          <input matInput formControlName="Amountt" />
                        </mat-form-field>
                      </div>

                      <div class="col-md-3 search">
                        <button
                          mat-mini-fab
                          id="buttonsSubmit"
                          aria-label="Search"
                          type="button"
                          (click)="fassearchtable(1)"
                        >
                          <mat-icon>search</mat-icon>
                        </button>
                      </div>
                      <div class="col-md-3 clear">
                        <button
                          mat-mini-fab
                          id="buttonsSubmit"
                          aria-label="Search"
                          type="button"
                          (click)="fastableclear()"
                        >
                          <mat-icon>refresh</mat-icon>
                        </button>
                      </div>
                    </div> -->
              <!-- </form> -->
              <!-- <div
                  class="mat-elevation-z5 tablescroll"
                  class="table-row"
                  style="max-width: 170%; overflow-x: auto"> -->
              <!-- <br />
                  <div class="table-container">
                    <table class="table table-bordered width" id="boxlevel">
                      <thead class="table_header">
                        <th>S.No</th>
                        <th *ngFor="let key of this.wisefinKeys">{{ key }}</th> -->
              <!-- <th>Branch Code</th> -->
              <!-- <th>Gl Number</th> -->
              <!-- <th>Entry Gid</th>
                      <th>Transaction Date</th>
                      <th>Dr/Cr</th>
                      <th>Amount</th>
                      <th>Tag Number</th>
                      <th>Remark</th>
                      <th>Entry Crno</th>
                      <th>Entry Module</th>
                      <th>Entry Module</th> -->
              <!-- </thead>
                      <tbody *ngFor="let sum of tabledata; let i = index">
                        <tr [ngClass]="getRowColorfas(sum, i)">
                          <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                          <td *ngFor="let key of wisefinKeys">
                            {{ sum[wisefindatas[key]] }}
                          </td> -->

              <!-- <td>{{sum?.fas_branch_code}}</td>
                                            <td>{{sum?.fas_entry_gid}}</td>
                                            <td>{{sum?.fas_transaction_date}}</td>
                                            <td>{{sum?.fas_dr_cr}}</td>
                                            <td>{{sum?.fas_amount}}</td>
                                            <td>{{sum?.fas_remark}}</td>
                                            <td>{{sum?.fas_entry_crno}}</td>
                                            <td>{{sum?.fas_entry_module}}</td>
                                            <td>{{sum?.fas_tag_no}}</td> -->

              <!-- <td
                          (click)="
                            getfassearch(sum?.fas_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_branch_code }}
                        </td>

                        <td
                          *ngIf="
                            sum?.fas_recommendatory == 'Entry_gid';
                            else others
                          "
                          (click)="
                            getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                          "
                          class="pointer"
                        >
                          <mat-chip-list>
                            <mat-chip
                              (click)="
                                getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                              "
                              >{{ sum?.fas_entry_gid }}</mat-chip
                            >
                          </mat-chip-list>
                        </td>
                        <ng-template #others>
                          <td
                            (click)="
                              getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_gid }}
                          </td>
                        </ng-template>

                        <td
                          (click)="
                            getfassearch(
                              sum?.fas_transaction_date,
                              'Branch date'
                            )
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_transaction_date }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.fas_dr_cr }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.fas_amount) }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_tag_no, 'Tag Number')"
                          class="pointer"
                        >
                          {{ sum?.fas_tag_no }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_remark, 'Remark')"
                          class="pointer"
                        >
                          {{ sum?.fas_remark }}
                        </td>

                        <td
                          *ngIf="
                            sum?.fas_recommendatory == 'Entry_crno';
                            else other
                          "
                          (click)="
                            getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                          "
                          class="pointer"
                        >
                          <mat-chip-list>
                            <mat-chip
                              (click)="
                                getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                              "
                              >{{ sum?.fas_entry_crno }}</mat-chip
                            >
                          </mat-chip-list>
                        </td>
                        <ng-template #other>
                          <td
                            (click)="
                              getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                            "
                            class="pointer"
                          >
                            {{ sum?.fas_entry_crno }}
                          </td>
                        </ng-template>
                        <td 
                          (click)="
                            getfassearch(sum?.fas_entry_module, 'Entry Module')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_module }}
                       </td> -->
              <!-- <td *ngIf="nodatafoundfas" class="text-center">No data found!..</td> -->
              <!-- </tr>
                      </tbody>
                      <tbody *ngIf="tabledata?.length == 0">
                        <tr>
                          <td colspan="5" class="text-center">
                            No Records Found..!
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="paginationDiv">
                      <button
                        mat-icon-button
                        [disabled]="pagination.has_previous === false"
                        color="primary"
                        (click)="previousClick()"
                      >
                        <mat-icon>arrow_back</mat-icon>
                      </button>
                      <b style="align-items: center; margin-top: 9px">{{
                        pagination.index
                      }}</b>
                      <button
                        mat-icon-button
                        [disabled]="pagination.has_next === false"
                        color="primary"
                        (click)="nextClick()"
                      >
                        <mat-icon>arrow_forward</mat-icon>
                      </button>
                    </div>
                  </div> -->

              <!-- </div> -->
              <!-- </div> -->
              <div
                *ngIf="table_show"
                style="width: 90%; margin-top: 5px; margin-left: 50px"
              >
                <mat-accordion class="autoknockss">
                  <mat-expansion-panel [expanded]="isExpandedscardrecon1">
                    <mat-expansion-panel-header>
                      <!-- Total Count: {{dataArrays?.length }} -->
                      <mat-panel-title style="font-weight: 600"
                        >File 2 Table</mat-panel-title
                      >
                    </mat-expansion-panel-header>
                    <form [formGroup]="cbssearch" style="display: flex;gap: 50px;">
                      <!-- <div class="row paddingcbs"> -->
                      <!-- <div class="col-md-2">
                                        <mat-form-field style="
                    width: 100%;margin-top: 3%;" appearance="outline">
                                            <mat-label>Branch code</mat-label>
                                            <input matInput formControlName="cbsbranchcode">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-md-2">
                                        <mat-form-field style="
                    width: 100%;margin-top: 3%;" appearance="outline">
                                            <mat-label>Date</mat-label>
                                            <input matInput formControlName="cbstranactiondate">
                                        </mat-form-field>
                                    </div> -->
                      <!-- <div class="col-md-2">
                    <mat-form-field
                      appearance="outline"
                      style="color: black; width: 150%; margin-top: 3%"
                    >
                      <mat-label style="color: black; font-size: small"
                        >Select Header</mat-label
                      >
                      <mat-select matInput formControlName="cbscreditdebit">
                        <mat-option
                          *ngFor="let item of cbsheaderlist"
                          [value]="item.name"
                        >
                          {{ item.name }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div> -->
                      <!-- 
                  <div class="col-md-2">
                    <mat-form-field
                      style="width: 150%; margin-top: 3%; margin-left: 35%"
                      appearance="outline"
                    >
                      <mat-label>Values</mat-label>
                      <input matInput formControlName="cbsamount" />
                    </mat-form-field>
                  </div> -->
                      <!-- <div style="margin-left: 15px">
                        <lib-vs-search-cmp
                          id="matInput-size"
                          [SearchArr]="uploadsearchcbsys"
                          [Outputtype]="searchvarcbsys"
                          (dataoutput)="searchuploadcbsys($event)"
                        >
                        </lib-vs-search-cmp>
                      </div> -->
                      <div  style="margin-top: 15px;">
                        <span style="font-size: 15px;font-weight: 700;">
                          File 2 Count :
                          <span class="badge-btn" *ngIf="new_fas_cbs_fetch_values?.cbs_match_count" >
                            {{new_fas_cbs_fetch_values?.cbs_match_count}}
                          </span>
                        </span>
                      </div>
                      <div class="filter-aling" class="fieldwidth" style="margin-top: 10px;">
                        <lib-vs-search-cmp
                          id="matInput-size"
                          [SearchArr]="Optionsyscbssearch"
                          [Outputtype]="searchsyscbsvar"
                          (dataoutput)="onChangecbs($event, 1)"
                          [SeparateReset]="true"
                          (ResetOutput)="summaryreset1($event, 1)"
                        ></lib-vs-search-cmp>
                      </div>
                      <!-- <div class="filter-aling">
                        <div id="matInput-size">
                          <mat-form-field class="fieldwidth">
                            <mat-label>Options</mat-label>
                            <mat-select
                              matInput
                              formControlName="dropdownoption"
                            >
                              <mat-option
                                *ngFor="let item of cbsKeys"
                                [value]="item"
                              >
                                {{ item }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div id="matInput-size">
                          <mat-form-field class="fieldwidth">
                            <mat-label>Value</mat-label>
                            <input matInput formControlName="value" />
                          </mat-form-field>
                        </div>

                        <div id="matInput-size">
                          <span class="search">
                            <button
                              mat-mini-fab
                              type="button"
                              id="buttonsSubmit"
                              aria-label="Search"
                              (click)="cbssearchtable(1)"
                            >
                              <mat-icon>search</mat-icon>
                            </button>
                          </span>
                        </div>
                        <div id="matInput-size">
                          <span class="clear" style="margin-left: 15px">
                            <button
                              class="radius"
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              (click)="cbstableclear()"
                            >
                              <mat-icon>refresh</mat-icon>
                            </button>
                          </span>
                        </div>
                      </div> -->
                      <!--                       
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>BranchCode</mat-label>
                            <input
                              matInput
                              formControlName="branchcontrolcbs"
                            />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Transaction Date</mat-label>
                            <input
                              matInput
                              formControlName="Transactiondatepatchcbs"
                            />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Dr/Cr</mat-label>
                            <input
                              matInput
                              formControlName="DebitandCreditcbs"
                            />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Others</mat-label>
                            <input matInput formControlName="Commonfieldcbs" />
                          </mat-form-field>
                        </div>
                      </div>
                      <div class="row paddingcbs" style="gap: 4px">
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Comp</mat-label>
                            <mat-select
                              matInput
                              formControlName="AmtComparisons"
                            >
                              <mat-option
                                *ngFor="let item of Comparisons"
                                [value]="item.id"
                              >
                                {{ item.value }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Amount</mat-label>
                            <input matInput formControlName="Amounttcbs" />
                          </mat-form-field>
                        </div>

                        <div class="col-md-3 search">
                          <button
                            mat-mini-fab
                            type="button"
                            id="buttonsSubmit"
                            aria-label="Search"
                            (click)="cbssearchtable(1)"
                          >
                            <mat-icon>search</mat-icon>
                          </button>
                        </div>
                        <div class="col-md-3 clear">
                          <button
                            class="radius"
                            mat-mini-fab
                            id="buttonsSubmit"
                            aria-label="Search"
                            (click)="cbstableclear()"
                          >
                            <mat-icon>refresh</mat-icon>
                          </button>
                        </div>
                      </div> -->
                    </form>
                    <!-- <div
                  class="mat-elevation-z5"
                  class="table-row"
                  style="max-width: 270%; overflow-x: scroll"
                > -->
                    <div
                      *ngIf="cbssytammatchsearchlist.length !== 0"
                      style="margin-left: 20px"
                    >
                      <span class="applied_filter">Applied Filters:</span>
                      <span *ngFor="let data of cbssytammatchsearchlist">
                        <button class="class_badge">
                          {{ data.display_name }}
                        </button>
                      </span>
                    </div>
                    <br />
                    <div class="table-container">
                      <table class="table table-bordered width" id="boxlevel">
                        <thead class="table_header">
                          <th>S.No</th>
                          <th *ngFor="let key of this.cbsKeys">{{ key }}</th>
                          <!-- <th>Branch Code</th> -->
                          <!-- <th>GL Number</th> -->
                          <!-- <th>Transaction Date</th>
                      <th>Dr/Cr</th>
                      <th>Amount</th>
                      <th>Tag Number</th>
                      <th>Narration</th> -->
                        </thead>
                        <tbody *ngFor="let sum of cbstabledata; let i = index">
                          <tr [ngClass]="getRowColorcbs(sum, i)">
                            <td>
                              {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                            </td>
                            <td *ngFor="let key of cbsKeys">
                              {{ sum[cbsdatas[key]] }}
                            </td>
                            <!-- <td>{{sum?.cbs_branch_code}}</td>
                                            <td>{{sum?.cbs_transaction_date}}</td>
                                            <td>{{sum?.cbs_dr_cr}}</td>
                                            <td>{{sum?.cbs_amount}}</td>

                                            <td>{{sum?.cbs_tag_no}}</td>
                                            <td>{{sum?.cbs_narration}}</td> -->
                            <!-- <td><input type="checkbox"  [value]="sum.id" [checked]="sum.checkbox == true"
                            (change)="onCheckboxChange($event,sum,i)"></td> -->
                            <!-- <td
                          (click)="
                            getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.cbs_branch_code }}
                        </td>
                        <td
                          class="space pointer"
                          (click)="
                            getcbssearch(sum?.cbs_transaction_date, 'Date')
                          "
                        >
                          {{ sum?.cbs_transaction_date }}
                        </td> -->
                            <!-- <td>{{ sum?.cbs_transaction_date }}</td> -->
                            <!-- <td
                          (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.cbs_dr_cr }}
                        </td>
                        <td
                          (click)="getcbssearch(sum?.cbs_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.cbs_amount) }}
                        </td>
                        <td
                          (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                          class="pointer"
                        >
                          {{ sum?.cbs_tag_no }}
                        </td>

                        <td
                          *ngIf="
                            sum?.cbs_recommendatory == 'Entry_gid';
                            else other
                          "
                          (click)="
                            getcbssearch(sum?.cbs_narration, 'Narration')
                          "
                          class="pointer"
                        >
                          <mat-chip-list>
                            <mat-chip>
                              {{
                                sum?.cbs_narration
                                  ? sum?.cbs_narration.slice(0, 8)
                                  : ""
                              }}
                            </mat-chip>
                            <span>{{
                              sum?.cbs_narration
                                ? sum?.cbs_narration.slice(8)
                                : ""
                            }}</span>
                          </mat-chip-list>
                        </td>

                        <ng-template #other>
                          <td
                            (click)="
                              getcbssearch(sum?.cbs_narration, 'Narration')
                            "
                            class="pointer"
                          >
                            {{ sum?.cbs_narration }}
                          </td>
                        </ng-template> -->

                            <!-- <td  (click)="
                        getcbssearch(sum?.cbs_narration, 'Narration')
                      "
                      class="pointer">{{ sum?.cbs_narration }}</td> -->
                          </tr>
                        </tbody>
                        <tbody *ngIf="cbstabledata?.length == 0">
                          <tr>
                            <td colspan="3" class="text-center">
                              No Records Found..!
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="paginationDiv">
                        <button
                          mat-icon-button
                          [disabled]="paginationcbs.has_previous === false"
                          color="primary"
                          (click)="previousClickcbs()"
                        >
                          <mat-icon>arrow_back</mat-icon>
                        </button>
                        <b style="align-items: center; margin-top: 9px">{{
                          paginationcbs.index
                        }}</b>
                        <button
                          mat-icon-button
                          [disabled]="paginationcbs.has_next === false"
                          color="primary"
                          (click)="nextClickcbs()"
                        >
                          <mat-icon>arrow_forward</mat-icon>
                        </button>
                      </div>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>

                <!-- </div> -->
              </div>
            </div>

            <!-- <div style="margin-left: 91%"> -->
            <!-- <button class="btn btn-outline-info" style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: -35px;" (click)="adddocument(1)">Save</button> -->
            <!-- <button
                class="btn btn-outline-primary"
                style="
                  border-radius: 25px;
                  font-size: small;
                  margin-top: 8%;
                  margin-left: 10px;
                "
                (click)="changeTab(1)"
              >
                Next
              </button>
            </div> -->
          </mat-tab>

          <mat-tab label="Manually Matching" id="2" #closebutton>
            <br />
            <div class="row">
              <!-- <div class="col-md-12 text-right">
               <mat-label style="white-space: nowrap; margin-right: 15px"
                >Manual Match Report</mat-label
              > 
              <button
                type="button"
                style="white-space: nowrap; margin-right: 12px"
                class="btn btn-outline-success radius"
                matTooltip="Download Report"
                (click)="manualreportdownload()"
              >
                <span class="fa fa-download"> </span>
              </button>
            </div> -->
            </div>
            <div>
              <div style="width: 90%; margin-top: 5px; margin-left: 50px">
                <mat-accordion class="autoknockss">
                  <mat-expansion-panel [expanded]="isExpandedscardrecon2">
                    <mat-expansion-panel-header>
                      <!-- Total Count: {{dataArrays?.length }} -->
                      <mat-panel-title style="font-weight: 600"
                        >File 1 Table</mat-panel-title
                      >
                    </mat-expansion-panel-header>
                    <form [formGroup]="fassearch">
                      <!-- <div class="row paddingfas">
                        <div class="col-md-3">
                          <mat-form-field appearance="outline" class="legacy">
                            <mat-label>BranchCode</mat-label>
                            <input matInput formControlName="branchcontrol" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Transaction Date</mat-label>
                            <input
                              matInput
                              formControlName="Transactiondatepatch"
                            />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Dr/Cr</mat-label>
                            <input matInput formControlName="DebitandCredit" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Others</mat-label>
                            <input matInput formControlName="Commonfield" />
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row paddingfas" style="gap: 4px">
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Comp</mat-label>
                            <mat-select
                              matInput
                              formControlName="AmtComparisons"
                            >
                              <mat-option
                                *ngFor="let item of Comparisons"
                                [value]="item.id"
                              >
                                {{ item.value }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Amount</mat-label>
                            <input matInput formControlName="Amountt" />
                          </mat-form-field>
                        </div>

                        <div class="col-md-3 search">
                          <button
                            mat-mini-fab
                            id="buttonsSubmit"
                            aria-label="Search"
                            type="button"
                            (click)="fassearchtable(1)"
                          >
                            <mat-icon>search</mat-icon>
                          </button>
                        </div>
                        <div class="col-md-3 clear">
                          <button
                            mat-mini-fab
                            id="buttonsSubmit"
                            aria-label="Search"
                            type="button"
                            (click)="fastableclear()"
                          >
                            <mat-icon>refresh</mat-icon>
                          </button>
                        </div>
                        <div class="fasamount">
                          File 1 Amount :
                          {{ formatNumberWithCommas(fas_compare_total) }}
                        </div>
                      </div> -->
                     <div style="display: flex;gap: 50px;margin-left: 20px;">
                      <div style="margin-top: 15px;">
                        <span style="font-size: 15px;font-weight: 700;">
                          File 1 Count :
                          <span class="badge-btn" *ngIf="new_fas_cbs_fetch_values?.fas_unmatch_count" >
                            {{new_fas_cbs_fetch_values?.fas_unmatch_count}}
                          </span>
                        </span>
                      </div>
                      <div class="filter-aling" class="fieldwidth" style="margin-top: 10px;">
                        <lib-vs-search-cmp
                          id="matInput-size"
                          [SearchArr]="Optionmanfassearch"
                          [Outputtype]="searchmanfasvar"
                          (dataoutput)="onChangeRBF($event, 1)"
                          [SeparateReset]="true"
                          (ResetOutput)="summaryreset($event, 1)"
                        ></lib-vs-search-cmp>
                      </div>
                     </div>
                      <!-- <div class="filter-aling">
                        <div id="matInput-size">
                          <mat-form-field class="fieldwidth">
                            <mat-label>Options</mat-label>
                            <mat-select
                              matInput
                              formControlName="dropdownoption"
                            >
                              <mat-option
                                *ngFor="let item of wisefinKeys"
                                [value]="item"
                              >
                                {{ item }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div id="matInput-size">
                          <mat-form-field class="fieldwidth">
                            <mat-label>Value</mat-label>
                            <input matInput formControlName="value" />
                          </mat-form-field>
                        </div>

                        <div id="matInput-size">
                          <span class="search">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              type="button"
                              (click)="fassearchtable(1)"
                            >
                              <mat-icon>search</mat-icon>
                            </button>
                          </span>
                        </div>
                        <div id="matInput-size">
                          <span class="clear" style="margin-left: 15px">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              type="button"
                              (click)="fastableclear()"
                            >
                              <mat-icon>refresh</mat-icon>
                            </button>
                          </span>
                        </div>
                      </div> -->
                      <div
                        *ngIf="fassytammatchsearchlist.length !== 0"
                        style="margin-left: 20px"
                      >
                        <span style="font-size: 15px;font-weight: 700;">Applied Filters:</span>
                        <span *ngFor="let data of fassytammatchsearchlist">
                          <button class="class_badge">
                            {{ data.display_name }}
                          </button>
                        </span>
                      </div>
                      <div style="display: flex;gap: 10px;margin-left: 20px;margin-top: 10px;">
                       <div style="font-size: 15px;font-weight: 700;margin-top: 7px;">
                        File 1 Amount :
                       </div>
                        <div class="badge-btn" *ngIf="new_fas_cbs_fetch_values?.fas_unmatch_amount">
                          {{ formatNumberWithCommas(new_fas_cbs_fetch_values?.fas_unmatch_amount) }}
                        </div>
                      </div>
                      <!-- <div style="margin-left: 15px">
                    <lib-vs-search-cmp
                      id="matInput-size"
                      [SearchArr]="uploadsearchfaman"
                      [Outputtype]="searchvarfaman"
                      (dataoutput)="searchuploadfaman($event)"
                    >
                    </lib-vs-search-cmp>
                  </div> -->
                      <!-- <div
                  class="mat-elevation-z5"
                  class="table-row"
                  style="max-width: 170%; overflow-x: scroll"
                > -->
                      <div class="table-container" style="margin-top: 10px;">
                        <table
                          class="table table-bordered widthmanual"
                          id="boxlevel"
                        >
                          <thead class="table_header widthmanual">
                            <th>S.No</th>
                            <th *ngFor="let key of this.wisefinKeys">
                              {{ key }}
                            </th>
                            <!-- <th>Branch Code</th>
                      <th>Entry Gid</th>
                      <th>Transaction Date</th>
                      <th>Remark</th>
                      <th>Entry Crno</th>
                      <th>Entry Module</th>
                      <th>Dr/Cr</th>
                      <th>Amount</th> -->
                            <!-- <th>Action</th> -->
                            <!-- <th>Compare</th> -->
                            <!-- <th>Select</th> -->
                            <!-- <th>Tag Number</th> -->

                            <!-- <th>Action Type</th> -->
                          </thead>

                          <tbody
                            *ngFor="let sum of tabledataManual; let i = index"
                            class="rowalign"
                          >
                            <tr [ngClass]="getRowColorfas(sum, i)">
                              <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                              <td *ngFor="let key of wisefinKeys">
                                {{ sum[wisefindatas[key]] }}
                              </td>
                              <!-- <td
                          (click)="
                            getfassearch(sum?.fas_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_branch_code }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_gid }}
                        </td>
                        <td
                          (click)="
                            getfassearch(
                              sum?.fas_transaction_date,
                              'Branch date'
                            )
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_transaction_date }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_remark, 'Remark')"
                          class="pointer"
                        >
                          {{ sum?.fas_remark }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_crno }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_module, 'Entry Module')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_module }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.fas_dr_cr }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.fas_amount) }}
                        </td> -->

                              <!-- <td> -->
                              <!-- <form [formGroup]="fasaction"> -->
                              <!-- <div class="col-sm-2 d-flex align-items-center">
                                <mat-form-field
                                  style="
                                    color: black;
                                    width: 165px;
                                    margin-left: 25px;
                                  "
                                  appearance="outline"
                                >
                                  <mat-label
                                    style="color: black; font-size: small"
                                    >Actions</mat-label
                                  >

                                  <mat-select formControlName="actions"
                                  >
                                    <mat-option
                                      *ngFor="let columns of columnList"
                                      [value]="columns"
                                      (click)="actionfasclick(sum, columns, i)"
                                    >
                                     {{ columns.type }}
                                    </mat-option>
                            
                                  </mat-select>
                                  
                                    
                                </mat-form-field>
                                <mat-icon 
                                  *ngIf="sum.fas_edit == 1" 
                                  (click)="selectednewfuccancel(i)" 
                                  class="actionClear">
                                  refresh
                                </mat-icon>
                                                        
                                </div> -->
                              <!-- <div *ngIf="!(selectednew && selectednew['variable_' + i]?.default && selectednew['variable_' + i]?.i===i)" (click)="selectednewfuc(i)" class="alignEdit">
                                              {{sum?.fas_action.type}}
                                              <mat-icon *ngIf="sum.fas_edit == 1" class="actionEdit"
                                  >edit</mat-icon>
                                  <mat-icon 
                                  *ngIf="sum.fas_edit == 1" 
                                  (click)="selectednewfucrefreshfas(sum,i,1)" 
                                  class="actionDelete">
                                  delete
                                </mat-icon>     
                              </div> -->
                              <!-- </form> -->

                              <!-- <span *ngIf="sum?.fas_edit == 1">
                            <lib-vs-dynamicform-cmp
                              class="actiondd"
                              [InputFields]="{
                                method: 'get',
                                url: this.url,
                                searchkey: '',
                                params: '&value=1',
                                displaykey: 'type',
                                label: 'Actions',
                                disabled: false,
                                defaultvalue: sum?.fas_action,
                                wholedata: true
                              }"
                              (dataEvent)="
                                refreshActions($event, sum, 1, 'fas_action', i)
                              "
                            >
                            </lib-vs-dynamicform-cmp>
                          </span>

                          <span *ngIf="sum?.fas_action === ''">
                            <lib-vs-dynamicform-cmp
                              class="actiondd"
                              [InputFields]="{
                                method: 'get',
                                url: this.url,
                                searchkey: '',
                                params: '&value=1',
                                displaykey: 'type',
                                label: 'Actions',
                                disabled: false,
                                wholedata: true
                              }"
                              (dataEvent)="
                                refreshActions($event, sum, 1, 'fas_action', i)
                              "
                            >
                            </lib-vs-dynamicform-cmp>
                          </span> -->
                              <!-- <span *ngIf="sum?.fas_action === ''"
                          >
                            <form [formGroup]="fasaction">
                              <div class="col-sm-2 d-flex align-items-center">
                                <mat-form-field
                                  style="
                                    color: black;
                                    width: 165px;
                                    margin-left: 25px;
                                  "
                                  appearance="outline"
                                >
                                  <mat-label
                                    style="color: black; font-size: small"
                                    >Actions</mat-label
                                  >

                                  <mat-select formControlName="actions">
                                    <mat-option
                                      *ngFor="let columns of columnList"
                                      [value]="columns"
                                      (click)="actionfasclick(sum, columns, i)"
                                      >{{ columns.type }}</mat-option
                                    >
                                  </mat-select>
                                </mat-form-field>

                                 <mat-icon *ngIf="showedit">edit</mat-icon>
                                 <mat-icon *ngIf="sum.fas_edit == 1"
                                  >edit</mat-icon
                                > 
                              </div>
                            </form>
                          </span> -->
                              <!-- <span
                            *ngIf="sum?.fas_action !== '' && sum?.fas_edit == 0"
                          >
                            {{ sum?.fas_action }}
                          </span>
                        </td> -->
                              <!-- <td>
                          <span *ngIf="sum?.fas_action === ''">
                            <button
                              (click)="addiconfas(sum)"
                              mat-icon-button
                              class="btn btn-outline-primary"
                              [disabled]="sum.isCompareClicked"
                            >
                              <span class="material-icons">add_circle</span>
                            </button>
                          </span> -->
                              <!-- <span *ngIf="sum?.fas_action !==''">
                                                    {{}}
                                                </span> -->
                              <!-- </td> -->
                              <!-- <td>
                          <mat-checkbox *ngIf="sum?.fas_action === ''"  
                              class="checkbox" 
                              [(ngModel)]="sum.checked" 
                              [checked]="checkedfasItems?.includes(sum?.id)" 
                              (change)="isfasSelect(sum?.id,$event)">
                          </mat-checkbox>
                        </td> -->
                              <!-- <td>                        
                          <div *ngIf="sum?.fas_action === 'ASSIGN TAG NUMBER' && sum?.fas_tag_no.length == 15">
                            {{ sum?.fas_tag_no }}
                          </div>

                          <div
                            *ngIf="
                              showmanualtagno && selectedRowIndices.includes(i) && sum?.fas_tag_no.length != 15
">
                          <p>
                            {{ sum?.fas_tag_no }}
                          </p>
                            <button
                              mat-icon-button
                              class="btn btn-outline-primary"
                              data-toggle="modal"
                              data-target="#exampleModalCenterFas"
                              (click)="edittagnumber(sum, 4)"
                            >
                              <span class="material-icons">edit</span>
                            </button>
                          </div>
                        </td> -->
                              <!-- <td
                        (click)="getfassearch(sum?.fas_tag_no, 'Tag Number')"
                        class="pointer"
                      >
                        <span
                          #inputField
                          *ngFor="let val of payloadArray; index as i"
                        >
                          <span
                            *ngIf="
                              val?.type == 1 &&
                              val?.value == 1 &&
                              val?.id == sum?.id
                            "
                          >
                            {{ sum?.fas_tag_no }}
                            <input
                              type="text"
                              appearance="outline"
                              name="digit"
                              [value]="
                                sum?.fas_tag_alpha ? sum?.fas_tag_alpha : ''
                              "
                              (keypress)="singleChar($event, i)"
                              class="input"
                            />
                          </span>
                        </span>

                        <span
                          *ngIf="
                            sum?.fas_edit == 0 &&
                            sum?.fas_action === 'ASSIGN TAG NUMBER'
                          "
                        >
                          {{ sum?.fas_tag_no }}
                        </span>

                        <span
                          *ngIf="
                            sum?.fas_edit == 1 &&
                            sum?.fas_action.type == 'ASSIGN TAG NUMBER\t\t'
                          "
                        >
                          <form [formGroup]="fassearch">
                            <mat-form-field class="tagno">
                              {{ sum?.fas_tag_no
                              }}<input
                                matInput
                                type="text"
                                appearance="outline"
                                [value]="sum?.fas_tag_alpha"
                                (keypress)="singleChar($event, i)"
                                class="input"
                                (click)="edittagnumber(sum, 4)"
                              />
                            </mat-form-field>
                          </form>
                        </span>
                        <div
                          *ngIf="
                            showmanualtagno && selectedRowIndices.includes(i)
                          "
                        >
                          <span>
                            <form [formGroup]="fassearch">
                              <mat-form-field class="tagno">
                                {{ sum?.fas_tag_no
                                }}<input
                                  matInput
                                  formControlName="edittag_number"
                                  appearance="outline"
                                  (keypress)="singleChar($event, i)"
                                  class="input"
                                  (click)="edittagnumber(sum, 4)"
                                />
                              </mat-form-field>
                            </form>
                          </span>
                        </div> -->
                              <!-- <div
                            *ngIf="
                              !(showmanualtagno && selectedRowIndices.includes(i))">
                          <span>
                            
                          </span>
                          </div> 
                        </td>
                        <td *ngIf="nodatafoundfas" class="text-center">No data found!..</td> -->
                              <!-- </td> -->
                            </tr>
                          </tbody>
                          <tbody *ngIf="tabledataManual?.length == 0">
                            <tr>
                              <td colspan="9" class="text-center">
                                No Records Found..!
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <div class="paginationDiv">
                          <button
                            mat-icon-button
                            [disabled]="pagination.has_previous === false"
                            color="primary"
                            (click)="fasmanualpreviousClick()"
                          >
                            <mat-icon>arrow_back</mat-icon>
                          </button>
                          <b style="align-items: center; margin-top: 9px">{{
                            pagination.index
                          }}</b>
                          <button
                            mat-icon-button
                            [disabled]="pagination.has_next === false"
                            color="primary"
                            (click)="fasmanualnextClick()"
                          >
                            <mat-icon>arrow_forward</mat-icon>
                          </button>
                        </div>
                      </div>

                      <!-- <div
                    class="modal fade"
                    id="exampleModalCenterFas"
                    tabindex="-1"
                    role="dialog"
                    aria-labelledby="exampleModalCenterTitleFas"
                    aria-hidden="true"
                    data-backdrop="false"
                  >
                    <div
                      class="modal-dialog modal-dialog-centered"
                      role="document"
                    >
                      <div class="modal-content">
                        <div
                          class="modal-header"
                          style="background-color: #ddefdd"
                        >
                          <h3
                            class="modal-title"
                            id="exampleModalLongTitle"
                            style="color: black; font-weight: bold"
                          >
                            Fas Edit Tag Number
                          </h3>
                          <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close"
                            style="color: black"
                          >
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body" style="width: 600px">
                          <tr>
                            <td>
                              <form [formGroup]="fassearch">
                                <div class="input-container">
                                  <span class="readonly-prefix"
                                    >FAS - {{ edit_tag_no }}</span
                                  >
                                  <input
                                    type="text"
                                    formControlName="edittag_number"
                                  />
                                </div>
                              </form>
                            </td>
                          </tr>
                        </div>
                        <div class="modal-footer">
                          <button
                            type="button"
                            class="btn btn-secondary"
                            #closebuttontag
                            data-dismiss="modal"
                          >
                            Close
                          </button>
                          <button
                            type="button"
                            class="btn btn-secondary"
                            (click)="submittagnumber(1)"
                          >
                            Submit
                          </button>
                        </div>
                      </div>
                    </div>
                  </div> -->
                      <!-- </div> -->
                    </form>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
              <div style="width: 90%; margin-top: 5px; margin-left: 50px">
                <mat-accordion class="autoknockss">
                  <mat-expansion-panel [expanded]="isExpandedscardrecon3">
                    <mat-expansion-panel-header>
                      <!-- Total Count: {{dataArrays?.length }} -->
                      <mat-panel-title style="font-weight: 600"
                        >File 2 Table</mat-panel-title
                      >
                    </mat-expansion-panel-header>
                    <form [formGroup]="cbssearch" >
                      <!-- <div class="row paddingfas">
                        <div class="col-md-3">
                          <mat-form-field appearance="outline" class="legacy">
                            <mat-label>BranchCode</mat-label>
                            <input
                              matInput
                              formControlName="branchcontrolcbs"
                            />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Transaction Date</mat-label>
                            <input
                              matInput
                              formControlName="Transactiondatepatchcbs"
                            />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Dr/Cr</mat-label>
                            <input
                              matInput
                              formControlName="DebitandCreditcbs"
                            />
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Others</mat-label>
                            <input matInput formControlName="Commonfieldcbs" />
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row paddingfas" style="gap: 4px">
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Comp</mat-label>
                            <mat-select
                              matInput
                              formControlName="AmtComparisons"
                            >
                              <mat-option
                                *ngFor="let item of Comparisons"
                                [value]="item.id"
                              >
                                {{ item.value }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="legacy" appearance="outline">
                            <mat-label>Amount</mat-label>
                            <input matInput formControlName="Amounttcbs" />
                          </mat-form-field>
                        </div>

                        <div class="col-md-3 search">
                          <button
                            mat-mini-fab
                            id="buttonsSubmit"
                            aria-label="Search"
                            type="button"
                            (click)="cbssearchtable(1)"
                          >
                            <mat-icon>search</mat-icon>
                          </button>
                        </div>
                        <div class="col-md-3 clear">
                          <button
                            mat-mini-fab
                            id="buttonsSubmit"
                            aria-label="Search"
                            type="button"
                            (click)="cbstableclear()"
                          >
                            <mat-icon>refresh</mat-icon>
                          </button>
                        </div>
                        <div class="amount">
                          File 2 Amount :
                          {{ formatNumberWithCommas(cbs_compare_total) }}
                        </div>
                      </div> -->
                      <div style="display: flex;gap: 50px;margin-left: 20px;">
                        <div  style="margin-top: 15px;">
                          <span style="font-size: 15px;font-weight: 700;">
                          File 2 Count :
                            <span class="badge-btn" *ngIf="new_fas_cbs_fetch_values?.cbs_unmatch_count" >
                              {{new_fas_cbs_fetch_values?.cbs_unmatch_count}}
                            </span>
                          </span>
                        </div>
                        <div class="filter-aling" class="fieldwidth" style="margin-top: 10px;">
                          <lib-vs-search-cmp
                            id="matInput-size"
                            [SearchArr]="Optionmancbssearch"
                            [Outputtype]="searchmancbsvar"
                            (dataoutput)="onChangecbs($event, 1)"
                            [SeparateReset]="true"
                            (ResetOutput)="summaryreset1($event, 1)"
                          ></lib-vs-search-cmp>
                        </div>
                      </div>
                     
                      <!-- <div class="filter-aling">
                        <div id="matInput-size">
                          <mat-form-field class="fieldwidth">
                            <mat-label>Options</mat-label>
                            <mat-select
                              matInput
                              formControlName="dropdownoption"
                            >
                              <mat-option
                                *ngFor="let item of cbsKeys"
                                [value]="item"
                              >
                                {{ item }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div id="matInput-size">
                          <mat-form-field class="fieldwidth">
                            <mat-label>Value</mat-label>
                            <input matInput formControlName="value" />
                          </mat-form-field>
                        </div>

                        <div id="matInput-size">
                          <span class="search">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              type="button"
                              (click)="cbssearchtable(1)"
                            >
                              <mat-icon>search</mat-icon>
                            </button>
                          </span>
                        </div>
                        <div id="matInput-size">
                          <span class="clear" style="margin-left: 15px">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              type="button"
                              (click)="cbstableclear()"
                            >
                              <mat-icon>refresh</mat-icon>
                            </button>
                          </span>
                        </div>
                      </div> -->
                      <div
                        *ngIf="cbssytammatchsearchlist.length !== 0"
                        style="margin-left: 20px"
                      >
                        <span style="font-size: 15px;font-weight: 700;">Applied Filters:</span>
                        <span *ngFor="let data of cbssytammatchsearchlist">
                          <button class="class_badge">
                            {{ data.display_name }}
                          </button>
                        </span>
                      </div>
                      <div style="display: flex;gap: 10px;margin-left: 20px;margin-top: 10px;">
                        <div style="font-size: 15px;font-weight: 700;margin-top: 7px;">
                         File 2 Amount :
                        </div>
                         <div class="badge-btn" *ngIf="new_fas_cbs_fetch_values?.cbs_unmatch_amount">
                           {{ formatNumberWithCommas(new_fas_cbs_fetch_values?.cbs_unmatch_amount) }}
                         </div>
                       </div>
                      <!-- <div style="margin-left: 15px">
                    <lib-vs-search-cmp
                      id="matInput-size"
                      [SearchArr]="uploadsearchcbman"
                      [Outputtype]="searchvarcbman"
                      (dataoutput)="searchuploadcbman($event)"
                    >
                    </lib-vs-search-cmp>
                  </div> -->
                      <!-- <div
                  class="mat-elevation-z5"
                  class="table-row"
                  style="max-width: 170%; overflow-x: scroll"
                > -->
                      <div class="table-container" style="margin-top: 10px;">
                        <table
                          class="table table-bordered widthmanual"
                          id="boxlevel"
                        >
                          <thead class="table_header">
                            <th>S.No</th>
                            <th *ngFor="let key of this.cbsKeys">{{ key }}</th>
                            <!-- <th>Branch Code</th>
                      <th>Transaction Date</th>
                      <th>Dr/Cr</th>
                      <th>Amount</th>-->
                            <!-- <th>Action</th> -->
                            <!-- <th>Compare</th> 
                      <th>Select</th> -->
                            <!-- <th>Tag Number</th> -->
                            <!-- <th>Narration</th>  -->

                            <!-- <th>Action Type</th> -->
                          </thead>
                          <tbody
                            *ngFor="
                              let sum of cbstabledataManual;
                              let i = index
                            "
                          >
                            <tr [ngClass]="getRowColorcbs(sum, i)">
                              <td>
                                {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                              </td>
                              <td *ngFor="let key of cbsKeys">
                                {{ sum[cbsdatas[key]] }}
                              </td>
                              <!-- <td
                          (click)="
                            getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.cbs_branch_code }}
                        </td>
                        <td
                          class="pointer"
                          (click)="
                            getcbssearch(sum?.cbs_transaction_date, 'Date')
                          "
                        >
                          {{ sum?.cbs_transaction_date }}
                        </td>

                        <td
                          (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.cbs_dr_cr }}
                        </td>
                        <td
                          (click)="getcbssearch(sum?.cbs_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.cbs_amount) }}
                        </td> -->
                              <!-- <td
                          (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                          class="pointer"
                        >
                          {{ sum?.cbs_tag_no }}
                        </td> -->

                              <!-- <td> -->
                              <!-- <span *ngIf="sum?.cbs_edit == 1"> -->
                              <!-- <lib-vs-dynamicform-cmp
                              class="actiondd"
                              [InputFields]="{
                                method: 'get',
                                url: this.url,
                                searchkey: '',
                                params: '&value=2',
                                displaykey: 'type',
                                label: 'Actions',
                                disabled: false,
                                defaultvalue: sum?.cbs_action,
                                wholedata: true
                              }"
                              (dataEvent)="
                                refreshActions($event, sum, 2, 'cbs_action', i)
                              "
                            >
                            </lib-vs-dynamicform-cmp> -->
                              <!-- </span> -->
                              <!-- <span *ngIf="sum?.cbs_action === ''"> -->
                              <!-- <lib-vs-dynamicform-cmp
                              class="actiondd"
                              [InputFields]="{
                                method: 'get',
                                url: this.url,
                                searchkey: '',
                                params: '&value=2',
                                displaykey: 'type',
                                label: 'Actions',
                                disabled: false,
                                wholedata: true
                              }"
                              (dataEvent)="
                                refreshActions($event, sum, 2, 'cbs_action', i)
                              "
                            >
                            </lib-vs-dynamicform-cmp> -->
                              <!-- </span> -->
                              <!-- <span *ngIf="sum?.cbs_edit == 1">
                            <form [formGroup]="cbsaction">
                              <div class="col-sm-2 d-flex align-items-center" *ngIf="selectednew && selectednew['variable_' + i]?.default && selectednew['variable_' + i]?.i===i">
                                <mat-form-field
                                  style="
                                    color: black;
                                    width: 165px;
                                    margin-left: 25px;
                                  "
                                  appearance="outline"
                                >
                                  <mat-label
                                    style="color: black; font-size: small"
                                    >Actions</mat-label
                                  >

                                  <mat-select formControlName="actions"
                                  >
                                    <mat-option
                                      *ngFor="let columns of columnList"
                                      [value]="columns"
                                      (click)="actioncbsclick(sum, columns, i)"
                                     
                                    >
                                     {{ columns.type }}
                                    </mat-option> -->
                              <!-- <mat-option *ngFor="let item of data" [value]="(sum.fas_edit == 1) ? sum.fas_action.save_value : item.fas_action.save_value"
              (click)="actionfasclick(sum, item)"
              (click)="handleActionClick(i, item)">
    {{ item.fas_action.save_value }}
  </mat-option> -->
                              <!-- </mat-select> -->

                              <!-- </mat-form-field> -->
                              <!-- <mat-icon *ngIf="sum.cbs_edit == 1" (click)="selectednewfucncancel(i)"
                                class="actionClear" >refresh</mat-icon>
                                
                              </div> -->
                              <!-- <div *ngIf="!(selectednews && selectednews['variable_' + i]?.default && selectednews['variable_' + i]?.i===i)" (click)="selectednewfucn(i)">
                                              {{sum?.cbs_action?.type}}
                                              <mat-icon *ngIf="sum.cbs_edit == 1" class="actionEdit"
                                  >edit</mat-icon>
                                  <mat-icon 
                                  *ngIf="sum.cbs_edit == 1" 
                                  (click)="selectednewfucrefreshcbs(sum,i,1)" 
                                  class="actionDelete">
                                  delete
                                </mat-icon> 
                              </div> -->

                              <!-- </form> -->
                              <!-- </span> -->
                              <!-- <span *ngIf="sum?.cbs_action === ''"
                          >
                            <form [formGroup]="cbsaction">
                              <div class="col-sm-2 d-flex align-items-center">
                                <mat-form-field
                                  style="
                                    color: black;
                                    width: 165px;
                                    margin-left: 25px;
                                  "
                                  appearance="outline"
                                >
                                  <mat-label
                                    style="color: black; font-size: small"
                                    >Actions</mat-label
                                  >

                                  <mat-select formControlName="actions">
                                    <mat-option
                                      *ngFor="let columns of columnList"
                                      [value]="columns"
                                      (click)="actioncbsclick(sum, columns, i)"
                                      >{{ columns.type }}</mat-option
                                    >
                                  </mat-select>
                                </mat-form-field>

                                 <mat-icon *ngIf="showedit">edit</mat-icon>
                                <mat-icon *ngIf="sum.fas_edit == 1"
                                  >edit</mat-icon
                                > 
                              </div>
                            </form>
                          </span> -->
                              <!-- <span
                            *ngIf="sum?.cbs_action !== '' && sum?.cbs_edit == 0"
                          >
                            {{ sum?.cbs_action }}
                          </span> -->
                              <!-- </td> -->

                              <!-- <td>
                          <div *ngIf="sum?.cbs_action === ''">
                            <button
                              (click)="addiconcbs(sum)"
                              mat-icon-button
                              class="btn btn-outline-primary"
                              [disabled]="sum.isCompareClicked"
                            >
                              <span class="material-icons">add_circle</span>
                            </button>
                          </div>
                        </td> -->
                              <!-- <td>
                          <mat-checkbox *ngIf="sum?.fas_action === ''"  
                              class="checkbox" 
                              [(ngModel)]="sum.checked" 
                              [checked]="checkedfasItems?.includes(sum?.id)" 
                              (change)="isfasSelect(sum?.id,$event)">
                          </mat-checkbox>
                        </td> -->
                              <!-- <td
                          style="
                            display: flex;
                            justify-content: space-between;
                            gap: 10px;
                          "
                        >
                          <p *ngIf="sum?.cbs_action !== ''">
                            {{ sum?.cbs_tag_no }}
                          </p>

                          <div
                            *ngIf="
                              showmanualtagnocbs &&
                              showmanualtagnocbs.includes(i)
                            "
                          >
                            <button
                              mat-icon-button
                              class="btn btn-outline-primary"
                              data-toggle="modal"
                              data-target="#modalCbs"
                              (click)="edittagnumber(sum, 1)"
                            >
                              <span class="material-icons">create</span>
                            </button>

                            <p *ngIf="sum?.cbs_tag_no?.length >= 8">
                              {{ sum?.cbs_tag_no }}
                            </p>
                          </div>
                        </td> -->
                              <!-- <td  (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                        class="pointer" >
                        
                          <div *ngIf="sum?.cbs_action === 'ASSIGN TAG NUMBER' && sum?.cbs_tag_no.length == 15">
                            {{ sum?.cbs_tag_no }}
                          </div>

                          <div
                            *ngIf="
                              showmanualtagnocbs && selectedRowIndices2.includes(i) && sum?.cbs_tag_no.length != 15
                            "
                          >
                          <p>
                            {{ sum?.cbs_tag_no }}
                          </p>
                          <button
                          mat-icon-button
                          class="btn btn-outline-primary"
                          data-toggle="modal"
                          data-target="#modalCbs"
                          (click)="edittagnumber(sum, 1)"
                        >
                          <span class="material-icons">edit</span>
                        </button>

                          </div>
                         
                        </td> -->
                              <!-- <td (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                          class="pointer">                        
                          <span *ngIf="sum?.cbs_edit == 0  && sum?.cbs_action == 'ASSIGN TAG NUMBER\t\t'">
                            {{ sum?.cbs_tag_no }}
                          </span>
                          <span *ngIf="sum?.cbs_edit == 1 && sum?.cbs_action.type == 'ASSIGN TAG NUMBER\t\t'">
                            
                            {{ sum?.cbs_tag_no }} 
                            <form [formGroup]="fassearch">
                              <mat-form-field class="tagno">
                                <input matInput formControlName="edittag_number"  [value]="sum?.cbs_tag_alpha" appearance="outline" (keypress)="singleChar($event)" class="input" (click)="edittagnumber(sum,1)">
                              </mat-form-field>
                              </form>
                          </span>
                          <div
                            *ngIf="
                              showmanualtagnocbs && selectedRowIndices2.includes(i)">
                          <span>
                            {{ sum?.cbs_tag_no }}
                            <form [formGroup]="fassearch">
                            <mat-form-field class="tagno">
                              <input matInput type="text" [value]="sum?.fas_tag_alpha" appearance="outline" (keypress)="singleChar($event)" class="input" (click)="edittagnumber(sum,1)">
                            </mat-form-field>
                            </form>
                          </span>
                          </div>
                        </td> -->

                              <!-- <td
                        (click)="getcbssearch(sum?.cbs_tag_no, 'Tag Number')"
                        class="pointer"
                      >
                        <span
                          #inputField
                          *ngFor="let val of payloadArray; index as i"
                        >
                          <span
                            *ngIf="
                              val?.type == 2 &&
                              val?.value == 1 &&
                              val?.id == sum?.id
                            "
                          >
                            {{ sum?.cbs_tag_no }}
                            <form [formGroup]="digit">
                              <input
                                type="text"
                                appearance="outline"
                                name="digit"
                                [value]="
                                  sum?.cbs_tag_alpha ? sum?.cbs_tag_alpha : ''
                                "
                                (keypress)="singleChar($event, i)"
                                class="input"
                              />
                            </form>
                          </span> -->
                              <!-- <span *ngIf="sum?.cbs_edit == 0 && val?.value == 1">
                            
                                {{ sum?.cbs_tag_no }}
                                
                          </span> -->
                              <!-- </span>
                        <span
                          *ngIf="
                            sum?.cbs_edit == 0 &&
                            sum?.cbs_action === 'ASSIGN TAG NUMBER'
                          "
                        >
                          {{ sum?.cbs_tag_no }}
                        </span>
                      </td> -->
                              <!-- <td
                          (click)="
                            getcbssearch(sum?.cbs_narration, 'Narration')
                          "
                          class="pointer"
                        >
                          {{ sum?.cbs_narration }}
                        </td>  -->
                              <!-- <td *ngIf="!nodatafoundcbs" class="text-center">No data found!..</td> -->
                            </tr>
                          </tbody>
                          <tbody *ngIf="cbstabledataManual?.length == 0">
                            <tr>
                              <td colspan="8" class="text-center">
                                No Records Found..!
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <div class="paginationDiv">
                          <button
                            mat-icon-button
                            [disabled]="paginationcbs.has_previous === false"
                            color="primary"
                            (click)="cbsmanualpreviousClick()"
                          >
                            <mat-icon>arrow_back</mat-icon>
                          </button>
                          <b style="align-items: center; margin-top: 9px">{{
                            paginationcbs.index
                          }}</b>
                          <button
                            mat-icon-button
                            [disabled]="paginationcbs.has_next === false"
                            color="primary"
                            (click)="cbsmanualnextClick()"
                          >
                            <mat-icon>arrow_forward</mat-icon>
                          </button>
                        </div>
                      </div>

                      <!-- <div
                    class="modal fade"
                    id="modalCbs"
                    tabindex="-1"
                    role="dialog"
                    aria-labelledby="exampleModalCenterTitleCbs"
                    aria-hidden="true"
                    data-backdrop="false"
                  >
                    <div
                      class="modal-dialog modal-dialog-centered"
                      role="document"
                    >
                      <div class="modal-content">
                        <div
                          class="modal-header"
                          style="background-color: #ddefdd"
                        >
                          <h3
                            class="modal-title"
                            id="exampleModalLongTitle"
                            style="color: black; font-weight: bold"
                          >
                            Cbs Edit Tag Number
                          </h3>
                          <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close"
                            style="color: black"
                          >
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body" style="width: 600px">
                          <tr>
                            <td>
                              <form [formGroup]="fassearch">
                                <div class="input-container">
                                  <span class="readonly-prefix"
                                    >Cbs - {{ edit_tag_no }}</span
                                  >
                                  <input
                                    type="text"
                                    formControlName="edittag_number"
                                  />
                                </div>
                              </form>
                            </td>
                          </tr>
                        </div>
                        <div class="modal-footer">
                          <button
                            type="button"
                            #closebuttontagcbs
                            class="btn btn-secondary"
                            data-dismiss="modal"
                          >
                            Close
                          </button>
                          <button
                            type="button"
                            class="btn btn-secondary"
                    
                            (click)="submittagnumber(1)"
                          >
                            Submit
                          </button>
                        </div>
                      </div>
                    </div>
                  </div> -->
                      <!-- </div> -->
                    </form>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
            </div>

            <!-- <div> -->

            <!-- <div class="mat-elevation-z5" class="table-row">
                <div style=" margin-left: 4%;">
                  <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                      <thead class="table_header">
                        <th>S.No</th>
                        
                        <th>Branch Code</th>
                        <th>Entry Gid</th>
                        <th>Transaction Date</th>   
                        <th>Dr/Cr</th>
                        <th>Amount</th>
                        <th>Remark</th>
                        <th>Entry Crno</th>
                        <th>Entry Module</th>
                        <th>Tag Number</th>
                        <th>Action</th>
                        <th>Action Type</th>
                      
                      </thead>
                      <tbody *ngFor="let sum of tabledata; let i=index">
                          <td>{{(pagination.index - 1)*10 +i+1}}</td>
                          
                          <td>{{sum?.fas_branch_code}}</td>
                          <td>{{sum?.fas_entry_gid}}</td>
                          <td>{{sum?.fas_transaction_date}}</td>
                          <td>{{sum?.fas_dr_cr}}</td>
                          <td>{{sum?.fas_amount}}</td>
                          <td>{{sum?.fas_remark}}</td>
                          <td>{{sum?.fas_entry_crno}}</td>
                          <td>{{sum?.fas_entry_module}}</td>
                          <td style="display: flex; justify-content: space-between; gap: 10px">
                            <p>{{sum?.fas_tag_no}}</p>
                            
                                <button  mat-icon-button class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModalCenter" (click)="edittagnumber(sum,4)">
                                    <span class="material-icons">create</span>
                                     </button>
                            

                          </td>
                          <td>
                            <span >
                                <form [formGroup]="fasaction">
                                    <div class="col-sm-2"  >
                                        <mat-form-field style="color:black;width: 165px;margin-left: 25px;" appearance="outline" >
                                            <mat-label style="color:black;font-size:small;">Actions</mat-label>
                
                                            <mat-select formControlName="actions" [disabled]="sum?.fas_action !==''">
                                                <mat-option *ngFor="let columns of columnList"
                                                    [value]="columns" (click)="actionfasclick(sum,columns)">{{columns.type}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </form> 
                            </span>
                           
                         </td>
                         <td>{{sum?.fas_action}}</td>
                         <td><button (click)="addiconfas(sum)" mat-icon-button class="btn btn-outline-primary">
                            <span class="material-icons">add_circle</span>
                             </button>
                         </td>
                      </tbody>
                  </table>
                </div>
        
                <div style="font-size: small;text-align:right;margin-right: 1%;">
                  <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary" (click)="fasmanualpreviousClick()">
                      <mat-icon>arrow_back</mat-icon>
                  </button> {{pagination.index}}
                  <button mat-icon-button [disabled]="pagination.has_next === false" color="primary" (click)="fasmanualnextClick()">
                      <mat-icon>arrow_forward</mat-icon>
                  </button>
                </div>
                <div  class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style=" background-color: #ddefdd;">
                          <h3 class="modal-title" id="exampleModalLongTitle" style="color: black;font-weight: bold;">Edit Tag Number</h3>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:black;">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body" style="width: 600px;">
                       
                        <tr>
                           
                            <td>

                                <form [formGroup]="fassearch">
                                    <div class="input-container">
                                      <span class="readonly-prefix">{{ edit_tag_no }}</span>
                                      <input type="text"  formControlName="edittag_number">
                                    </div>
                                  </form>
                            </td>
                        
                        </tr>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary"   #closebuttontag data-dismiss="modal" >Close</button>
                          <button type="button" class="btn btn-secondary"  (click)="submittagnumber(1)">Submit</button>
                        </div>
                      </div>
                    </div>
                  </div>
              </div> -->
            <!-- <h3 style="margin-left: 28px;font-weight: bold;">CBS Table</h3>
                    <form [formGroup]="cbssearch">
                        <div class="row">

                            <div class="col-md-2">
                                <mat-form-field style="
                            width: 100%;margin-left: 13%;margin-top: 3%;" appearance="outline">
                                    <mat-label>Branch code</mat-label>
                                    <input matInput formControlName="cbsbranchcode">
                                </mat-form-field>
                            </div>

                            <div class="col-md-2">
                                <mat-form-field style="
                            width: 100%;margin-left: 18%;margin-top: 3%;" appearance="outline">
                                    <mat-label>Date</mat-label>
                                    <input matInput formControlName="cbstranactiondate">
                                </mat-form-field>
                            </div>
                            <div class="col-md-2">
                                <mat-form-field appearance="outline"
                                    style="color:black;width: 100%;margin-left: 22%;margin-top: 3%;">
                                    <mat-label style="color:black;font-size:small;">Select Header</mat-label>
                                    <mat-select matInput formControlName="cbscreditdebit">
                                        <mat-option *ngFor="let item of cbsmanualheaderlist" [value]="item.name">
                                            {{item.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-2">
                                <mat-form-field style="
                            width: 100%;margin-left: 26%;margin-top: 3%;" appearance="outline">
                                    <mat-label>Values</mat-label>
                                    <input matInput formControlName="cbsamount">
                                </mat-form-field>
                            </div>
                            <div class="col-md-2" style="margin-top: 18px;margin-left: 51px;">
                                <button mat-stroked-button type="button" id="buttonsSubmit" aria-label="Search"
                                    (click)="cbssearchtable(1)">
                                    <mat-icon>search</mat-icon>
                                </button>
                            </div>

                        </div>
                        <div class="mat-elevation-z5" class="table-row">
                            <div style=" margin-left: 4%;">
                                <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                                    <thead class="table_header">
                                        <th>S.No</th>
                                        <th>Branch Code</th>
                                        <th>Date</th>
                                        <th>Narration</th>
                                        <th>Dr/Cr</th>
                                        <th> Amount</th>

                                        <th>Tag Number</th>
                                        <th>Action</th>
                                        <th>Action Type</th>

                                    </thead>
                                    <tbody *ngFor="let sum of cbstabledata; let i=index">
                                        <td>{{(paginationcbs.index - 1)*10 +i+1}}</td>
                                        <td>{{sum?.cbs_branch_code}}</td>
                                        <td>{{sum?.cbs_transaction_date}}</td>
                                        <td>{{sum?.cbs_narration}}</td>
                                        <td>{{sum?.cbs_dr_cr}}</td>
                                        <td>{{sum?.cbs_amount}}</td>

                                        <td style="display: flex; justify-content: space-between; gap: 10px">
                                            <p>{{sum?.cbs_tag_no}} </p>

                                            <button mat-icon-button class="btn btn-outline-primary" data-toggle="modal"
                                                data-target="#exampleModalCentercbs" (click)="editcbstagnumber(sum,5)">
                                                <span class="material-icons">create</span>
                                            </button>

                                        </td>
                                        <td>
                                            <span>
                                                <form [formGroup]="cbsaction">
                                                    <div class="col-sm-2">
                                                        <mat-form-field
                                                            style="color:black;width: 165px;margin-left: 25px;"
                                                            appearance="outline">
                                                            <mat-label
                                                                style="color:black;font-size:small;">Actions</mat-label>

                                                            <mat-select formControlName="actions"
                                                                [disabled]="sum?.cbs_action !==''">
                                                                <mat-option *ngFor="let columns of columnList"
                                                                    [value]="columns"
                                                                    (click)="actioncbsclick(sum,columns)">{{columns.type}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                </form>
                                            </span>

                                        </td>
                                        <td>{{sum?.cbs_action}}</td>
                                        <td><button (click)="addiconcbs(sum)" mat-icon-button
                                                class="btn btn-outline-primary">
                                                <span class="material-icons">add_circle</span>
                                            </button>
                                        </td>

                                    </tbody>
                                </table>
                            </div>

                            <div style="font-size: small;text-align:right;margin-right: 1%;">
                                <button mat-icon-button [disabled]="paginationcbs.has_previous === false"
                                    color="primary" (click)="cbsmanualpreviousClick()">
                                    <mat-icon>arrow_back</mat-icon>
                                </button> {{paginationcbs.index}}
                                <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                                    (click)="cbsmanualnextClick()">
                                    <mat-icon>arrow_forward</mat-icon>
                                </button>
                            </div>
                            <div class="modal fade" id="exampleModalCentercbs" tabindex="-1" role="dialog"
                                aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
                                <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header" style=" background-color: #ddefdd;">
                                            <h3 class="modal-title" id="exampleModalLongTitle"
                                                style="color: black;font-weight: bold;">Edit Tag Number</h3>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                                style="color:black;">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body" style="width: 600px;">

                                            <tr>

                                                <td>
                                                    <form [formGroup]="fassearch">
                                                        <div class="input-container">
                                                            <span class="readonly-prefix">{{ edit_tag_no }}</span>
                                                            <input type="text" formControlName="edittag_number">
                                                        </div>
                                                    </form>
                                                </td>

                                            </tr>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-secondary" #closebuttontag
                                                (click)="submittagnumber(1)">Submit</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form> -->
            <!-- <div class="mat-elevation-z5" class="table-row">
                <div style=" margin-left: 4%;">
                  <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                      <thead class="table_header">
                        <th>S.No</th>
                        <th>Branch Code</th>
                        <th>Date</th>
                        <th>Narration</th>
                        <th>Dr/Cr</th>   
                        <th> Amount</th>
                      
                        <th>Tag Number</th>
                        <th>Action</th>
                        <th>Action Type</th>
                        
                      </thead>
                      <tbody *ngFor="let sum of cbstabledata; let i=index">
                          <td>{{(paginationcbs.index - 1)*10 +i+1}}</td>
                          <td>{{sum?.cbs_branch_code}}</td>
                          <td>{{sum?.cbs_transaction_date}}</td>
                          <td>{{sum?.cbs_narration}}</td>
                          <td>{{sum?.cbs_dr_cr}}</td>
                          <td>{{sum?.cbs_amount}}</td>
                         
                          <td style="display: flex; justify-content: space-between; gap: 10px"> 
                            <p>{{sum?.cbs_tag_no}} </p>
                            
                                <button  mat-icon-button class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModalCentercbs" (click)="editcbstagnumber(sum,5)">
                                    <span class="material-icons">create</span>
                                     </button>
                           
                          </td>
                          <td>
                            <span>
                                <form [formGroup]="cbsaction">
                                    <div class="col-sm-2">
                                        <mat-form-field style="color:black;width: 165px;margin-left: 25px;" appearance="outline">
                                            <mat-label style="color:black;font-size:small;">Actions</mat-label>
                
                                            <mat-select formControlName="actions" [disabled]="sum?.cbs_action !==''">
                                                <mat-option *ngFor="let columns of columnList"
                                                    [value]="columns" (click)="actioncbsclick(sum,columns)">{{columns.type}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </form> 
                            </span>
                           
                         </td>
                         <td>{{sum?.cbs_action}}</td>
                         <td><button (click)="addiconcbs(sum)" mat-icon-button class="btn btn-outline-primary">
                            <span class="material-icons">add_circle</span>
                             </button>
                         </td>
                         
                      </tbody>
                  </table>
                </div>
        
                <div style="font-size: small;text-align:right;margin-right: 1%;">
                  <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary" (click)="cbsmanualpreviousClick()">
                      <mat-icon>arrow_back</mat-icon>
                  </button> {{paginationcbs.index}}
                  <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary" (click)="cbsmanualnextClick()">
                      <mat-icon>arrow_forward</mat-icon>
                  </button>
                </div>
                <div  class="modal fade" id="exampleModalCentercbs" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style=" background-color: #ddefdd;">
                          <h3 class="modal-title" id="exampleModalLongTitle" style="color: black;font-weight: bold;">Edit Tag Number</h3>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:black;">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body" style="width: 600px;">
                       
                        <tr>
                           
                            <td>
                                <form [formGroup]="fassearch">
                                    <div class="input-container" >
                                      <span class="readonly-prefix">{{ edit_tag_no }}</span>
                                      <input type="text" formControlName="edittag_number">
                                    </div>
                                  </form>
                            </td>
                        
                        </tr>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal" >Close</button>
                          <button type="button" class="btn btn-secondary"   #closebuttontag  (click)="submittagnumber(1)" >Submit</button>
                        </div>
                      </div>
                    </div>
                  </div>
              </div> -->
            <!-- <div style="margin-left: 91%"> -->
            <!-- <div class="col-md-6">
                            <p>FAS Amount:{{fas_unmatch_amount}}</p>
                            <p>CBS Amount:{{cbs_unmatch_amount}}</p>
                        </div> -->

            <!-- <button
                class="btn btn-outline-primary orders"
                (click)="changeTab(0)"
              >
                Back
              </button> -->
            <!-- <button
              class="btn btn-outline-primary orders"
              (click)="saveManual(1)"
            >
              Save
            </button> -->

            <!-- <button
                  class="btn btn-outline-info orders"
                  (click)="compareamount(1)"
                >
                  Compare
                </button> -->
            <!-- <button
              class="btn btn-outline-success orders"
              data-toggle="modal"
              data-target="#manualSubmit"
              (click)="selectedManual(1)"
            >
              Submit
            </button>
            <button
              class="btn btn-outline-secondary orders"
              (click)="changeTab(2)"
            >
              Next
            </button> -->
            <!-- </div> -->
            <!-- <div style="margin-left: 91%;">
                    <button class="btn btn-outline-info"
                        style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: -137px;"
                        (click)="changeTab(0)">Back</button>
                    <button class="btn btn-outline-info"
                        style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: 10px;"
                        (click)="savemanualmatch(1)">Submit</button>
                    <button class="btn btn-outline-info"
                        style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: 10px;"
                        (click)="compareamount(1)">Compare</button>
                </div> -->
          </mat-tab>
          <!-- 
        <mat-tab label="Manually Matched" id="3" #closebutton class="fontSmall">
          <ng-container *ngIf="selectedTabIndex === 2">
            <mat-tab-group
              class="tab-group"
              (selectedTabChange)="onTabChange($event, 1)"
            >
              <span *ngFor="let item of columnList">
                <mat-tab label="{{ item.type }}"> -->
          <!-- <mat-tab *ngFor="let item of columnList">
              <ng-template mat-tab-label>
                {{ item.type }}
              </ng-template> -->
          <!-- 
                  <div class="row">
                    <div class="col-md-6">
                      <h3
                        style="
                          margin-left: 10px;
                          margin-top: 15px;
                          font-weight: bold;
                        "
                      >
                        FAS Table
                      </h3>
                      <form [formGroup]="fassearch">
                        <div class="row paddingfas"> -->
          <!-- <div class="col-md-2">
                                            <mat-form-field style="
                        width: 100%;margin-left: 13%;margin-top: 3%;" appearance="outline">
                                                <mat-label>Branch code</mat-label>
                                                <input matInput formControlName="branchcode">
                                            </mat-form-field>
                                        </div> -->
          <!-- <div class="col-md-2"> 
                        <mat-form-field style="
                        width: 100%;margin-left: 1%;margin-top: 3%;"  appearance="outline">
                            <mat-label>Gl Number</mat-label>
                            <input matInput formControlName="glnumber">
                          </mat-form-field>
                    </div> -->
          <!-- <div class="col-md-2">
                                            <mat-form-field style="
                        width: 100%;margin-left: 15%;margin-top: 3%;" appearance="outline">
                                                <mat-label>Transaction Date</mat-label>
                                                <input matInput formControlName="tranactiondate">
                                            </mat-form-field>
                                        </div> -->
          <!-- <div class="col-md-2">
                        <mat-form-field
                          appearance="outline"
                          style="color: black; width: 150%; margin-top: 3%"
                        >
                          <mat-label style="color: black; font-size: small"
                            >Select Header</mat-label
                          >
                          <mat-select matInput formControlName="creditdebit">
                            <mat-option
                              *ngFor="let item of fasheaderlist"
                              [value]="item.name"
                            >
                              {{ item.name }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div> -->
          <!-- <div class="col-md-2">
                        <mat-form-field
                          style="width: 150%; margin-left: 35%; margin-top: 3%"
                          appearance="outline"
                        >
                          <mat-label>Values</mat-label>
                          <input matInput formControlName="others" />
                        </mat-form-field>
                      </div> -->
          <!-- <div class="col-md-3">
                            <mat-form-field appearance="outline" class="legacy">
                              <mat-label>BranchCode</mat-label>
                              <input matInput formControlName="branchcontrol" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Transaction Date</mat-label>
                              <input
                                matInput
                                formControlName="Transactiondatepatch"
                              />
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Dr/Cr</mat-label>
                              <input
                                matInput
                                formControlName="DebitandCredit"
                              />
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Others</mat-label>
                              <input matInput formControlName="Commonfield" />
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="row paddingfas" style="gap: 4px;">
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Comp</mat-label>
                              <mat-select
                                matInput
                                formControlName="AmtComparisons"
                              >
                                <mat-option
                                  *ngFor="let item of Comparisons"
                                  [value]="item.id"
                                >
                                  {{ item.value }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Amount</mat-label>
                              <input matInput formControlName="Amountt" />
                            </mat-form-field>
                          </div>

                          <div class="col-md-3 search">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              type="button"
                              (click)="fassearchtable(1)"
                            >
                              <mat-icon>search</mat-icon>
                            </button>
                          </div>
                          <div class="col-md-3 clear">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              type="button"
                              (click)="fastableclear()"
                            >
                              <mat-icon>refresh</mat-icon>
                            </button>
                          </div>
                        </div>
                      </form> -->

          <!-- <div
                      class="mat-elevation-z5"
                      class="table-row"
                      style="max-width: 170%; overflow-x: scroll"
                    > -->
          <!-- <div class="table-container">
                        <table
                          class="table table-bordered width"
                          id="boxlevel"
                          style="margin-left: -2%"
                        >
                          <thead class="table_header">
                            <th>S.No</th>
                            <th *ngFor="let key of this.wisefinKeys">
                              {{ key }}
                            </th> -->
          <!-- <th>Branch Code</th>
                            <th>Entry Gid</th>
                            <th>Transaction Date</th>
                            <th>Remark</th>
                            <th>Entry Crno</th>
                            <th>Entry Module</th>
                            <th>Dr/Cr</th>
                            <th>Amount</th> -->
          <!-- <th>Action</th> -->
          <!-- <th>Compare</th> -->
          <!-- <th>Tag Number</th>
                            <th *ngIf="actionChange">Select</th> -->

          <!-- <th>Action Type</th> -->
          <!-- </thead>
                          <tbody>
                            <tr *ngFor="let sum of tabledata; let i = index">
                              <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                              <td *ngFor="let key of wisefinKeys">
                                {{ sum[wisefindatas[key]] }}
                              </td> -->
          <!-- <td
                                (click)="
                                  getfassearch(
                                    sum?.fas_branch_code,
                                    'Branch Code'
                                  )
                                "
                                class="pointer"
                              >
                                {{ sum?.fas_branch_code }}
                              </td>
                              <td
                                (click)="
                                  getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                                "
                                class="pointer"
                              >
                                {{ sum?.fas_entry_gid }}
                              </td>
                              <td
                                (click)="
                                  getfassearch(
                                    sum?.fas_transaction_date,
                                    'Branch date'
                                  )
                                "
                                class="pointer"
                              >
                                {{ sum?.fas_transaction_date }}
                              </td>
                              <td
                                (click)="
                                  getfassearch(sum?.fas_remark, 'Remark')
                                "
                                class="pointer"
                              >
                                {{ sum?.fas_remark }}
                              </td>
                              <td
                                (click)="
                                  getfassearch(
                                    sum?.fas_entry_crno,
                                    'Entry Crno'
                                  )
                                "
                                class="pointer"
                              >
                                {{ sum?.fas_entry_crno }}
                              </td>
                              <td
                                (click)="
                                  getfassearch(
                                    sum?.fas_entry_module,
                                    'Entry Module'
                                  )
                                "
                                class="pointer"
                              >
                                {{ sum?.fas_entry_module }}
                              </td>
                              <td
                                (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                                class="pointer"
                              >
                                {{ sum?.fas_dr_cr }}
                              </td>
                              <td
                                (click)="
                                  getfassearch(sum?.fas_amount, 'Amount')
                                "
                                class="pointer"
                                style="text-align: right"
                              >
                                {{ formatNumberWithCommas(sum?.fas_amount) }}
                              </td> -->

          <!-- <td>
                                {{ sum?.fas_action }}
                              </td>

                              <td>
                                {{ sum?.fas_tag_no }}
                              </td>
                              <td *ngIf="actionChange" class="text-center">
                                <mat-checkbox
                                  class="jwcheck"
                                  mat-primary
                                  (change)="isChecked(sum, $event, 1)"
                                  [checked]="
                                    checkedItems.includes(sum?.id) ||
                                    sum?.fas_tag_no.length == 13
                                  "
                                  [disabled]="sum?.fas_tag_no.length == 13"
                                ></mat-checkbox>
                              </td>
                            </tr>
                            <tr *ngIf="tabledata?.length == 0">
                              <td colspan="5" class="text-center">
                                No Records Found..!
                              </td>
                            </tr>
                          </tbody> -->
          <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
          <!-- </table>
                        <div class="paginationDiv">
                          <button
                            mat-icon-button
                            [disabled]="pagination.has_previous === false"
                            color="primary"
                            (click)="fasmanualpreviousClick()"
                          >
                            <mat-icon>arrow_back</mat-icon>
                          </button>
                          <b style="align-items: center;margin-top: 9px;">{{ pagination.index }}</b>
                          <button
                            mat-icon-button
                            [disabled]="pagination.has_next === false"
                            color="primary"
                            (click)="fasmanualnextClick()"
                          >
                            <mat-icon>arrow_forward</mat-icon>
                          </button>
                        </div>
                      </div> -->

          <!-- </div> -->
          <!-- <p>
                      FAS Amount:{{
                        formatNumberWithCommas(fas_compare_total)
                      }}
                    </p> -->
          <!-- </div>
                    <div class="col-md-6">
                      <h3 style="font-weight: bold; margin-top: 15px">
                        CBS Table
                      </h3>
                      <form [formGroup]="cbssearch">
                        <div class="row paddingcbs"> -->
          <!-- <div class="col-md-2">
                                            <mat-form-field style="
                        width: 100%;margin-top: 3%;" appearance="outline">
                                                <mat-label>Branch code</mat-label>
                                                <input matInput formControlName="cbsbranchcode">
                                            </mat-form-field>
                                        </div>
    
                                        <div class="col-md-2">
                                            <mat-form-field style="
                        width: 100%;margin-top: 3%;" appearance="outline">
                                                <mat-label>Date</mat-label>
                                                <input matInput formControlName="cbstranactiondate">
                                            </mat-form-field>
                                        </div> -->
          <!-- <div class="col-md-2">
                        <mat-form-field
                          appearance="outline"
                          style="color: black; width: 150%; margin-top: 3%"
                        >
                          <mat-label style="color: black; font-size: small"
                            >Select Header</mat-label
                          >
                          <mat-select matInput formControlName="cbscreditdebit">
                            <mat-option
                              *ngFor="let item of cbsheaderlist"
                              [value]="item.name"
                            >
                              {{ item.name }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div> -->
          <!-- 
                      <div class="col-md-2">
                        <mat-form-field
                          style="width: 150%; margin-top: 3%; margin-left: 35%"
                          appearance="outline"
                        >
                          <mat-label>Values</mat-label>
                          <input matInput formControlName="cbsamount" />
                        </mat-form-field>
                      </div> -->

          <!-- <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>BranchCode</mat-label>
                              <input
                                matInput
                                formControlName="branchcontrolcbs"
                              />
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Transaction Date</mat-label>
                              <input
                                matInput
                                formControlName="Transactiondatepatchcbs"
                              />
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Dr/Cr</mat-label>
                              <input
                                matInput
                                formControlName="DebitandCreditcbs"
                              />
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Others</mat-label>
                              <input matInput formControlName="Commonfield" />
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row paddingcbs" style="gap: 4px;">
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Comp</mat-label>
                              <mat-select
                                matInput
                                formControlName="AmtComparisons"
                              >
                                <mat-option
                                  *ngFor="let item of Comparisons"
                                  [value]="item.id"
                                >
                                  {{ item.value }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="legacy" appearance="outline">
                              <mat-label>Amount</mat-label>
                              <input matInput formControlName="Amounttcbs" />
                            </mat-form-field>
                          </div>

                          <div class="col-md-3 search">
                            <button
                              mat-mini-fab
                              type="button"
                              id="buttonsSubmit"
                              aria-label="Search"
                              (click)="cbssearchtable(1)"
                            >
                              <mat-icon>search</mat-icon>
                            </button>
                          </div>
                          <div class="col-md-3 clear">
                            <button
                              mat-mini-fab
                              id="buttonsSubmit"
                              aria-label="Search"
                              (click)="cbstableclear()"
                            >
                              <mat-icon>refresh</mat-icon>
                            </button>
                          </div>
                        </div>
                      </form> -->

          <!-- <div
                      class="mat-elevation-z5"
                      class="table-row"
                      style="max-width: 170%; overflow-x: scroll"
                    > -->
          <!-- <div class="table-container">
                        <table class="table table-bordered width" id="boxlevel">
                          <thead class="table_header">
                            <tr>
                              <th>S.No</th>
                              <th *ngFor="let key of this.cbsKeys">
                                {{ key }}
                              </th> -->
          <!-- <th>Branch Code</th>
                              <th>Date</th>
                              <th>Narration</th>
                              <th>Dr/Cr</th>
                              <th>Amount</th> -->
          <!-- <th>Action</th> -->
          <!-- <th>Compare</th> -->
          <!-- <th>Tag Number</th> -->
          <!-- <th>Action Type</th> -->
          <!-- <th *ngIf="actionChange">Select</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let sum of cbstabledata; let i = index">
                              <td>
                                {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                              </td>
                              <td *ngFor="let key of cbsKeys">
                                {{ sum[cbsdatas[key]] }}
                              </td> -->
          <!-- <td
                                (click)="
                                  getcbssearch(
                                    sum?.cbs_branch_code,
                                    'Branch Code'
                                  )
                                "
                                class="pointer"
                              >
                                {{ sum?.cbs_branch_code }}
                              </td>
                              <td
                                (click)="
                                  getcbssearch(
                                    sum?.cbs_transaction_date,
                                    'Branch date'
                                  )
                                "
                              >
                                {{ sum?.cbs_transaction_date }}
                              </td> -->
          <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
          <!-- <td>{{sum?.cbs_narration}}</td> -->

          <!-- <td>{{sum?.cbs_branch_code}}</td> -->
          <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
          <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
          <!-- <td>{{sum?.cbs_amount}}</td> -->

          <!-- <td
                                (click)="
                                  getcbssearch(sum?.cbs_narration, 'Narration')
                                "
                                class="pointer"
                              >
                                {{ sum?.cbs_narration }}
                              </td>
                              <td
                                (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                                class="pointer"
                              >
                                {{ sum?.cbs_dr_cr }}
                              </td>
                              <td
                                (click)="
                                  getcbssearch(sum?.cbs_amount, 'Amount')
                                "
                                class="pointer"
                                style="text-align: right"
                              >
                                {{ formatNumberWithCommas(sum?.cbs_amount) }}
                              </td> -->
          <!-- <td>
                                {{ sum?.cbs_action }}
                              </td> -->

          <!-- <td>{{sum?.cbs_action}}</td> -->
          <!-- <td *ngIf="sum?.cbs_action === ''">
                              <button
                                (click)="addiconcbs(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </td> -->
          <!-- <td>
                                {{ sum?.cbs_tag_no }}
                              </td>
                              <td *ngIf="actionChange" class="text-center">
                                <mat-checkbox
                                  mat-primary
                                  class="gefucheck"
                                  (change)="isChecked(sum, $event, 2)"
                                  [checked]="
                                    checkedItems.includes(sum?.id) ||
                                    sum?.cbs_tag_no?.length == 13
                                  "
                                  [disabled]="sum?.cbs_tag_no?.length == 13"
                                ></mat-checkbox>
                              </td>
                            </tr>
                            <tr *ngIf="cbstabledata?.length == 0">
                              <td colspan="4" class="text-center">
                                No Records Found..!
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <div class="paginationDiv">
                          <button
                            mat-icon-button
                            [disabled]="paginationcbs.has_previous === false"
                            color="primary"
                            (click)="cbsmanualpreviousClick()"
                          >
                            <mat-icon>arrow_back</mat-icon>
                          </button>
                          <b style="align-items: center;margin-top: 9px;"> {{ paginationcbs.index }}</b>
                          <button
                            mat-icon-button
                            [disabled]="paginationcbs.has_next === false"
                            color="primary"
                            (click)="cbsmanualnextClick()"
                          >
                            <mat-icon>arrow_forward</mat-icon>
                          </button>
                        </div>
                      </div> -->

          <!-- </div> -->
          <!-- <p>
                      CBS Amount:{{
                        formatNumberWithCommas(cbs_compare_total)
                      }}
                    </p> -->
          <!-- </div>
                  </div>
                </mat-tab>
              </span>
            </mat-tab-group>
            <div class="row" *ngIf="actionChange">
              <div class="col-md-12 text-right"> -->
          <!-- <button 
                  type="button" 
                  class="btn btn-outline-secondary"
                  (click)="changeSubTab(0)">
                  Back
                </button>
                <button
                  type="button"
                  class="btn btn-outline-secondary"
                  (click)="changeSubTab(1)">
                  Next
                </button> -->
          <!-- <button 
                  type="button" 
                  class="btn btn-outline-primary orders" 
                  (click)="dataSave(1)">
                  Save
                </button> -->
          <!-- <button
                  type="button"
                  class="btn btn-outline-success orders"
                  (click)="getRemarks()"
                  data-toggle="modal"
                  data-target="#remarks"
                >
                  Submit
                </button>
                <button
                  type="button"
                  class="btn btn-outline-info orders"
                  (click)="resetcombineDataJWpage()"
                  data-toggle="modal"
                  data-target="#combineDataJW"
                >
                  Combine
                </button>
                <button
                  type="button"
                  class="btn btn-outline-primary orders"
                  (click)="closed(1)"
                  data-toggle="modal"
                  data-target="#closed"
                >
                  Close
                </button> -->
          <!-- <button *ngIf="action == 4"
                  type="button" 
                  class="btn btn-outline-info orders"  
                  (click)="combineDataGEFU()"
                  data-toggle="modal"
                  data-target="#combineDataGEFU">
                  Combine
                </button> -->
          <!-- </div>
            </div>
          </ng-container>
        </mat-tab> -->
        </mat-tab-group>
      </div>
      <!-- <div> -->

      <!-- <div class="mat-elevation-z5" class="table-row">
        <div style=" margin-left: 4%;">
          <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
              <thead class="table_header">
                <th>S.No</th>
                
                <th>Branch Code</th>
                <th>Entry Gid</th>
                <th>Transaction Date</th>   
                <th>Dr/Cr</th>
                <th>Amount</th>
                <th>Remark</th>
                <th>Entry Crno</th>
                <th>Entry Module</th>
                <th>Tag Number</th>
                <th>Action</th>
                <th>Action Type</th>
              
              </thead>
              <tbody *ngFor="let sum of tabledata; let i=index">
                  <td>{{(pagination.index - 1)*10 +i+1}}</td>
                  
                  <td>{{sum?.fas_branch_code}}</td>
                  <td>{{sum?.fas_entry_gid}}</td>
                  <td>{{sum?.fas_transaction_date}}</td>
                  <td>{{sum?.fas_dr_cr}}</td>
                  <td>{{sum?.fas_amount}}</td>
                  <td>{{sum?.fas_remark}}</td>
                  <td>{{sum?.fas_entry_crno}}</td>
                  <td>{{sum?.fas_entry_module}}</td>
                  <td style="display: flex; justify-content: space-between; gap: 10px">
                    <p>{{sum?.fas_tag_no}}</p>
                    
                        <button  mat-icon-button class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModalCenter" (click)="edittagnumber(sum,4)">
                            <span class="material-icons">create</span>
                             </button>
                    

                  </td>
                  <td>
                    <span >
                        <form [formGroup]="fasaction">
                            <div class="col-sm-2"  >
                                <mat-form-field style="color:black;width: 165px;margin-left: 25px;" appearance="outline" >
                                    <mat-label style="color:black;font-size:small;">Actions</mat-label>
        
                                    <mat-select formControlName="actions" [disabled]="sum?.fas_action !==''">
                                        <mat-option *ngFor="let columns of columnList"
                                            [value]="columns" (click)="actionfasclick(sum,columns)">{{columns.type}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </form> 
                    </span>
                   
                 </td>
                 <td>{{sum?.fas_action}}</td>
                 <td><button (click)="addiconfas(sum)" mat-icon-button class="btn btn-outline-primary">
                    <span class="material-icons">add_circle</span>
                     </button>
                 </td>
              </tbody>
          </table>
        </div>

        <div style="font-size: small;text-align:right;margin-right: 1%;">
          <button mat-icon-button [disabled]="pagination.has_previous === false" color="primary" (click)="fasmanualpreviousClick()">
              <mat-icon>arrow_back</mat-icon>
          </button> {{pagination.index}}
          <button mat-icon-button [disabled]="pagination.has_next === false" color="primary" (click)="fasmanualnextClick()">
              <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
        <div  class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header" style=" background-color: #ddefdd;">
                  <h3 class="modal-title" id="exampleModalLongTitle" style="color: black;font-weight: bold;">Edit Tag Number</h3>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:black;">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="width: 600px;">
               
                <tr>
                   
                    <td>

                        <form [formGroup]="fassearch">
                            <div class="input-container">
                              <span class="readonly-prefix">{{ edit_tag_no }}</span>
                              <input type="text"  formControlName="edittag_number">
                            </div>
                          </form>
                    </td>
                
                </tr>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary"   #closebuttontag data-dismiss="modal" >Close</button>
                  <button type="button" class="btn btn-secondary"  (click)="submittagnumber(1)">Submit</button>
                </div>
              </div>
            </div>
          </div>
      </div> -->
      <!-- <h3 style="margin-left: 28px;font-weight: bold;">CBS Table</h3>
            <form [formGroup]="cbssearch">
                <div class="row">

                    <div class="col-md-2">
                        <mat-form-field style="
                    width: 100%;margin-left: 13%;margin-top: 3%;" appearance="outline">
                            <mat-label>Branch code</mat-label>
                            <input matInput formControlName="cbsbranchcode">
                        </mat-form-field>
                    </div>

                    <div class="col-md-2">
                        <mat-form-field style="
                    width: 100%;margin-left: 18%;margin-top: 3%;" appearance="outline">
                            <mat-label>Date</mat-label>
                            <input matInput formControlName="cbstranactiondate">
                        </mat-form-field>
                    </div>
                    <div class="col-md-2">
                        <mat-form-field appearance="outline"
                            style="color:black;width: 100%;margin-left: 22%;margin-top: 3%;">
                            <mat-label style="color:black;font-size:small;">Select Header</mat-label>
                            <mat-select matInput formControlName="cbscreditdebit">
                                <mat-option *ngFor="let item of cbsmanualheaderlist" [value]="item.name">
                                    {{item.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="col-md-2">
                        <mat-form-field style="
                    width: 100%;margin-left: 26%;margin-top: 3%;" appearance="outline">
                            <mat-label>Values</mat-label>
                            <input matInput formControlName="cbsamount">
                        </mat-form-field>
                    </div>
                    <div class="col-md-2" style="margin-top: 18px;margin-left: 51px;">
                        <button mat-stroked-button type="button" id="buttonsSubmit" aria-label="Search"
                            (click)="cbssearchtable(1)">
                            <mat-icon>search</mat-icon>
                        </button>
                    </div>

                </div>
                <div class="mat-elevation-z5" class="table-row">
                    <div style=" margin-left: 4%;">
                        <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
                            <thead class="table_header">
                                <th>S.No</th>
                                <th>Branch Code</th>
                                <th>Date</th>
                                <th>Narration</th>
                                <th>Dr/Cr</th>
                                <th> Amount</th>

                                <th>Tag Number</th>
                                <th>Action</th>
                                <th>Action Type</th>

                            </thead>
                            <tbody *ngFor="let sum of cbstabledata; let i=index">
                                <td>{{(paginationcbs.index - 1)*10 +i+1}}</td>
                                <td>{{sum?.cbs_branch_code}}</td>
                                <td>{{sum?.cbs_transaction_date}}</td>
                                <td>{{sum?.cbs_narration}}</td>
                                <td>{{sum?.cbs_dr_cr}}</td>
                                <td>{{sum?.cbs_amount}}</td>

                                <td style="display: flex; justify-content: space-between; gap: 10px">
                                    <p>{{sum?.cbs_tag_no}} </p>

                                    <button mat-icon-button class="btn btn-outline-primary" data-toggle="modal"
                                        data-target="#exampleModalCentercbs" (click)="editcbstagnumber(sum,5)">
                                        <span class="material-icons">create</span>
                                    </button>

                                </td>
                                <td>
                                    <span>
                                        <form [formGroup]="cbsaction">
                                            <div class="col-sm-2">
                                                <mat-form-field
                                                    style="color:black;width: 165px;margin-left: 25px;"
                                                    appearance="outline">
                                                    <mat-label
                                                        style="color:black;font-size:small;">Actions</mat-label>

                                                    <mat-select formControlName="actions"
                                                        [disabled]="sum?.cbs_action !==''">
                                                        <mat-option *ngFor="let columns of columnList"
                                                            [value]="columns"
                                                            (click)="actioncbsclick(sum,columns)">{{columns.type}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </form>
                                    </span>

                                </td>
                                <td>{{sum?.cbs_action}}</td>
                                <td><button (click)="addiconcbs(sum)" mat-icon-button
                                        class="btn btn-outline-primary">
                                        <span class="material-icons">add_circle</span>
                                    </button>
                                </td>

                            </tbody>
                        </table>
                    </div>

                    <div style="font-size: small;text-align:right;margin-right: 1%;">
                        <button mat-icon-button [disabled]="paginationcbs.has_previous === false"
                            color="primary" (click)="cbsmanualpreviousClick()">
                            <mat-icon>arrow_back</mat-icon>
                        </button> {{paginationcbs.index}}
                        <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary"
                            (click)="cbsmanualnextClick()">
                            <mat-icon>arrow_forward</mat-icon>
                        </button>
                    </div>
                    <div class="modal fade" id="exampleModalCentercbs" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header" style=" background-color: #ddefdd;">
                                    <h3 class="modal-title" id="exampleModalLongTitle"
                                        style="color: black;font-weight: bold;">Edit Tag Number</h3>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                        style="color:black;">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body" style="width: 600px;">

                                    <tr>

                                        <td>
                                            <form [formGroup]="fassearch">
                                                <div class="input-container">
                                                    <span class="readonly-prefix">{{ edit_tag_no }}</span>
                                                    <input type="text" formControlName="edittag_number">
                                                </div>
                                            </form>
                                        </td>

                                    </tr>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-secondary" #closebuttontag
                                        (click)="submittagnumber(1)">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form> -->
      <!-- <div class="mat-elevation-z5" class="table-row">
        <div style=" margin-left: 4%;">
          <table class="table table-bordered" id="boxlevel" style="margin-left: -2%;">
              <thead class="table_header">
                <th>S.No</th>
                <th>Branch Code</th>
                <th>Date</th>
                <th>Narration</th>
                <th>Dr/Cr</th>   
                <th> Amount</th>
              
                <th>Tag Number</th>
                <th>Action</th>
                <th>Action Type</th>
                
              </thead>
              <tbody *ngFor="let sum of cbstabledata; let i=index">
                  <td>{{(paginationcbs.index - 1)*10 +i+1}}</td>
                  <td>{{sum?.cbs_branch_code}}</td>
                  <td>{{sum?.cbs_transaction_date}}</td>
                  <td>{{sum?.cbs_narration}}</td>
                  <td>{{sum?.cbs_dr_cr}}</td>
                  <td>{{sum?.cbs_amount}}</td>
                 
                  <td style="display: flex; justify-content: space-between; gap: 10px"> 
                    <p>{{sum?.cbs_tag_no}} </p>
                    
                        <button  mat-icon-button class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModalCentercbs" (click)="editcbstagnumber(sum,5)">
                            <span class="material-icons">create</span>
                             </button>
                   
                  </td>
                  <td>
                    <span>
                        <form [formGroup]="cbsaction">
                            <div class="col-sm-2">
                                <mat-form-field style="color:black;width: 165px;margin-left: 25px;" appearance="outline">
                                    <mat-label style="color:black;font-size:small;">Actions</mat-label>
        
                                    <mat-select formControlName="actions" [disabled]="sum?.cbs_action !==''">
                                        <mat-option *ngFor="let columns of columnList"
                                            [value]="columns" (click)="actioncbsclick(sum,columns)">{{columns.type}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </form> 
                    </span>
                   
                 </td>
                 <td>{{sum?.cbs_action}}</td>
                 <td><button (click)="addiconcbs(sum)" mat-icon-button class="btn btn-outline-primary">
                    <span class="material-icons">add_circle</span>
                     </button>
                 </td>
                 
              </tbody>
          </table>
        </div>

        <div style="font-size: small;text-align:right;margin-right: 1%;">
          <button mat-icon-button [disabled]="paginationcbs.has_previous === false" color="primary" (click)="cbsmanualpreviousClick()">
              <mat-icon>arrow_back</mat-icon>
          </button> {{paginationcbs.index}}
          <button mat-icon-button [disabled]="paginationcbs.has_next === false" color="primary" (click)="cbsmanualnextClick()">
              <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
        <div  class="modal fade" id="exampleModalCentercbs" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header" style=" background-color: #ddefdd;">
                  <h3 class="modal-title" id="exampleModalLongTitle" style="color: black;font-weight: bold;">Edit Tag Number</h3>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:black;">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="width: 600px;">
               
                <tr>
                   
                    <td>
                        <form [formGroup]="fassearch">
                            <div class="input-container" >
                              <span class="readonly-prefix">{{ edit_tag_no }}</span>
                              <input type="text" formControlName="edittag_number">
                            </div>
                          </form>
                    </td>
                
                </tr>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal" >Close</button>
                  <button type="button" class="btn btn-secondary"   #closebuttontag  (click)="submittagnumber(1)" >Submit</button>
                </div>
              </div>
            </div>
          </div>
      </div> -->
      <!-- <div class="row">
            <button
              class="btn btn-outline-info"
              style="border-radius: 25px; font-size: small"
              (click)="changeTab(0)"
            >
              Back
            </button>
            <button
              class="btn btn-outline-info"
              style="border-radius: 25px; font-size: small"
              (click)="savemanualmatch(1)"
            >
              Submit
            </button>
            <button
              class="btn btn-outline-info"
              style="border-radius: 25px; font-size: small"
              (click)="compareamount(1)"
            >
              Compare
            </button>
          </div> -->
      <!-- <div style="margin-left: 91%;">
            <button class="btn btn-outline-info"
                style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: -137px;"
                (click)="changeTab(0)">Back</button>
            <button class="btn btn-outline-info"
                style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: 10px;"
                (click)="savemanualmatch(1)">Submit</button>
            <button class="btn btn-outline-info"
                style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: 10px;"
                (click)="compareamount(1)">Compare</button>
        </div> -->

      <!-- </div> -->
      <!-- <p>
            FAS Amount:{{
              formatNumberWithCommas(fas_compare_total)
            }}
          </p> -->
      <!-- <h3 style="margin-top: 25px; font-weight: bold; margin-left: 2%">
           </h3> -->
      <!-- </div> -->
      <!-- <p>
            CBS Amount:{{
              formatNumberWithCommas(cbs_compare_total)
            }}
          </p> -->
      <!-- <div style="margin-left: 91%;">
              <button class="btn btn-outline-info" style="border-radius:25px;font-size: small;margin-top: 7%;margin-left: -35px;" (click)="getbacktomain()">Back</button>
              
            </div> -->

      <!-- <div class="col-md-3">
                        <mat-form-field appearance="outline" style="width: 70%;margin-top: 3%;    margin-left: -17%;">
                            <mat-label>To Date</mat-label>
                            <input matInput readonly [matDatepicker]="picker31" placeholder="Date" autocomplete="off"
                                formControlName="todate">
                            <mat-datepicker-toggle class="rmudatetoggle" matSuffix [for]="picker31">
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker31></mat-datepicker>
                        </mat-form-field>
                    </div> -->

      <!-- <mat-form-field
              appearance="outline"
              style="
                color: black;
                width: 100%;
                margin-left: -15%;
                margin-top: 3%;
              "
            >
              <mat-label style="color: black; font-size: small"
                >Account/GL</mat-label>

              <mat-select matInput formControlName="account_id">
                <mat-option
                  *ngFor="let item of integritydata"
                  [value]="item"
                  (click)="getglcodeid(item)"
                >
                  {{ item.gl_code }}
                </mat-option>
              </mat-select>
            </mat-form-field>
             -->
      <!-- <lib-vs-dynamicform-cmp
                [InputFields]="searchvar"
                (dataEvent)="getglcodeid($event)" 
                [ResetForm]="resetForm"
                >
            </lib-vs-dynamicform-cmp> -->

      <!-- <div class="col-md-2 accgl"> -->
      <!-- <mat-form-field
              style="width: 100%; margin-left: -11%; margin-top: 3%"
              appearance="outline"
              (click)="branchslist()"
            >
              <mat-label>Branch Code</mat-label>
              <mat-select matInput formControlName="branch">
                <mat-option
                  *ngFor="let branch of branchlist"
                  [value]="branch"
                  (click)="selectBranch(branch)"
                >
                  {{ branch.branch }}
                </mat-option>
              </mat-select>
            </mat-form-field> -->
      <!-- <lib-vs-dynamicform-cmp
                class="branch"
                [InputFields]="searchvar1"
                (dataEvent)="selectBranch($event)" [ResetForm]="resetFormdata" 
                >
            </lib-vs-dynamicform-cmp> -->
      <!-- </div> -->

      <!-- <mat-form-field
              style="width: 100%; margin-left: -20%; margin-top: 6.5%"
              appearance="outline"
            >
              <mat-label>ARS Status</mat-label>
              <mat-select formControlName="status" #select [(value)]="selectedStatus">
                <mat-option
                  *ngFor="let obj of statusList"
                  [value]="obj.id"
                  >{{ obj.value }}</mat-option>
              </mat-select>
              <button mat-button *ngIf="selectedStatus" matSuffix mat-icon-button aria-label="Clear" (click)="clearSelection()">
                <mat-icon class="clear-icon">close</mat-icon>
              </button>
            </mat-form-field> -->

      <!-- <div class="row"> -->
      <!-- </div> -->
      <!-- <div class="row"> -->
      <!-- </div> -->
      <!-- <div class="row">
          <div class="col-md-4">
            <button
              class="btn btn-outline-info getdata"
              (click)="adddocument(1)">
              Get Data
            </button>
            <button
            class="btn btn-outline-secondary reset"
            (click)="reset()"
          >
            Reset
          </button>
          </div>
        </div> -->

      <mat-card style="margin-bottom: 2%" *ngIf="displayactionK">
        <mat-card-header>
          <mat-card-title style="font-size: smaller"
            >ACTION KNOCKOFF
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="actionKnock">
            <div class="row">
              <div class="col-sm-2">
                <mat-form-field
                  style="color: black; width: 165px; margin-left: 25px"
                  appearance="outline"
                >
                  <mat-label style="color: black; font-size: small"
                    >Actions</mat-label
                  >

                  <mat-select formControlName="actions" #select>
                    <mat-option
                      *ngFor="let columns of columnList"
                      [value]="columns.id"
                      >{{ columns.type }}</mat-option
                    >
                  </mat-select>
                </mat-form-field>
              </div>
              <!-- <div class="col-sm-2">
                        <mat-form-field class="example-form-field" style="margin-left: 18%;">
                            <mat-label>Action Ref No</mat-label>
                            <input matInput type="text" formControlName="arn">
                        </mat-form-field>
                    </div> -->
              <div class="col-sm-3">
                <mat-form-field
                  style="color: black; margin-left: 5px"
                  appearance="outline"
                >
                  <mat-label style="color: black">Action Ref Date</mat-label>
                  <input
                    matInput
                    readonly
                    [matDatepicker]="picker10"
                    placeholder="ARN Date"
                    autocomplete="off"
                    formControlName="arn_date"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker10"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #picker10></mat-datepicker>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field appearance="outline">
                  <textarea
                    matInput
                    placeholder="Comment"
                    formControlName="description"
                  >
                  </textarea>
                </mat-form-field>
              </div>
              <div class="col-sm-2">
                <button
                  class="btn btn-outline-success"
                  style="
                    font-size: smaller;
                    margin-left: 20px;
                    border-radius: 25px;
                    margin-top: 10%;
                  "
                  id="autobtn"
                  (click)="newAction()"
                >
                  SUBMIT
                </button>
              </div>
            </div>
          </form>
        </mat-card-content>
      </mat-card>

      <!-- <div class="row" *ngIf="displaybuttonss" style="text-align:center;">
        <br>

        <mat-button-toggle-group name="chooseSystem" aria-label="Choose System"
            style="margin-left:6%;font-size: 13px;border-radius: 25px;height: 34px;" [ngModel]="selectedVal">
            <mat-button-toggle value="brs" (click)="showbrs()" style="font-size:smaller;">Mirror</mat-button-toggle>
            <mat-button-toggle value="inter" (click)="showinter()" style="font-size:smaller ;">CC</mat-button-toggle>
        </mat-button-toggle-group>
        <button class="btn btn-outline-success"
            style="font-size:smaller; margin-left: 20px;border-radius: 25px;height: 34px; " id="autobtn"
            (click)="autoknockoff()">Auto Knockoff</button>

        <button class="btn btn-outline-success"
            style="margin-left:25px;font-size: 13px;border-radius: 25px;height: 34px;" id="manualbtn"
            (click)="manualknockoff()">Manual Knockoff</button>
        <button class="btn btn-outline-warning"
            style="margin-left:25px;font-size: 13px;border-radius: 25px;height: 34px;" id="actionbtn"
            (click)="actionknockoff()">Action
            Knockoff</button>
        <button class="btn btn-outline-success"
            style="margin-left:25px;font-size: 13px;border-radius: 25px;height: 34px;" id="historybtn"
            (click)="showHistory()">Knockoff
            History</button>
        <button class="btn btn-outline-success"
            style="margin-left:20px;font-size: 13px;border-radius: 25px;height: 34px;" (click)="purgeHistory()">Purge
            History</button>


    </div> -->

      <br />
      <br />
    </main>

    <div *ngIf="showknockofftable" style="margin-top: -7%">
      <mat-accordion class="autoknockss">
        <mat-expansion-panel [expanded]="isExpanded">
          <mat-expansion-panel-header>
            <mat-panel-title>Autoknock Off</mat-panel-title>
          </mat-expansion-panel-header>
          <!-- <mat-panel-description>
                Total Count: {{dataArrays?.length }}
            </mat-panel-description> -->
          <div class="row">
            <div class="col">
              <mat-form-field
                appearance="standard"
                class="full-width"
                style="margin-top: -6%"
              >
                <mat-label>Filter</mat-label>
                <input
                  matInput
                  (keyup)="applyFilter($event)"
                  placeholder="Ex. Amount"
                  #input
                />
              </mat-form-field>
            </div>
            <div class="col">
              <div>
                <p>Total Count: {{ dataArrays?.length }}</p>
                <!-- <p *ngIf="schedulerstat == 0" style="font-size:large ;">COMPLETED
                            <mat-progress-bar mode="determinate" value="100%" color="warn"></mat-progress-bar>   
                        </p>
                        <p *ngIf="schedulerstat == 1">PROCESSING
                            <mat-progress-bar mode="indeterminate"   ></mat-progress-bar> 
                        </p> -->
                <!-- <p *ngIf="schedulerstat == 2">Intiated
                            <mat-progress-bar mode="indeterminate"></mat-progress-bar> 
                        </p>
                        <p *ngIf="schedulerstat == 3">Processing
                            <mat-progress-bar mode="indeterminate"></mat-progress-bar> 
                        </p>
                        <p *ngIf="schedulerstat == 4">Error
                            <mat-progress-bar mode="determinate" value="100%" color="warn"></mat-progress-bar> 
                        </p>
                        <p *ngIf="schedulerstat == 5">Completed
                            <mat-progress-bar mode="determinate" value="100%"></mat-progress-bar> 
                        </p> -->
              </div>
              <!-- <form class="date-block" [formGroup]="filterForm">
                        <div class="date-block__list">
                            <mat-form-field>
                                <input matInput [matDatepicker]="fromDate" placeholder="From Date"
                                    formControlName="fromDate">
                                <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
                                <mat-datepicker #fromDate></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="date-block__list">
                            <mat-form-field>
                                <input matInput [matDatepicker]="toDate" placeholder="To Date" formControlName="toDate">
                                <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
                                <mat-datepicker #toDate></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <button mat-button color="primary" class="primary"
                            (click)="getDateRange(filterForm.value)">Submit</button>
                    </form> -->
            </div>
          </div>

          <div class="mat-elevation-z5">
            <table
              mat-table
              [dataSource]="newDataSource"
              matSort
              #matSorts="matSort"
            >
              <ng-container matColumnDef="gl_date">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="width: 75px; font-size: medium; font-weight: bold"
                >
                  GL Date
                </th>
                <td mat-cell *matCellDef="let element" class="left-text">
                  {{ element.gl_date | date : "dd-MM-yyyy" }}
                </td>
              </ng-container>
              <ng-container matColumnDef="branch_code">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="width: 110px; font-size: small; font-weight: bold"
                >
                  Branch Code
                </th>
                <td mat-cell *matCellDef="let element" class="left-text">
                  {{ element.branch_code }}
                </td>
              </ng-container>

              <ng-container matColumnDef="line_description">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="font-size: medium; font-weight: bold"
                >
                  Line Description
                </th>
                <td mat-cell *matCellDef="let element" class="left-text">
                  {{ element.line_description }}
                </td>
              </ng-container>

              <ng-container matColumnDef="gl_doc_no">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="font-size: medium; font-weight: bold; width: 80px"
                >
                  GID
                </th>
                <td mat-cell *matCellDef="let element" class="left-text">
                  {{ element.gl_doc_no }}
                </td>
              </ng-container>

              <ng-container matColumnDef="debit_amount_ledger">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="font-size: medium; font-weight: bold; width: 85px"
                >
                  Debit
                </th>
                <td mat-cell *matCellDef="let element" class="right-text">
                  {{
                    element.debit_amount_ledger
                      | currency : "INR" : "symbol" : "0.2-6"
                  }}
                </td>
              </ng-container>
              <ng-container matColumnDef="credit_amount_ledger">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="font-size: medium; font-weight: bold; width: 85px"
                >
                  Credit
                </th>
                <td mat-cell *matCellDef="let element" class="right-text">
                  {{
                    element.credit_amount_ledger
                      | currency : "INR" : "symbol" : "0.2-6"
                  }}
                </td>
              </ng-container>
              <ng-container matColumnDef="description">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="
                    font-size: medium;
                    font-weight: bold;
                    padding-left: 16px;
                  "
                >
                  Description
                </th>
                <td
                  mat-cell
                  *matCellDef="let element"
                  class="left-text"
                  style="padding-left: 16px"
                >
                  {{ element.description }}
                </td>
              </ng-container>
              <ng-container matColumnDef="transaction_date">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="font-size: medium; font-weight: bold"
                >
                  Date
                </th>
                <td mat-cell *matCellDef="let element" class="left-text">
                  {{ element.transaction_date | date : "dd-MM-yyyy" }}
                </td>
              </ng-container>
              <ng-container matColumnDef="credit_amount_statement">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="font-size: medium; font-weight: bold; width: 85px"
                >
                  Credit
                </th>
                <td mat-cell *matCellDef="let element" class="right-text">
                  {{
                    element.credit_amount_statement
                      | currency : "INR" : "symbol" : "0.2-6"
                  }}
                </td>
              </ng-container>
              <ng-container matColumnDef="debit_amount_statement">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="font-size: medium; font-weight: bold; width: 85px"
                >
                  Debit
                </th>
                <td mat-cell *matCellDef="let element" class="right-text">
                  {{
                    element.debit_amount_statement
                      | currency : "INR" : "symbol" : "0.2-6"
                  }}
                </td>
              </ng-container>

              <ng-container matColumnDef="ref_1">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  style="font-size: medium; font-weight: bold; width: 70px"
                >
                  REF 1
                </th>
                <td
                  mat-cell
                  *matCellDef="let element"
                  class="left-text"
                  style="color: #ff597b; padding-left: 0px"
                >
                  {{ element.ref_1 }}
                </td>
              </ng-container>

              <ng-container matColumnDef="select">
                <th mat-header-cell *matHeaderCellDef>
                  <mat-checkbox
                    (change)="$event ? toggleAllRows() : null"
                    [checked]="selection.hasValue() && isAllSelected()"
                    [indeterminate]="selection.hasValue() && !isAllSelected()"
                  >
                  </mat-checkbox>
                </th>
                <td
                  mat-cell
                  *matCellDef="let row"
                  style="padding-left: 15px; padding-right: 12px"
                >
                  <mat-checkbox
                    (click)="$event.stopPropagation()"
                    (change)="$event ? selection.toggle(row) : null"
                    [checked]="selection.isSelected(row)"
                  >
                  </mat-checkbox>
                </td>
              </ng-container>

              <ng-container matColumnDef="header-row-first-group">
                <th mat-header-cell *matHeaderCellDef [attr.colspan]="1">
                  MATCH
                </th>
              </ng-container>
              <ng-container matColumnDef="header-row-second-group">
                <th mat-header-cell *matHeaderCellDef [attr.colspan]="5">
                  FAS
                </th>
              </ng-container>
              <ng-container matColumnDef="header-row-third-group">
                <th mat-header-cell *matHeaderCellDef [attr.colspan]="5">
                  CBS
                </th>
              </ng-container>

              <tr
                mat-header-row
                *matHeaderRowDef="[
                  'header-row-first-group',
                  'header-row-second-group',
                  'header-row-third-group'
                ]"
              ></tr>
              <tr mat-header-row *matHeaderRowDef="displayedCoulmnsA"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedCoulmnsA"></tr>
            </table>
            <mat-paginator
              #pageCol3="matPaginator"
              [pageSize]="10"
              [pageSizeOptions]="[10, 25, 50, 100]"
              showFirstLastButtons
            ></mat-paginator>
          </div>

          <section
            *ngIf="confirmbutton"
            style="text-align: center; margin-top: 15px"
          >
            <!-- <button type="button" class="btn" (click)="downloadAuto()" style="margin-right:25px ;">Download Autoknockoff
                    Data</button> -->

            <button
              class="btn btn-outline-success"
              id="rmubtn"
              (click)="confirmsknockoff()"
              style="border-radius: 25px"
            >
              Confirm Autoknockoff
            </button>

            <button
              class="btn btn-outline-warning"
              id="rmubtn"
              style="margin-left: 25px; border-radius: 25px"
              (click)="backtoHome()"
            >
              Back
            </button>
            <!-- <button type="button" class="btn" (click)="gotoBack()" style="margin-left:25px ;">Back</button> -->
          </section>
        </mat-expansion-panel>
      </mat-accordion>
    </div>

    <div id="filtermodal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title">Add Filters</h2>
            <button
              type="button"
              #closebutton
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form [formGroup]="wisefinUpload">
              <table>
                <tr>
                  <td>
                    <mat-form-field style="width: 175px">
                      <mat-label>Filter Column Name</mat-label>
                      <input
                        matInput
                        placeholder="filter column"
                        name="fColumnName"
                        formControlName="fColumnName"
                        autocomplete="off"
                      />
                    </mat-form-field>
                  </td>
                  <td>
                    <mat-form-field style="width: 175px; margin-left: 0px">
                      <mat-label>Filter Column Value</mat-label>
                      <input
                        matInput
                        placeholder="filter value"
                        name="fColumnValue"
                        type="number"
                        formControlName="fColumnValue"
                        autocomplete="off"
                      />
                    </mat-form-field>
                  </td>
                </tr>
                <tr>
                  <td>
                    <mat-form-field style="width: 175px">
                      <mat-label>Filter Column Name</mat-label>
                      <input
                        matInput
                        placeholder="filter column"
                        name="fColumnName1"
                        formControlName="fColumnName1"
                        autocomplete="off"
                      />
                    </mat-form-field>
                  </td>
                  <td>
                    <mat-form-field style="width: 175px; margin-left: 0px">
                      <mat-label>Filter Column Value</mat-label>
                      <input
                        matInput
                        placeholder="filter value"
                        name="fColumnValue1"
                        type="number"
                        formControlName="fColumnValue1"
                        autocomplete="off"
                      />
                    </mat-form-field>
                  </td>
                  <td>
                    <button
                      type="button"
                      class="btn btn-primary"
                      style="border-radius: 25px"
                      data-dismiss="modal"
                    >
                      OK
                    </button>
                  </td>
                  <td>
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-dismiss="modal"
                      style="border-radius: 25px"
                    >
                      Cancel
                    </button>
                  </td>
                </tr>
              </table>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal closed"
      tabindex="1"
      role="dialog"
      aria-labelledby="exampleModalLabels"
      aria-hidden="true"
      id="manualSubmit"
    >
      <div class="modal-dialog modal-xl" role="document" style="width: 100%">
        <div class="modal-content">
          <div
            class="modal-header"
            style="background: rgba(23, 204, 23, 0.288)"
          >
            <h2 class="modal-title" style="color: black">Selected Records</h2>
            <!-- <h2 *ngIf="action == 4" class="modal-title" style="color:black ;">Pass GEFU</h2> -->

            <button
              type="button"
              #closebuttonclosed
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <!-- <br> -->
          <div class="modal-body">
            <!-- <div class="row remark">
                <form [formGroup]="remarksClose">
                  <mat-label class="label">Remarks</mat-label>
                  <mat-form-field appearance="standard" class="remark">
                    <input matInput formControlName="remarksClose" type="text" required>
                  </mat-form-field>
                </form>
              </div> -->
            <div class="row">
              <div class="col-md-6 padd">
                <h3
                  style="margin-left: 10px; margin-top: 15px; font-weight: bold"
                >
                  File 1 Table
                </h3>
                <div class="table-container">
                  <table
                    class="table table-bordered width"
                    id="boxlevel"
                    style="margin-left: -2%"
                  >
                    <thead class="table_header">
                      <th>S.No</th>
                      <!-- <th>Branch Code</th>
                  <th>Entry Gid</th>
                  <th>Transaction Date</th>
                  <th>Remark</th>
                  <th>Entry Crno</th>
                  <th>Entry Module</th>
                  <th>Dr/Cr</th>
                  <th>Amount</th> -->
                      <th *ngFor="let key of this.wisefinKeys">{{ key }}</th>
                      <th>Action</th>
                      <!-- <th>Compare</th> -->
                      <th>Tag Number</th>
                      <!-- <th *ngIf="actionChange">Select</th> -->

                      <!-- <th>Action Type</th> -->
                    </thead>
                    <tbody>
                      <tr *ngFor="let sum of selectedRecFasList; let i = index">
                        <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                        <td *ngFor="let key of wisefinKeys">
                          {{ sum[wisefindatas[key]] }}
                        </td>
                        <!-- <td
                      (click)="
                        getfassearch(sum?.fas_branch_code, 'Branch Code')
                      "
                      class="pointer"
                    >
                      {{ sum?.fas_branch_code }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_entry_gid, 'Entry Gid')"
                      class="pointer"
                    >
                      {{ sum?.fas_entry_gid }}
                    </td>
                    <td
                      (click)="
                        getfassearch(sum?.fas_transaction_date, 'Branch date')
                      "
                      class="pointer"
                    >
                      {{ sum?.fas_transaction_date }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_remark, 'Remark')"
                      class="pointer"
                    >
                      {{ sum?.fas_remark }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_entry_crno, 'Entry Crno')"
                      class="pointer"
                    >
                      {{ sum?.fas_entry_crno }}
                    </td>
                    <td
                      (click)="
                        getfassearch(sum?.fas_entry_module, 'Entry Module')
                      "
                      class="pointer"
                    >
                      {{ sum?.fas_entry_module }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                      class="pointer"
                    >
                      {{ sum?.fas_dr_cr }}
                    </td>
                    <td
                      (click)="getfassearch(sum?.fas_amount, 'Amount')"
                      class="pointer"
                      style="text-align: right"
                    >
                      {{ formatNumberWithCommas(sum?.fas_amount) }}
                    </td> -->

                        <td>
                          {{
                            sum?.fas_type == "1"
                              ? "Assign Tag Number"
                              : sum?.fas_type == "2"
                              ? "JW"
                              : sum?.fas_type == "3"
                              ? "Change Entry Status"
                              : sum?.fas_type == "4"
                              ? "GEFU"
                              : sum?.fas_type
                          }}
                        </td>

                        <td>
                          {{ sum?.fas_tag_no }}
                          <span
                            style="background-color: #ffde4d; font-size: large"
                            >{{ sum?.fas_digit }}</span
                          >
                        </td>
                        <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox class="jwcheck" mat-primary
                                (change)="isChecked(sum,$event,1)"
                                [checked]="checkedItems.includes(sum?.id) || sum?.fas_tag_no.length == 13"
                                [disabled]="sum?.fas_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                        <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox class="jwcheck" mat-primary
                                (change)="isCheckedClose(sum,$event,1)"
                                [checked]="closedcheckedItems.includes(sum?.id)">
                              </mat-checkbox>
                            </td> -->
                      </tr>
                      <tr *ngIf="selectedRecFasList?.length == 0">
                        <td colspan="5" class="text-center">
                          No Records Found..!
                        </td>
                      </tr>
                    </tbody>
                    <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
                  </table>
                  <div class="paginationDiv">
                    <button
                      mat-icon-button
                      [disabled]="pagination.has_previous === false"
                      color="primary"
                      (click)="fasmanualpreviousClick()"
                    >
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                    <b style="align-items: center; margin-top: 9px">
                      {{ pagination.index }}</b
                    >
                    <button
                      mat-icon-button
                      [disabled]="pagination.has_next === false"
                      color="primary"
                      (click)="fasmanualnextClick()"
                    >
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                  </div>
                </div>

                <!-- </div> -->
                <!-- <p>
                      FAS Amount:{{
                        formatNumberWithCommas(fas_compare_total)
                      }}
                    </p> -->
              </div>
              <div class="col-md-6 padd">
                <h3 style="font-weight: bold; margin-top: 15px">
                  File 2 Table
                </h3>

                <div class="table-container">
                  <table class="table table-bordered width" id="boxlevel">
                    <thead class="table_header">
                      <tr>
                        <th>S.No</th>
                        <!-- <th>Branch Code</th>
                    <th>Date</th>
                    <th>Narration</th>
                    <th>Dr/Cr</th>
                    <th>Amount</th> -->
                        <th *ngFor="let key of this.cbsKeys">{{ key }}</th>
                        <th>Action</th>
                        <!-- <th>Compare</th> -->
                        <th>Tag Number</th>
                        <!-- <th>Action Type</th> -->
                        <!-- <th *ngIf="actionChange"> -->
                        <!-- Select
                            </th> -->
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let sum of selectedRecCbsList; let i = index">
                        <td>
                          {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                        </td>
                        <td *ngFor="let key of cbsKeys">
                          {{ sum[cbsdatas[key]] }}
                        </td>
                        <!-- <td
                      (click)="
                        getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                      "
                      class="pointer"
                    >
                      {{ sum?.cbs_branch_code }}
                    </td>
                    <td
                      (click)="
                        getcbssearch(sum?.cbs_transaction_date, 'Branch date')
                      "
                    >
                      {{ sum?.cbs_transaction_date }}
                    </td> -->
                        <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
                        <!-- <td>{{sum?.cbs_narration}}</td> -->

                        <!-- <td>{{sum?.cbs_branch_code}}</td> -->
                        <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
                        <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
                        <!-- <td>{{sum?.cbs_amount}}</td> -->

                        <!-- <td
                      (click)="getcbssearch(sum?.cbs_narration, 'Narration')"
                      class="pointer"
                    >
                      {{ sum?.cbs_narration }}
                    </td>
                    <td
                      (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                      class="pointer"
                    >
                      {{ sum?.cbs_dr_cr }}
                    </td>
                    <td
                      (click)="getcbssearch(sum?.cbs_amount, 'Amount')"
                      class="pointer"
                      style="text-align: right"
                    >
                      {{ formatNumberWithCommas(sum?.cbs_amount) }}
                    </td> -->
                        <td>
                          {{
                            sum?.cbs_type == "1"
                              ? "Assign Tag Number"
                              : sum?.cbs_type == "2"
                              ? "JW"
                              : sum?.cbs_type == "3"
                              ? "Change Entry Status"
                              : sum?.cbs_type == "4"
                              ? "GEFU"
                              : sum?.cbs_type
                          }}
                        </td>

                        <!-- <td>{{sum?.cbs_action}}</td> -->
                        <!-- <td *ngIf="sum?.cbs_action === ''">
                              <button
                                (click)="addiconcbs(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </td> -->
                        <td>
                          {{ sum?.cbs_tag_no }}
                          <span
                            style="background-color: #ffde4d; font-size: large"
                          >
                            {{ sum?.cbs_digit }}
                          </span>
                        </td>
                        <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox mat-primary
                                class="gefucheck" 
                                (change)="isChecked(sum, $event,2)" 
                                [checked]="checkedItems.includes(sum?.id) || sum?.cbs_tag_no.length == 13"
                                [disabled]="sum?.cbs_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                        <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox mat-primary
                                class="gefucheck" 
                                (change)="isCheckedClose(sum, $event,2)" 
                                [checked]="closedcheckedItems.includes(sum?.id)">
                              </mat-checkbox>
                            </td> -->
                      </tr>
                      <tr *ngIf="selectedRecCbsList?.length == 0">
                        <td colspan="4" class="text-center">
                          No Records Found..!
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="paginationDiv">
                    <button
                      mat-icon-button
                      [disabled]="paginationcbs.has_previous === false"
                      color="primary"
                      (click)="cbsmanualpreviousClick()"
                    >
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                    <b style="align-items: center; margin-top: 9px">{{
                      paginationcbs.index
                    }}</b>
                    <button
                      mat-icon-button
                      [disabled]="paginationcbs.has_next === false"
                      color="primary"
                      (click)="cbsmanualnextClick()"
                    >
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                  </div>
                </div>

                <!-- </div> -->
                <!-- <p>
                      CBS Amount:{{
                        formatNumberWithCommas(cbs_compare_total)
                      }}
                    </p> -->
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <!-- <button type="button" class="btn btn-outline-primary orders" (click)="combineSave()" [disabled]="readonlyy"></button> -->
            <button
              type="button"
              class="btn btn-outline-success orders"
              (click)="submitManual(1)"
            >
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="showpopup">
      <div class="modal" id="remarks">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div
              class="modal-header"
              style="background: rgba(23, 204, 23, 0.288)"
            >
              <h2 class="modal-title" style="color: black">Remarks</h2>
              <button
                type="button"
                #closebuttonremarks
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form [formGroup]="remarks">
                <mat-label class="label">Enter Remarks</mat-label>
                <mat-form-field appearance="standard" class="remark">
                  <input
                    matInput
                    formControlName="remarks"
                    type="text"
                    required
                  />
                </mat-form-field>
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-outline-info"
                (click)="dataSubmit(1)"
              >
                Submit
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal closed"
      tabindex="1"
      role="dialog"
      aria-labelledby="exampleModalLabels"
      aria-hidden="true"
      id="closed"
    >
      <div class="modal-dialog modal-xl" role="document" style="width: 100%">
        <div class="modal-content">
          <div
            class="modal-header"
            style="background: rgba(23, 204, 23, 0.288)"
          >
            <h2 *ngIf="action == 2" class="modal-title" style="color: black">
              Pass Wisefin JV
            </h2>
            <h2 *ngIf="action == 4" class="modal-title" style="color: black">
              Pass GEFU
            </h2>

            <button
              type="button"
              #closebuttonclosed
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <!-- <br> -->
          <div class="modal-body">
            <div class="row remark">
              <form [formGroup]="remarksClose">
                <mat-label class="label">Remarks</mat-label>
                <mat-form-field appearance="standard" class="remark">
                  <input
                    matInput
                    formControlName="remarksClose"
                    type="text"
                    required
                  />
                </mat-form-field>
              </form>
            </div>
            <div class="row">
              <div class="col-md-6 padd">
                <h3
                  style="margin-left: 10px; margin-top: 15px; font-weight: bold"
                >
                  File 1 Table
                </h3>
                <div class="table-container">
                  <table
                    class="table table-bordered width"
                    id="boxlevel"
                    style="margin-left: -2%"
                  >
                    <thead class="table_header">
                      <th>S.No</th>
                      <th>Branch Code</th>
                      <th>Entry Gid</th>
                      <th>Transaction Date</th>
                      <th>Remark</th>
                      <th>Entry Crno</th>
                      <th>Entry Module</th>
                      <th>Dr/Cr</th>
                      <th>Amount</th>
                      <th>Action</th>
                      <!-- <th>Compare</th> -->
                      <th>Tag Number</th>
                      <th *ngIf="actionChange">Select</th>

                      <!-- <th>Action Type</th> -->
                    </thead>
                    <tbody>
                      <tr *ngFor="let sum of tabledata; let i = index">
                        <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_branch_code }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_gid }}
                        </td>
                        <td
                          (click)="
                            getfassearch(
                              sum?.fas_transaction_date,
                              'Branch date'
                            )
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_transaction_date }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_remark, 'Remark')"
                          class="pointer"
                        >
                          {{ sum?.fas_remark }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_crno }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_module, 'Entry Module')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_module }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.fas_dr_cr }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.fas_amount) }}
                        </td>

                        <td>
                          {{ sum?.fas_action }}
                        </td>

                        <td>
                          {{ sum?.fas_tag_no }}
                        </td>
                        <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox class="jwcheck" mat-primary
                                (change)="isChecked(sum,$event,1)"
                                [checked]="checkedItems.includes(sum?.id) || sum?.fas_tag_no.length == 13"
                                [disabled]="sum?.fas_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                        <td *ngIf="actionChange" class="text-center">
                          <mat-checkbox
                            class="jwcheck"
                            mat-primary
                            (change)="isCheckedClose(sum, $event, 1)"
                            [checked]="closedcheckedItems.includes(sum?.id)"
                          >
                          </mat-checkbox>
                        </td>
                      </tr>
                      <tr *ngIf="tabledata?.length == 0">
                        <td colspan="5" class="text-center">
                          No Records Found..!
                        </td>
                      </tr>
                    </tbody>
                    <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
                  </table>
                  <div class="paginationDiv">
                    <button
                      mat-icon-button
                      [disabled]="pagination.has_previous === false"
                      color="primary"
                      (click)="fasmanualpreviousClick()"
                    >
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                    <b style="align-items: center; margin-top: 9px">{{
                      pagination.index
                    }}</b>
                    <button
                      mat-icon-button
                      [disabled]="pagination.has_next === false"
                      color="primary"
                      (click)="fasmanualnextClick()"
                    >
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                  </div>
                </div>

                <!-- </div> -->
                <!-- <p>
                      FAS Amount:{{
                        formatNumberWithCommas(fas_compare_total)
                      }}
                    </p> -->
              </div>
              <div class="col-md-6 padd">
                <h3 style="font-weight: bold; margin-top: 15px">
                  File 2 Table
                </h3>

                <div class="table-container">
                  <table class="table table-bordered width" id="boxlevel">
                    <thead class="table_header">
                      <tr>
                        <th>S.No</th>
                        <th>Branch Code</th>
                        <th>Date</th>
                        <th>Narration</th>
                        <th>Dr/Cr</th>
                        <th>Amount</th>
                        <th>Action</th>
                        <!-- <th>Compare</th> -->
                        <th>Tag Number</th>
                        <!-- <th>Action Type</th> -->
                        <th *ngIf="actionChange">Select</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let sum of cbstabledata; let i = index">
                        <td>
                          {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                        </td>
                        <td
                          (click)="
                            getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.cbs_branch_code }}
                        </td>
                        <td
                          (click)="
                            getcbssearch(
                              sum?.cbs_transaction_date,
                              'Branch date'
                            )
                          "
                        >
                          {{ sum?.cbs_transaction_date }}
                        </td>
                        <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
                        <!-- <td>{{sum?.cbs_narration}}</td> -->

                        <!-- <td>{{sum?.cbs_branch_code}}</td> -->
                        <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
                        <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
                        <!-- <td>{{sum?.cbs_amount}}</td> -->

                        <td
                          (click)="
                            getcbssearch(sum?.cbs_narration, 'Narration')
                          "
                          class="pointer"
                        >
                          {{ sum?.cbs_narration }}
                        </td>
                        <td
                          (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.cbs_dr_cr }}
                        </td>
                        <td
                          (click)="getcbssearch(sum?.cbs_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.cbs_amount) }}
                        </td>
                        <td>
                          {{ sum?.cbs_action }}
                        </td>

                        <!-- <td>{{sum?.cbs_action}}</td> -->
                        <!-- <td *ngIf="sum?.cbs_action === ''">
                              <button
                                (click)="addiconcbs(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </td> -->
                        <td>
                          {{ sum?.cbs_tag_no }}
                        </td>
                        <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox mat-primary
                                class="gefucheck" 
                                (change)="isChecked(sum, $event,2)" 
                                [checked]="checkedItems.includes(sum?.id) || sum?.cbs_tag_no.length == 13"
                                [disabled]="sum?.cbs_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                        <td *ngIf="actionChange" class="text-center">
                          <mat-checkbox
                            mat-primary
                            class="gefucheck"
                            (change)="isCheckedClose(sum, $event, 2)"
                            [checked]="closedcheckedItems.includes(sum?.id)"
                          >
                          </mat-checkbox>
                        </td>
                      </tr>
                      <tr *ngIf="cbstabledata?.length == 0">
                        <td colspan="4" class="text-center">
                          No Records Found..!
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="paginationDiv">
                    <button
                      mat-icon-button
                      [disabled]="paginationcbs.has_previous === false"
                      color="primary"
                      (click)="cbsmanualpreviousClick()"
                    >
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                    <b style="align-items: center; margin-top: 9px">{{
                      paginationcbs.index
                    }}</b>
                    <button
                      mat-icon-button
                      [disabled]="paginationcbs.has_next === false"
                      color="primary"
                      (click)="cbsmanualnextClick()"
                    >
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                  </div>
                </div>

                <!-- </div> -->
                <!-- <p>
                      CBS Amount:{{
                        formatNumberWithCommas(cbs_compare_total)
                      }}
                    </p> -->
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <!-- <button type="button" class="btn btn-outline-primary orders" (click)="combineSave()" [disabled]="readonlyy"></button> -->
            <button
              type="button"
              class="btn btn-outline-success orders"
              (click)="closeSubmit(1)"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal closed"
      tabindex="1"
      role="dialog"
      aria-labelledby="exampleModalLabels"
      aria-hidden="true"
      id="closed"
    >
      <div class="modal-dialog modal-xl" role="document" style="width: 100%">
        <div class="modal-content">
          <div
            class="modal-header"
            style="background: rgba(23, 204, 23, 0.288)"
          >
            <h2 *ngIf="action == 2" class="modal-title" style="color: black">
              Pass Wisefin JV
            </h2>
            <h2 *ngIf="action == 4" class="modal-title" style="color: black">
              Pass GEFU
            </h2>

            <button
              type="button"
              #closebuttonclosed
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <!-- <br> -->
          <div class="modal-body">
            <div class="row remark">
              <form [formGroup]="remarksClose">
                <mat-label class="label">Remarks</mat-label>
                <mat-form-field appearance="standard" class="remark">
                  <input
                    matInput
                    formControlName="remarksClose"
                    type="text"
                    required
                  />
                </mat-form-field>
              </form>
            </div>
            <div class="row">
              <div class="col-md-6 padd">
                <h3
                  style="margin-left: 10px; margin-top: 15px; font-weight: bold"
                >
                  File 1 Table
                </h3>
                <div class="table-container">
                  <table
                    class="table table-bordered width"
                    id="boxlevel"
                    style="margin-left: -2%"
                  >
                    <thead class="table_header">
                      <th>S.No</th>
                      <th>Branch Code</th>
                      <th>Entry Gid</th>
                      <th>Transaction Date</th>
                      <th>Remark</th>
                      <th>Entry Crno</th>
                      <th>Entry Module</th>
                      <th>Dr/Cr</th>
                      <th>Amount</th>
                      <th>Action</th>
                      <!-- <th>Compare</th> -->
                      <th>Tag Number</th>
                      <th *ngIf="actionChange">Select</th>

                      <!-- <th>Action Type</th> -->
                    </thead>
                    <tbody>
                      <tr *ngFor="let sum of tabledata; let i = index">
                        <td>{{ (pagination.index - 1) * 10 + i + 1 }}</td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_branch_code }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_gid, 'Entry Gid')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_gid }}
                        </td>
                        <td
                          (click)="
                            getfassearch(
                              sum?.fas_transaction_date,
                              'Branch date'
                            )
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_transaction_date }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_remark, 'Remark')"
                          class="pointer"
                        >
                          {{ sum?.fas_remark }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_crno, 'Entry Crno')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_crno }}
                        </td>
                        <td
                          (click)="
                            getfassearch(sum?.fas_entry_module, 'Entry Module')
                          "
                          class="pointer"
                        >
                          {{ sum?.fas_entry_module }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.fas_dr_cr }}
                        </td>
                        <td
                          (click)="getfassearch(sum?.fas_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.fas_amount) }}
                        </td>

                        <td>
                          {{ sum?.fas_action }}
                        </td>

                        <td>
                          {{ sum?.fas_tag_no }}
                        </td>
                        <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox class="jwcheck" mat-primary
                                (change)="isChecked(sum,$event,1)"
                                [checked]="checkedItems.includes(sum?.id) || sum?.fas_tag_no.length == 13"
                                [disabled]="sum?.fas_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                        <td *ngIf="actionChange" class="text-center">
                          <mat-checkbox
                            class="jwcheck"
                            mat-primary
                            (change)="isCheckedClose(sum, $event, 1)"
                            [checked]="closedcheckedItems.includes(sum?.id)"
                          >
                          </mat-checkbox>
                        </td>
                      </tr>
                      <tr *ngIf="tabledata?.length == 0">
                        <td colspan="5" class="text-center">
                          No Records Found..!
                        </td>
                      </tr>
                    </tbody>
                    <!-- <tbody *ngIf="tabledata.length == 0" class="text-center">No data found!..</tbody> -->
                  </table>
                  <div class="paginationDiv">
                    <button
                      mat-icon-button
                      [disabled]="pagination.has_previous === false"
                      color="primary"
                      (click)="fasmanualpreviousClick()"
                    >
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                    <b style="align-items: center; margin-top: 9px">{{
                      pagination.index
                    }}</b>
                    <button
                      mat-icon-button
                      [disabled]="pagination.has_next === false"
                      color="primary"
                      (click)="fasmanualnextClick()"
                    >
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                  </div>
                </div>

                <!-- </div> -->
                <!-- <p>
                      FAS Amount:{{
                        formatNumberWithCommas(fas_compare_total)
                      }}
                    </p> -->
              </div>
              <div class="col-md-6 padd">
                <h3 style="font-weight: bold; margin-top: 15px">
                  File 2 Table
                </h3>

                <div class="table-container">
                  <table class="table table-bordered width" id="boxlevel">
                    <thead class="table_header">
                      <tr>
                        <th>S.No</th>
                        <th>Branch Code</th>
                        <th>Date</th>
                        <th>Narration</th>
                        <th>Dr/Cr</th>
                        <th>Amount</th>
                        <th>Action</th>
                        <!-- <th>Compare</th> -->
                        <th>Tag Number</th>
                        <!-- <th>Action Type</th> -->
                        <th *ngIf="actionChange">Select</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let sum of cbstabledata; let i = index">
                        <td>
                          {{ (paginationcbs.index - 1) * 10 + i + 1 }}
                        </td>
                        <td
                          (click)="
                            getcbssearch(sum?.cbs_branch_code, 'Branch Code')
                          "
                          class="pointer"
                        >
                          {{ sum?.cbs_branch_code }}
                        </td>
                        <td
                          (click)="
                            getcbssearch(
                              sum?.cbs_transaction_date,
                              'Branch date'
                            )
                          "
                        >
                          {{ sum?.cbs_transaction_date }}
                        </td>
                        <!-- <td (click)="getcbssearch(sum?.cbs_tag_no,'Tag Number')" class="pointer">{{sum?.cbs_tag_no}}</td> -->
                        <!-- <td>{{sum?.cbs_narration}}</td> -->

                        <!-- <td>{{sum?.cbs_branch_code}}</td> -->
                        <!-- <td>{{sum?.cbs_transaction_date}}</td> -->
                        <!-- <td>{{sum?.cbs_dr_cr}}</td> -->
                        <!-- <td>{{sum?.cbs_amount}}</td> -->

                        <td
                          (click)="
                            getcbssearch(sum?.cbs_narration, 'Narration')
                          "
                          class="pointer"
                        >
                          {{ sum?.cbs_narration }}
                        </td>
                        <td
                          (click)="getcbssearch(sum?.cbs_dr_cr, 'Dr/Cr')"
                          class="pointer"
                        >
                          {{ sum?.cbs_dr_cr }}
                        </td>
                        <td
                          (click)="getcbssearch(sum?.cbs_amount, 'Amount')"
                          class="pointer"
                          style="text-align: right"
                        >
                          {{ formatNumberWithCommas(sum?.cbs_amount) }}
                        </td>
                        <td>
                          {{ sum?.cbs_action }}
                        </td>

                        <!-- <td>{{sum?.cbs_action}}</td> -->
                        <!-- <td *ngIf="sum?.cbs_action === ''">
                              <button
                                (click)="addiconcbs(sum)"
                                mat-icon-button
                                class="btn btn-outline-primary"
                                [disabled]="sum.isCompareClicked"
                              >
                                <span class="material-icons">add_circle</span>
                              </button>
                            </td> -->
                        <td>
                          {{ sum?.cbs_tag_no }}
                        </td>
                        <!-- <td *ngIf="actionChange" class="text-center">
                              <mat-checkbox mat-primary
                                class="gefucheck" 
                                (change)="isChecked(sum, $event,2)" 
                                [checked]="checkedItems.includes(sum?.id) || sum?.cbs_tag_no.length == 13"
                                [disabled]="sum?.cbs_tag_no.length == 13"></mat-checkbox>
                            </td> -->
                        <td *ngIf="actionChange" class="text-center">
                          <mat-checkbox
                            mat-primary
                            class="gefucheck"
                            (change)="isCheckedClose(sum, $event, 2)"
                            [checked]="closedcheckedItems.includes(sum?.id)"
                          >
                          </mat-checkbox>
                        </td>
                      </tr>
                      <tr *ngIf="cbstabledata?.length == 0">
                        <td colspan="4" class="text-center">
                          No Records Found..!
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="paginationDiv">
                    <button
                      mat-icon-button
                      [disabled]="paginationcbs.has_previous === false"
                      color="primary"
                      (click)="cbsmanualpreviousClick()"
                    >
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                    <b style="align-items: center; margin-top: 9px">{{
                      paginationcbs.index
                    }}</b>
                    <button
                      mat-icon-button
                      [disabled]="paginationcbs.has_next === false"
                      color="primary"
                      (click)="cbsmanualnextClick()"
                    >
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                  </div>
                </div>

                <!-- </div> -->
                <!-- <p>
                      CBS Amount:{{
                        formatNumberWithCommas(cbs_compare_total)
                      }}
                    </p> -->
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <!-- <button type="button" class="btn btn-outline-primary orders" (click)="combineSave()" [disabled]="readonlyy"></button> -->
            <button
              type="button"
              class="btn btn-outline-success orders"
              (click)="closeSubmit(1)"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal"
      tabindex="1"
      role="dialog"
      aria-labelledby="exampleModalLabels"
      aria-hidden="true"
      id="combineDataJW"
    >
      <div class="modal-dialog modal-xl" role="document" style="width: 75%">
        <div class="modal-content">
          <div
            class="modal-header"
            style="background: rgba(23, 204, 23, 0.288)"
          >
            <h2 *ngIf="action == 2" class="modal-title" style="color: black">
              Pass Wisefin JV
            </h2>
            <h2 *ngIf="action == 4" class="modal-title" style="color: black">
              Pass GEFU
            </h2>

            <button
              type="button"
              #closebuttons
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <!-- <br> -->
          <div class="modal-body">
            <!-- <div class="container"> -->
            <div class="row" *ngIf="action == 2 || action == 4">
              <div class="col-md-6 text-left">
                <form [formGroup]="remark">
                  <mat-label>Remarks</mat-label>
                  <mat-form-field appearance="standard" class="remark">
                    <input
                      matInput
                      type="text"
                      formControlName="remark"
                      required
                      [readonly]="readonlyy"
                    />
                  </mat-form-field>
                </form>
              </div>
              <div class="col-md-6 text-right">
                <button
                  type="button"
                  (click)="addRecord()"
                  [disabled]="readonlyy"
                  class="btn btn-outline-info add"
                >
                  Add <span class="fa fa-plus"></span>
                </button>
              </div>
            </div>
            <br />
            <div class="table-container">
              <form [formGroup]="combineDataForm">
                <table class="table table-bordered">
                  <thead class="table_header tabheader">
                    <th>S.No</th>
                    <th>Entry Type</th>
                    <th>Branch Code</th>
                    <th *ngIf="action == 2">
                      Category<span class="text-danger">*</span>
                    </th>
                    <th *ngIf="action == 2">
                      Sub Category<span class="text-danger">*</span>
                    </th>
                    <th *ngIf="action == 2">
                      BS<span class="text-danger">*</span>
                    </th>
                    <th *ngIf="action == 2">
                      CC<span class="text-danger">*</span>
                    </th>
                    <th>CBSGL</th>
                    <th>Description</th>
                    <th>Amount<span class="text-danger">*</span></th>
                    <th *ngIf="action == 4">Narration</th>
                    <th>Tag Number</th>
                    <th *ngIf="action == 2">
                      Date<span class="text-danger">*</span>
                    </th>
                    <th *ngIf="!readonlyy">Action</th>
                  </thead>
                  <tbody formArrayName="rows">
                    <ng-container
                      *ngFor="let row of rows.controls; let i = index"
                    >
                      <tr [formGroupName]="i" class="fields">
                        <td>
                          {{ (paginationwisfinjv.index - 1) * limit + i + 1 }}
                        </td>
                        <td>
                          <mat-form-field
                            class="example-full-width"
                            appearance="outline"
                          >
                            <input
                              matInput
                              placeholder="Credit/Debit"
                              aria-label="State"
                              [matAutocomplete]="auto"
                              formControlName="entry_type"
                              [readonly]="isReadOnly1(i) || isReadOnly(i)"
                            />
                            <mat-autocomplete #auto="matAutocomplete">
                              <mat-option
                                *ngFor="let state of filteredStates | async"
                                [value]="state.name"
                              >
                                <span>{{ state.name }}</span>
                              </mat-option>
                            </mat-autocomplete>
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field class="columns" appearance="outline">
                            <input
                              matInput
                              type="text"
                              [value]="branch_codeid"
                              readonly
                            />
                          </mat-form-field>
                          <!-- {{branch_codeid}} -->
                        </td>
                        <td *ngIf="action == 2">
                          <mat-form-field
                            appearance="outline"
                            (click)="getCategoryList()"
                          >
                            <input
                              #categoryInput
                              matInput
                              formControlName="category"
                              [matAutocomplete]="cattype"
                              placeholder="Category"
                              [readonly]="readonlyy || isReadOnly1(i)"
                            />
                            <mat-autocomplete
                              #cattype="matAutocomplete"
                              (opened)="categoryScroll()"
                              [displayWith]="displaycatFn"
                            >
                              <mat-option *ngIf="isLoading" class="is-loading"
                                >Loading...
                              </mat-option>
                              <ng-container *ngIf="!isLoading">
                                <mat-option
                                  *ngFor="let cat of categoryList"
                                  [value]="cat"
                                  (click)="getCategoryId(cat.id)"
                                  matTooltip="{{ cat.name }}"
                                >
                                  {{ cat.name }}
                                </mat-option>
                              </ng-container>
                            </mat-autocomplete>
                          </mat-form-field>
                        </td>
                        <td *ngIf="action == 2">
                          <mat-form-field appearance="outline">
                            <input
                              #subcategoryInput
                              matInput
                              formControlName="sub_category"
                              [matAutocomplete]="subcattype"
                              placeholder="Sub Category"
                              [readonly]="readonlyy || isReadOnly1(i)"
                            />
                            <mat-autocomplete
                              #subcattype="matAutocomplete"
                              (opened)="subcategoryScroll()"
                              [displayWith]="displaysubcatFn"
                            >
                              <mat-option *ngIf="isLoading" class="is-loading"
                                >Loading...
                              </mat-option>
                              <ng-container *ngIf="!isLoading">
                                <mat-option
                                  *ngFor="let cat of subCategoryList"
                                  [value]="cat"
                                  matTooltip="{{ cat.name }}"
                                >
                                  {{ cat.name }}
                                </mat-option>
                              </ng-container>
                            </mat-autocomplete>
                          </mat-form-field>
                        </td>
                        <td *ngIf="action == 2">
                          <mat-form-field
                            (click)="getbs()"
                            appearance="outline"
                          >
                            <input
                              #bsInput
                              placeholder="BS"
                              matInput
                              formControlName="bs"
                              [matAutocomplete]="bstype"
                              required
                              [readonly]="readonlyy || isReadOnly1(i)"
                            />
                            <mat-autocomplete
                              #bstype="matAutocomplete"
                              [displayWith]="displaybsFn"
                              (opened)="bsScroll()"
                            >
                              <mat-option *ngIf="isLoading" class="is-loading"
                                >Loading...
                              </mat-option>
                              <ng-container *ngIf="!isLoading">
                                <mat-option
                                  *ngFor="let bsname of bsNameData"
                                  [value]="bsname"
                                  (click)="bsid(bsname.id)"
                                  matTooltip="{{ bsname.name }}"
                                >
                                  {{ bsname.name }}
                                </mat-option>
                              </ng-container>
                            </mat-autocomplete>
                          </mat-form-field>
                        </td>
                        <td *ngIf="action == 2">
                          <mat-form-field appearance="outline">
                            <input
                              #ccinput
                              placeholder="CC"
                              matInput
                              formControlName="cc"
                              [matAutocomplete]="cctype"
                              required
                              [readonly]="readonlyy || isReadOnly1(i)"
                            />
                            <mat-autocomplete
                              #cctype="matAutocomplete"
                              [displayWith]="displayccFn"
                              (opened)="ccScroll()"
                            >
                              <mat-option *ngIf="isLoading" class="is-loading"
                                >Loading...
                              </mat-option>
                              <ng-container *ngIf="!isLoading">
                                <mat-option
                                  *ngFor="let ccname of ccNameData"
                                  [value]="ccname"
                                  (click)="getccdata(ccname.id)"
                                  matTooltip="{{ ccname.name }}"
                                >
                                  {{ ccname.name }}
                                </mat-option>
                              </ng-container>
                            </mat-autocomplete>
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field class="columns" appearance="outline">
                            <input
                              matInput
                              type="text"
                              formControlName="gl_no"
                              value=""
                              readonly
                            />
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field class="columns" appearance="outline">
                            <input
                              matInput
                              type="text"
                              formControlName="description"
                              value=""
                              [readonly]="isReadOnly(i) || isReadOnly1(i)"
                            />
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field class="columns" appearance="outline">
                            <input
                              matInput
                              type="number"
                              formControlName="amount"
                              value=""
                              [readonly]="isReadOnly(i) || isReadOnly1(i)"
                            />
                          </mat-form-field>
                        </td>
                        <td *ngIf="action == 4">
                          <mat-form-field class="columns" appearance="outline">
                            <input
                              matInput
                              type="text"
                              formControlName="narration"
                              value=""
                              [readonly]="isReadOnly(i) || isReadOnly1(i)"
                            />
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field class="columns" appearance="outline">
                            <input
                              matInput
                              type="text"
                              formControlName="tag_no"
                              value=""
                              [readonly]="isReadOnly(i) || isReadOnly1(i)"
                            />
                          </mat-form-field>
                        </td>
                        <td *ngIf="action == 2">
                          <mat-form-field appearance="outline">
                            <mat-label>Select Date</mat-label>
                            <input
                              matInput
                              [readonly]="isReadOnly(i) || isReadOnly1(i)"
                              [matDatepicker]="picker1"
                              placeholder="Date"
                              autocomplete="off"
                              formControlName="trans_date"
                            />

                            <mat-datepicker-toggle
                              class="rmudatetoggle"
                              matSuffix
                              [for]="picker1"
                              [disabled]="isReadOnly(i) || isReadOnly1(i)"
                            >
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                          </mat-form-field>
                        </td>
                        <td *ngIf="!readonlyy">
                          <!-- <mat-form-field> -->
                          <button
                            class="transparent"
                            [disabled]="isReadOnly(i) || isReadOnly1(i)"
                            (click)="deleteRecord(i)"
                          >
                            <mat-icon class="del text-danger">delete</mat-icon>
                          </button>
                          <!-- </mat-form-field> -->
                        </td>
                      </tr>
                    </ng-container>
                  </tbody>
                </table>
                <div style="display: flex; float: right">
                  <button
                    mat-icon-button
                    [disabled]="paginationwisfinjv.has_previous === false"
                    color="primary"
                    (click)="wisfinjvpreviousClick()"
                  >
                    <mat-icon>arrow_back</mat-icon>
                  </button>
                  <b style="align-items: center; margin-top: 9px">{{
                    paginationwisfinjv.index
                  }}</b>
                  <button
                    mat-icon-button
                    [disabled]="paginationwisfinjv.has_next === false"
                    color="primary"
                    (click)="wisfinjvnextClick()"
                  >
                    <mat-icon>arrow_forward</mat-icon>
                  </button>
                </div>
              </form>
            </div>
            <!-- </div> -->
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-outline-primary orders"
              (click)="combineSave()"
              [disabled]="readonlyy"
            >
              Save
            </button>
            <button
              type="button"
              class="btn btn-outline-success orders"
              (click)="combineSubmit()"
              [disabled]="readonlyy"
            >
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal fade"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabels"
      aria-hidden="true"
      id="viewData"
    >
      <div class="modal-dialog modal-xl" style="width: 68%">
        <div class="modal-content">
          <div
            class="modal-header"
            style="background: #ddefdd"
          >
            <h2 class="modal-title" style="color: black">
              Uploaded File Status
            </h2>
            <button
              type="button"
              #closebuttons
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <br />
          <mat-tab-group [selectedIndex]="activeTabIndex">
            <mat-tab label="Current">
              <div class="container" style="margin-top: 15px">
                <div class="mat-elevation-z5" class="table-row">
                  <table class="table table-bordered viewTable fixed">
                    <thead class="table_header tabheader">
                      <th>S.No</th>
                      <th>Date</th>
                      <th>File Name</th>
                      <th>Type</th>
                      <th>
                        Status
                        <mat-icon
                          matTooltip="Reload"
                          class="sync text-center flex-column"
                          (click)="viewData(1)"
                          >sync</mat-icon
                        >
                      </th>
                      <th>Action</th>
                    </thead>
                    <tbody>
                      <tr *ngFor="let col of viewDataLists; index as i">
                        <td>
                          {{ (pagination.index - 1) * limit + i + 1 }}
                        </td>
                        <td>
                          {{ col.date }}
                        </td>
                        <td style="width: 20%; word-wrap: break-word">
                          {{ col.file_name }}
                        </td>
                        <td>
                          {{
                            col.type == 4
                              ? "FAS"
                              : col.type == 5
                              ? "CBS"
                              : col.type == 6
                              ? "RECON"
                              : col.type
                          }}
                        </td>
                        <td>
                          {{
                            col.status == 1
                              ? "Active"
                              : col.status == 0
                              ? "Inactive"
                              : col.status == 4
                              ? "Success"
                              : col.status == 3
                              ? "Processing"
                              : col.status == 2
                              ? "Started"
                              : col.status == 10
                              ? "Failed"
                              : col.status
                          }}
                        </td>
                        <td>
                          <button
                            type="button"
                            class="btn download"
                            matTooltip="Download"
                            (click)="downloadFile(col)"
                          >
                            <span class="fa fa-download"></span>
                          </button>
                          <button
                            type="button"
                            class="btn delete"
                            matTooltip="Delete"
                            (click)="deleteFile(col)"
                          >
                            <mat-icon class="icondel">delete</mat-icon>
                          </button>
                        </td>
                        <td
                          *ngIf="this.viewDataLists.length == 0"
                          class="text-center"
                        >
                          No Records Found!..
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="History" *ngIf="externalpage">
              <div class="container">
                <form [formGroup]="externalhistory">
                  <div class="search-auto-fit" style="margin-top: 10px;">
                
                      <div id="matInput-size">
                        <mat-form-field
                        appearance="outline"
                       
                      >
                        <mat-label>Select Date</mat-label>
                        <input
                          matInput
                          required
                          [matDatepicker]="picker23"
                          placeholder="Date"
                          autocomplete="off"
                          formControlName="date"
                        />

                        <mat-datepicker-toggle
                          class="rmudatetoggle"
                          matSuffix
                          [for]="picker23"
                        >
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker23></mat-datepicker>
                      </mat-form-field>
                      </div>
                  
                     <div id="matInput-size">
                      <mat-form-field
                     
                      appearance="outline"
                    >
                      <mat-label>GLNO</mat-label>
                      <input matInput formControlName="gl_no" />
                    </mat-form-field>
                     </div>
<div id="matInput-size">
  <mat-form-field
  
  appearance="outline"
>
  <mat-label>Branch Code</mat-label>
  <input matInput formControlName="branch_code" />
</mat-form-field>
</div>
<div>
  <button
  mat-mini-fab
  type="button"
  id="buttonsSubmit"
  aria-label="Search"
  (click)="viewhistory(1)"
  style="margin-left: 4%"
>
  <mat-icon>search</mat-icon>
</button>
</div>
<div>
  <button
  mat-mini-fab
  type="button"
  id="buttonsSubmit"
  aria-label="reset"
  (click)="resethistory()"
  style="margin-left: 14px"
>
  <mat-icon>replay</mat-icon>
</button>
</div>
                      

                  
                  </div>
                </form>

                <div class="mat-elevation-z5" class="table-row">
                  <table class="table table-bordered viewTable fixed">
                    <thead class="table_header tabheader">
                      <th>S.No</th>
                      <th>Job Code</th>
                      <th>Date</th>
                      <th>Type</th>
                      <th>GL No</th>
                      <!-- <th>Branch Code</th> -->
                      <th>
                        Status
                        <mat-icon
                          matTooltip="Reload"
                          class="sync text-center flex-column"
                          (click)="viewhistory(1)"
                          >sync</mat-icon
                        >
                      </th>
                      <!-- <th>Action</th> -->
                      <th>Fetch Summary</th>
                    </thead>
                    <tbody>
                      <tr *ngFor="let col of viewHistoryLists; index as i">
                        <td>
                          {{ (pagination.index - 1) * limit + i + 1 }}
                        </td>
                        <td>
                          {{ col.job_code }}
                        </td>
                        <td>
                          {{ col.date }}
                        </td>
                        <td>
                          {{
                            col.type == 4
                              ? "FAS"
                              : col.type == 5
                              ? "CBS"
                              : col.type == 6
                              ? "RECON"
                              : col.type
                          }}
                        </td>
                        <td>
                          {{ col.kd_accountno }}
                        </td>
                        <!-- <td>
                          {{ col.kd_branchcode }}
                        </td> -->
                        <td>
                          {{
                            col.status == 1
                              ? "Active"
                              : col.status == 0
                              ? "Inactive"
                              : col.status == 4
                              ? "Success"
                              : col.status == 3
                              ? "Processing"
                              : col.status == 2
                              ? "Started"
                              : col.status == 10
                              ? "Rulefailed"
                              : col.status
                          }}
                        </td>
                        <!-- <td>
                      {{ col.ars_status }}
                    </td> -->
                        <td>
                          <button
                            type="button"
                            class="btn download"
                            data-dismiss="modal"
                            (click)="
                              handleButtonClick(
                                col.kd_accountno,
                                col.kd_branchcode,
                                col.date,
                                'Headers',
                                1,
                                col
                              )
                            "
                          >
                            <span class="fa fa-eye"></span>
                          </button>
                        </td>
                        <td
                          *ngIf="this.viewHistoryLists.length == 0"
                          class="text-center"
                        >
                          No Records Found!..
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="paginationDiv">
                    <button
                      mat-icon-button
                      [disabled]="pagination.has_previous === false"
                      color="primary"
                      (click)="historypreviousclick()"
                    >
                      <mat-icon>arrow_back</mat-icon>
                    </button>
                    <b style="align-items: center; margin-top: 9px">{{
                      pagination.index
                    }}</b>
                    <button
                      mat-icon-button
                      [disabled]="pagination.has_next === false"
                      color="primary"
                      (click)="historynextclick()"
                    >
                      <mat-icon>arrow_forward</mat-icon>
                    </button>
                  </div>
                </div>
              </div>
            </mat-tab>
            <!-- <mat-tab label="JW/GEFU Reports" *ngIf="externalpage">
          <div class="container">
            <form [formGroup]="externaljwreport">
              <div class="row">
                <div class="col-md-10">
                  <mat-form-field
                    appearance="outline"
                    style="width: 25%; margin-top: 1%"
                  >
                    <mat-label>Select Date</mat-label>
                    <input
                      matInput
                      required
                      [matDatepicker]="picker23"
                      placeholder="Date"
                      autocomplete="off"
                      formControlName="date"
                    />

                    <mat-datepicker-toggle
                      class="rmudatetoggle"
                      matSuffix
                      [for]="picker23"
                    >
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker23></mat-datepicker>
                  </mat-form-field>

                  <mat-form-field
                    style="width: 25%; margin-left: 5%; margin-bottom: 0"
                    appearance="outline"
                  >
                    <mat-label>GLNO</mat-label>
                    <input matInput formControlName="gl_no" />
                  </mat-form-field>

                  <mat-form-field
                    style=" width: 25%;margin-left: 3%;margin-top: 0%;margin-bottom: 0;"appearance="outline">
                    <mat-label>Branch Code</mat-label>
                    <input matInput formControlName="branch_code" />
                  </mat-form-field>
                  <button
                    mat-mini-fab
                    type="button"
                    id="buttonsSubmit"
                    aria-label="Search"
                    (click)="viewhistory(1)"
                    style="margin-left: 4%"
                  >
                    <mat-icon>search</mat-icon>
                  </button>
                </div>
              </div>
            </form>
            <div class="row">
              <div class="col-md-4" style="padding: 3%">
                <mat-label>Pass Wisefin JW Report</mat-label>
                <button
                  type="button"
                  class="btn btn-outline-success radius"
                  matTooltip="Download JW Report"
                  style="white-space: nowrap; margin-right: 12px"
                >
                  <span
                    class="fa fa-download"
                    (click)="externalreportdownload(1)"
                  >
                  </span>
                </button>
              </div>
              <div class="col-md-4" style="padding: 3%">
                <mat-label>Pass GEFU Report</mat-label>
                <button
                  type="button"
                  class="btn btn-outline-success radius"
                  matTooltip="Download JW Report"
                  style="white-space: nowrap; margin-right: 12px"
                >
                  <span
                    class="fa fa-download"
                    (click)="externalreportdownload(1)"
                  >
                  </span>
                </button>
              </div>
            </div>
          </div>
        </mat-tab> -->
          </mat-tab-group>
        </div>
      </div>
    </div>

    <div id="actionmodal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header runprocess">
            <h2 class="modal-title runpro">Recon Run Process</h2>
            <button
              type="button"
              #closebuttonrun
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6">
                <mat-card>
                  <mat-card-title class="mat-card-title">
                    File1
                  </mat-card-title>
                  <mat-card-actions>
                    <table class="table table-bordered">
                      <thead class="table_header" style="text-align: center">
                        <th>S.No</th>
                        <th>File Name</th>
                        <th>Select</th>
                      </thead>
                      <tbody style="text-align: center">
                        <ng-container
                          *ngFor="let obj of fasFiles; let i = index"
                        >
                          <tr *ngIf="obj.type === '4'">
                            <td>{{ i + 1 }}</td>
                            <td style="white-space: pre-wrap">
                              {{ obj.file_name }}
                            </td>
                            <td> <mat-checkbox (change)="file1select($event,obj.id)" ></mat-checkbox></td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                    <p
                      *ngIf="this.fasFiles.length == 0"
                      style="text-align: center"
                    >
                      Data Not Found..
                    </p>
                  </mat-card-actions>
                </mat-card>
              </div>

              <div class="col-md-6">
                <mat-card>
                  <mat-card-title class="mat-card-title">
                    File2
                  </mat-card-title>
                  <mat-card-actions>
                    <table class="table table-bordered fixed">
                      <thead class="table_header" style="text-align: center">
                        <th>S.No</th>
                        <th>File Name</th>
                        <th>Select</th>
                      </thead>
                      <tbody style="text-align: center">
                        <ng-container
                          *ngFor="let obj of cbsFiles; let i = index"
                        >
                          <tr *ngIf="obj.type === '5'">
                            <td>{{ i + 1 }}</td>
                            <td style="word-wrap: break-word">
                              {{ obj.file_name }}
                            </td>
                            <td> <mat-checkbox (change)="file2select($event,obj.id)"></mat-checkbox></td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                    <p
                      *ngIf="this.cbsFiles.length == 0"
                      style="text-align: center"
                    >
                      Data Not Found..
                    </p>
                  </mat-card-actions>
                </mat-card>
              </div>
            </div>
            <br />
            <div class="modal-footer">
              <button
                class="btn btn-outline-primary"
                (click)="run_progress(1)"
                style="border-radius: 25px"
              >
                Run
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal fade"
      tabindex="-1"
      role="dialog"
      aria-labelledby="boxlevelform"
      aria-hidden="true"
      id="editdatas"
      #editdatas
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header" style="background: #ddefdd">
            <b class="modal-title" style="color: black">Conditions</b>
            <button
              type="button"
              #closebutton
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-footer">
            <div style="float: right">
              <button
                style="border-radius: 50px"
                class="btn btn-outline-secondary"
                data-dismiss="modal"
              >
                Back
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="reconreport">
  <div class="modal-dialog modal-xl" >
    <div class="modal-content">
      <div class="modal-header" style="background: #ddefdd">
        <h3 class="modal-title" style="color: black" *ngIf="dcs_recon===0">Recon Report</h3>
        <h3 class="modal-title" style="color: black" *ngIf="dcs_recon===1">DCS Report</h3>
        <button type="button" #closebuttons class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

     <div class="modal-body">
      <mat-card>
        <div>
          <span style="font-size: 15px;font-weight: 600;">Choose Report Type For {{recon_name}}</span>
        </div>
        <hr>
        <div style="margin-bottom: -20px;">
          <form [formGroup]="report_templateform" class="search-auto-fit ">
          <div id="matInput-size"> 
            <lib-vs-dynamicform-cmp  [InputFields]="template_name_api"
            (dataEvent)="choosetempname($event)" [formGroup]="report_templateform">
          </lib-vs-dynamicform-cmp>
        </div>
<!--        
        <div id="matInput-size">
          <mat-form-field appearance="outline">
            <mat-label>Select Columns</mat-label>
            <mat-select formControlName="fas_column" multiple>
              <mat-option *ngFor="let data of wisefine_array" [value]="data">{{data}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div> -->
        <div style="width: 60%;">
          <mat-form-field appearance="outline">
            <mat-label>Select Columns</mat-label>
            <mat-chip-list #chipListDept>
              <mat-chip
                *ngFor="let x of selected_array"
                [selectable]="true"
                [removable]="true"
                (removed)="remove(x)"
              >
                {{x }}
                <mat-icon matChipRemove>cancel</mat-icon>
              </mat-chip>
              <input
              formControlName="fas_column"
                [matAutocomplete]="autodept"
                [matChipInputFor]="chipListDept"
                [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                [matChipInputAddOnBlur]="true"
              />
            </mat-chip-list>
            <mat-autocomplete
              #autodept="matAutocomplete"
            >
              <mat-option
                *ngFor="let data of wisefine_array"
                [value]="data"
                (click)="selectedarray(data)"
              >
                {{ data}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <!-- <div id="matInput-size">
          <mat-form-field appearance="outline">
            <mat-label>CBS</mat-label>
            <mat-select formControlName="cbs_column" multiple>
              <mat-option *ngFor="let data of cbs_array" [value]="data">{{data}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div> -->
        <div style="margin-top: 5px;"> 
          <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="submit_template_fields()">Submit</button>
        </div>
      </form>
        </div>
        <hr>
        <div style="display: flex;gap: 20px;">
          <div>
            <mat-radio-group [formControl]="faspageform">
              <mat-radio-button  [value]=1 (click)="customizeordefault(false,1)" [checked]="report_type===1"><span style="font-size: 14px;font-weight: 500;">Default</span></mat-radio-button>
              <mat-radio-button [value]=0  (click)="customizeordefault(true,0)" [checked]="report_type===0" style="margin-left: 20px;"><span style="font-size: 14px;font-weight: 500;">Customize</span></mat-radio-button>
             
            </mat-radio-group>
          </div>
          <div>
            <mat-radio-group [formControl]="matchunmatchform">
           
              <mat-radio-button [value]=0  (click)="matchorunmatch(false,0)" [checked]="match_type===0" style="margin-left: 20px;"><span style="font-size: 14px;font-weight: 500;"> Match & Unmatch</span></mat-radio-button>
              <mat-radio-button [value]=1  (click)="matchorunmatch(false,1)" [checked]="match_type===1" style="margin-left: 20px;"><span style="font-size: 14px;font-weight: 500;">Match Only</span></mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
      </mat-card>
      <div *ngIf="showcustomizereport" style="margin-top: 15px;">

<mat-card>
  <form [formGroup]="reportcreation" class="search-auto-fit">
    <div id="matInput-size">
      <mat-form-field appearance="outline" style="width: 170px;">
        <mat-label>File 1</mat-label>
        <mat-select formControlName="fas_col">
          <mat-option *ngFor="let x of filearray" [value]="x.id">
            {{x.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div id="matInput-size">
      <mat-form-field appearance="outline" style="width: 170px;">
        <mat-label>File 1 Cr/Dr</mat-label>
        <mat-select formControlName="fas_cr_dr">
          <mat-option *ngFor="let x of filecrdebitarray" [value]="x.id">
            {{x.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div id="matInput-size">
      <mat-form-field appearance="outline" style="width: 170px;">
        <mat-label>File 2</mat-label>
        <mat-select formControlName="cbs_col">
          <mat-option *ngFor="let x of filearray" [value]="x.id">
            {{x.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div id="matInput-size">
      <mat-form-field appearance="outline" style="width: 170px;">
        <mat-label>File 2 Cr/Dr</mat-label>
        <mat-select formControlName="cbs_cr_dr">
          <mat-option *ngFor="let x of filecrdebitarray" [value]="x.id">
            {{x.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div id="matInput-size">
      <mat-form-field appearance="outline" style="width: 170px;">
        <mat-label>Remark</mat-label>
        <input matInput formControlName="report_remark" >
      </mat-form-field>
    </div>
    <div style="margin-top: 5px;">
      <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="addtosummary()">Add</button>
    </div>
  </form>
  <div>
    <lib-vs-cbox-summary [SummaryDetails]="get_report_summary_datas"
    [SummaryApiObj]="get_report_summary"></lib-vs-cbox-summary>
  </div>
</mat-card>

      </div>
     </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="consolidation">
  <div class="modal-dialog modal-xl" >
    <div class="modal-content">
      <div class="modal-header" style="background: #ddefdd">
        <h3 class="modal-title" style="color: black">Consolidation Report</h3>
   
        <button type="button" #closebuttons class="close" data-dismiss="modal" aria-label="Close" (click)="closeconsolidate()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

     <div class="modal-body">
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title style="font-size: 15px;font-weight: 500;">
              File Upload
            </mat-panel-title>
           
          </mat-expansion-panel-header>
          <div>
            <form [formGroup]="consolidation_form"  class="search-auto-fit">
              <div id="matInput-size"> 
                <lib-vs-dynamicform-cmp  [InputFields]="template_name_api"
                (dataEvent)="choosetempname($event)" [formGroup]="consolidation_form">
              </lib-vs-dynamicform-cmp>
            </div>
    
            <div style="width: 65%;">
              <mat-form-field appearance="outline">
                <mat-label>Select Columns</mat-label>
                <mat-chip-list #chipListDept1>
                  <mat-chip
                    *ngFor="let x of consolidate_array"
                    [selectable]="true"
                    [removable]="true"
                    (removed)="consolidation_remove(x)"
                  >
                    {{x }}
                    <mat-icon matChipRemove>cancel</mat-icon>
                  </mat-chip>
                  <input
                  formControlName="grp_by"
                    [matAutocomplete]="autodept1"
                    [matChipInputFor]="chipListDept1"
                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                    [matChipInputAddOnBlur]="true"
                  />
                </mat-chip-list>
                <mat-autocomplete
                  #autodept1="matAutocomplete"
                >
                  <mat-option
                    *ngFor="let data of wisefine_array"
                    [value]="data"
                    (click)="consolidation_select(data)"
                  >
                    {{ data}}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </div>
          
            <div style="margin-top: 5px;">
              <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="addfiles()">Add File</button>
            </div>
          </form>
          
          </div>
          <div>
          
           
            <form [formGroup]="consolidation_form" style="margin-top: 10px;">
              <div formArrayName="consil_filearray" style="display: flex;flex-wrap: wrap;gap: 10px;">
                <div *ngFor="let form of consil_filearray.controls; let i = index">
                    <div [formGroup]="form" style="display: flex;flex-wrap: wrap;gap: 10px;margin-bottom: 10px;margin-top: 10px;">
                     
                      <div style="border: 2px solid #d9d9d9; padding: 10px; border-radius: 4px; width: 340px; position: relative; display: flex; align-items: center;">
                        <input 
                          style="border: none !important; flex: 1;" 
                          type="file" 
                          (change)="consolidatefilechoose($event, i)" 
                          name="filedatas" 
                          formControlName="file"
                        />
                        <button 
                          type="button" 
                          class="btn btn-danger refresh_status" 
                          (click)="remove_files(i)" 
                          style="position: absolute; top: -10px; right: -10px; width: 20px; height: 20px; border-radius: 50%; padding: 0; font-size: 14px; line-height: 20px;background: #f35e5e;"
                        >
                          x
                        </button>
                      </div>
                       
                    </div>
                </div>
            </div>
            </form>
  
          </div>
          <hr>
        <div style="display: flex;justify-content: end;">
            <button class="btn btn-outline-success" style="border-radius: 50px;" (click)="consolidation_submit()">Submit</button>
        </div>
         
        </mat-expansion-panel>
      
      </mat-accordion>
      <div style="margin-top: 15px;">
        <p style="font-size: 15px;font-weight: 500;">File Upload Summary</p>
      </div>
      <div style="margin-top: 10px;">
        <lib-vs-cbox-summary [SummaryDetails]="consolidate_summary_header"
        [SummaryApiObj]="get_consolidate_summary_api"></lib-vs-cbox-summary>
      </div>
     </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabels" aria-hidden="true"
  id="edit_recon">
  <div class="modal-dialog modal-xl" style="width: 50%">
    <div class="modal-content">
      <div class="modal-header" style="background: #ddefdd">
        <h3 class="modal-title" style="color: black" *ngIf="dcs_recon===0">Recon Edit</h3>
        <h3 class="modal-title" style="color: black" *ngIf="dcs_recon===1">DCS Edit</h3>
        <button type="button" #closebuttons class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

     <div class="modal-body">
      <form [formGroup]="editform">
        <div style="display: flex;justify-content: flex-start;gap: 10px;width: 100%;">
          <div id="matInput-size"  style="width: 100%;">
            <mat-form-field appearance="outline" style="width: 100%;">
              <mat-label>Recon Name</mat-label>
              <input matInput formControlName="template_name" readonly   />
            </mat-form-field>
          </div>


          <div id="matInput-size" style="width: 100%;">
            <mat-form-field  appearance="outline" style="width: 100%;">
                <mat-label>File 1 Input Data</mat-label>
                <mat-select formControlName="file1_type">
                    <mat-option *ngFor="let x of inputdataarray" [value]="x.id">
                        {{x.file1_type}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div id="matInput-size" style="width: 100%;">
            <mat-form-field  appearance="outline" style="width: 100%;">
                <mat-label>File 2 Input Data</mat-label>
                <mat-select formControlName="file2_type">
                    <mat-option *ngFor="let x of inputdataarray" [value]="x.id">
                        {{x.file1_type}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        </div>
      </form>
      <div style="display: flex;gap: 20px;">
        <div>FAS consolidate</div>
        <div>
          <mat-slide-toggle [formControl]="fas_consolidate_form"  [checked]="fas_consolidate_id===1" (change)="fasconsolidate($event)"></mat-slide-toggle>
        </div>
        <div>CBS consolidate</div>
        <div>
          <mat-slide-toggle [formControl]="cbs_consolidate_form" [checked]="cbs_consolidate_id===1" (change)="cbsconsolidate($event)"></mat-slide-toggle>
        </div>
      </div>
     </div>
     <div class="modal-footer" style="justify-content: flex-end">
<button class="btn btn-outline-success" style="border-radius: 50px;" (click)="updaterecon()">Update</button>
     </div>
    </div>
  </div>
</div>
<div
class="modal fade"
tabindex="-1"
role="dialog"
aria-labelledby="boxlevelform"
aria-hidden="true"
id="apicallpopup"
#apicallpopup
>
<div class="modal-dialog modal-xl">
  <div class="modal-content">
    <div class="modal-header" style="background: #ddefdd">
      <b class="modal-title" style="color: black">API Call </b>
      <button
        type="button"
        #closebuttonclosedapi
        class="close"
        data-dismiss="modal"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="modal-body">
      <mat-tab-group [(selectedIndex)]="activeTabIndex1">
        <mat-tab label="Api Call Creation">
          <form [formGroup]="apicallcreationform" style="margin-top: 20px">
            <div class="row">
              <div class="col-md-4" id="matInput-size">
                <mat-form-field style="width: 250px" appearance="outline">
                  <mat-label>Api Name</mat-label>
                  <input matInput formControlName="api_name" />
                </mat-form-field>
              </div>
              <div class="col-md-4" id="matInput-size">
                <mat-form-field style="width: 250px" appearance="outline">
                  <mat-label>Api Url</mat-label>
                  <input matInput formControlName="api_url" />
                </mat-form-field>
              </div>
              <div class="col-md-4" id="matInput-size">
                <mat-form-field style="width: 250px" appearance="outline">
                  <mat-label>Methods</mat-label>
                  <mat-select formControlName="methods">
                    <mat-option
                      *ngFor="let data of methodarray"
                      [value]="data"
                    >
                      {{ data }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4" id="matInput-size">
                <mat-form-field style="width: 250px" appearance="outline">
                  <mat-label>Params</mat-label>
                  <input matInput formControlName="params" />
                </mat-form-field>
              </div>
              <div class="col-md-4" id="matInput-size">
                <mat-form-field style="width: 250px" appearance="outline">
                  <mat-label>Payload</mat-label>
                  <input matInput formControlName="payloads" />
                </mat-form-field>
              </div>
              <div class="col-md-4" id="matInput-size">
                <mat-form-field style="width: 250px" appearance="outline">
                  <mat-label>Description</mat-label>
                  <input matInput formControlName="description" />
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <button
                  style="border-radius: 50px; float: right;margin-right: 5px;margin-bottom: 5px;"
                  class="btn btn-outline-success"
                  (click)="apicall_submit()"
                >
                  Submit
                </button>
              </div>
            </div>
          </form>
        </mat-tab>
        <mat-tab label="Api Call Summary">
          <div style="margin-top: 20px">
            <div>
              <form [formGroup]="apicallsearch">
                <div class="row">
                  <div class="col-md-3" id="matInput-size">
                    <mat-form-field style="width: 250px" appearance="outline">
                      <mat-label>Api name</mat-label>
                      <input matInput formControlName="api_name" />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3" id="matInput-size">
                    <mat-form-field style="width: 250px" appearance="outline">
                      <mat-label>Methods</mat-label>
                      <mat-select formControlName="methods">
                        <mat-option
                          *ngFor="let data of methodarray"
                          [value]="data"
                        >
                          {{ data }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3" id="matInput-size">
                    <mat-form-field style="width: 250px" appearance="outline">
                      <mat-label>Status</mat-label>
                      <input matInput formControlName="status" />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <button
                      (click)="api_search(type)"
                      class="btn btn-outline-success"
                      id="rmubtn"
                      style="border-radius: 25px; margin-left: 35px"
                      color="primary"
                    >
                      <i class="fa fa-search" aria-hidden="true"></i>
                    </button>
                    <button
                      class="btn btn-outline-primary"
                      ngbTooltip="Clear Entries"
                      style="
                        margin-left: 20px;
                        border-radius: 25px;
                        margin-left: 35px;
                      "
                      id="rmubtn"
                      (click)="api_reset()"
                    >
                      Clear
                    </button>
                  </div>
                </div>
              </form>
            </div>
            <div class="table-responsive">
              <table
                class="table"
                id="historytable"
                style="text-align: center"
              >
                <thead class="table_header">
                  <th>S.No</th>
                  <th>Api Name</th>
                  <th>Api Url</th>
                  <th>Description</th>
                  <th>Method</th>
                  <th>status code</th>
                  <th>Edit</th>
                  <th>Action</th>
                </thead>
                <tbody style="padding: 5px">
                  <tr *ngFor="let sum of apisummararray; index as ind">
                    <td>
                      {{ (paginationapi.index - 1) * limit + ind + 1 }}
                    </td>
                    <td>{{ sum.api_name }}</td>
                    <td>{{ sum.api_url }}</td>
                    <td>{{ sum.description }}</td>
                    <td>{{ sum.methods }}</td>
                    <td>{{ sum.api_status_code }}</td>
                    <td>
                      <mat-icon
                        style="cursor: pointer"
                        (click)="editapicalls(sum)"
                        >create</mat-icon
                      >
                    </td>
                    <td>
                      <mat-icon
                        style="cursor: pointer; font-size: 35px"
                        (click)="apicallaction(sum)"
                        >arrow_right_alt</mat-icon
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
              <div
                *ngIf="apisummararray?.length == 0"
                style="text-align: center"
              >
                <h3>Sorry data not found...</h3>
              </div>
              <div
                class="col-sm-12"
                style="font-size: x-small; text-align: right"
              >
                <button
                  (click)="prevpageapi()"
                  mat-icon-button
                  [disabled]="paginationapi?.has_previous === false"
                  color="primary"
                >
                  <mat-icon class="customIconSize">arrow_back</mat-icon>
                </button>
                <span style="font-size: 15px">
                  {{ paginationapi?.index }}</span
                >
                <button
                  (click)="nextpageapi()"
                  mat-icon-button
                  [disabled]="paginationapi?.has_next === false"
                  color="primary"
                >
                  <mat-icon class="customIconSize">arrow_forward</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
    <div class="modal-footer">
      <div style="float: right">
        <button
          style="border-radius: 50px"
          class="btn btn-outline-secondary"
          data-dismiss="modal"
        >
          Back
        </button>
      </div>
    </div>
  </div>
</div>
</div>
<div
class="modal fade"
tabindex="-1"
role="dialog"
aria-labelledby="boxlevelform"
aria-hidden="true"
id="dblinkpopup"
#dblinkpopup
>
<div class="modal-dialog modal-xl">
  <div class="modal-content">
    <div class="modal-header" style="background: #ddefdd">
      <b class="modal-title" style="color: black">DB Link</b>
      <button
        type="button"
        #closebuttonclosed1
        class="close"
        data-dismiss="modal"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="modal-body">
      <mat-tab-group
        [(selectedIndex)]="activeTabIndex"
        (selectedTabChange)="dblinktabchange($event)"
      >
        <mat-tab label="DB Link Creation">
          <form [formGroup]="dblinkcreationform" style="margin-top: 20px">
            <div class="row">
              <div class="col-md-4" id="matInput-size">
                <mat-form-field class="dbfieldsize" appearance="outline">
                  <mat-label>Ip Address</mat-label>
                  <input matInput formControlName="ip_address" />
                </mat-form-field>
              </div>
              <div class="col-md-4" id="matInput-size">
                <mat-form-field class="dbfieldsize" appearance="outline">
                  <mat-label>Port</mat-label>
                  <input matInput formControlName="port" />
                </mat-form-field>
              </div>
              <div class="col-md-4" id="matInput-size">
                <mat-form-field class="dbfieldsize" appearance="outline">
                  <mat-label>Connection name</mat-label>
                  <input matInput formControlName="db_name" />
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4" id="matInput-size">
                <mat-form-field class="dbfieldsize" appearance="outline">
                  <mat-label>User</mat-label>
                  <input matInput formControlName="user" />
                </mat-form-field>
              </div>
              <div class="col-md-4" id="matInput-size">
                <mat-form-field class="dbfieldsize" appearance="outline">
                  <mat-label>password</mat-label>
                  <input matInput formControlName="password" />
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <button
                  style="border-radius: 50px; float: right;margin-bottom: 5px;margin-right: 5px;"
                  class="btn btn-outline-success"
                  (click)="dblink_submit()"
                >
                  Submit
                </button>
              </div>
            </div>
          </form>
        </mat-tab>
        <mat-tab label="DB Link Summary">
          <div style="margin-top: 20px">
            <div>
              <form [formGroup]="dblinksearch">
                <div class="row">
                  <div class="col-md-3" id="matInput-size">
                    <mat-form-field style="width: 250px" appearance="outline">
                      <mat-label>DB Name</mat-label>
                      <input matInput formControlName="db_name" />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3" id="matInput-size">
                    <mat-form-field style="width: 250px" appearance="outline">
                      <mat-label>Username</mat-label>
                      <input matInput formControlName="username" />
                    </mat-form-field>
                  </div>
                  <div class="col-md-4">
                    <button
                      (click)="db_search(dbtype)"
                      class="btn btn-outline-success"
                      id="rmubtn"
                      style="border-radius: 25px; margin-left: 35px"
                      color="primary"
                    >
                      <i class="fa fa-search" aria-hidden="true"></i>
                    </button>
                    <button
                      class="btn btn-outline-primary"
                      ngbTooltip="Clear Entries"
                      style="
                        margin-left: 20px;
                        border-radius: 25px;
                        margin-left: 35px;
                      "
                      id="rmubtn"
                      (click)="db_reset()"
                    >
                      Clear
                    </button>
                  </div>
                </div>
              </form>
            </div>
            <div class="table-responsive">
              <table
                class="table"
                id="historytable"
                style="text-align: center"
              >
                <thead class="table_header">
                  <tr>
                    <th>S.No</th>
                    <th>Db name</th>
                    <th>Ip address</th>
                    <th>Username</th>
                    <th>Status</th>
                    <th>Edit</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="padding: 5px">
                  <tr *ngFor="let sum of dbsummararray; index as ind">
                    <td>
                      {{ (paginationdb.index - 1) * limit + ind + 1 }}
                    </td>
                    <td>{{ sum.db_name }}</td>
                    <td>{{ sum.ip_address }}</td>
                    <td>{{ sum.user }}</td>
                    <td>
                      <mat-slide-toggle
                        [(ngModel)]="sum.status"
                        (click)="toggledbtemp(sum)"
                      ></mat-slide-toggle>
                    </td>
                    <td>
                      <mat-icon
                        style="cursor: pointer"
                        (click)="editdblinks(sum)"
                        >create</mat-icon
                      >
                    </td>
                    <td>
                      <mat-icon
                        style="cursor: pointer; font-size: 35px"
                        (click)="dbgetquery(sum)"
                        >arrow_right_alt</mat-icon
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
              <div
                *ngIf="dbsummararray?.length == 0"
                style="text-align: center"
              >
                <h3>Sorry data not found...</h3>
              </div>
              <div
                class="col-sm-12"
                style="font-size: x-small; text-align: right"
              >
                <button
                  (click)="prevpage1()"
                  mat-icon-button
                  [disabled]="paginationdb?.has_previous === false"
                  color="primary"
                >
                  <mat-icon class="customIconSize">arrow_back</mat-icon>
                </button>
                <span style="font-size: 15px">
                  {{ paginationdb?.index }}</span
                >
                <button
                  (click)="nextpage2()"
                  mat-icon-button
                  [disabled]="paginationdb?.has_next === false"
                  color="primary"
                >
                  <mat-icon class="customIconSize">arrow_forward</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Run summary">
          <div style="margin-top: 20px">
            <div class="table-responsive">
              <table
                class="table"
                id="historytable"
                style="text-align: center"
              >
                <thead class="table_header">
                  <th>S.No</th>
                  <th>Date</th>
                  <th>DB name</th>
                  <th>Status</th>
                  <th>Delete</th>
                </thead>
                <tbody style="padding: 5px">
                  <tr *ngFor="let sum of dbrunintegrityarray; index as ind">
                    <td>
                      {{ (paginationdbrun.index - 1) * limit + ind + 1 }}
                    </td>
                    <td>{{ sum.date }}</td>
                    <td>{{ sum.db_name }}</td>

                    <td>
                      <span *ngIf="sum.status === 1">Active</span>
                      <span *ngIf="sum.status === 2">Started</span>
                      <span *ngIf="sum.status === 3">Processing</span>
                      <span *ngIf="sum.status === 4">Success</span>
                    </td>
                    <td>
                      <mat-icon
                        style="cursor: pointer"
                        (click)="deletesummaryid(sum)"
                        >delete</mat-icon
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
              <div
                *ngIf="dbrunintegrityarray?.length == 0"
                style="text-align: center"
              >
                <h3>Sorry data not found...</h3>
              </div>
              <div
                class="col-sm-12"
                style="font-size: x-small; text-align: right"
              >
                <button
                  (click)="prevpageadrun()"
                  mat-icon-button
                  [disabled]="paginationdbrun?.has_previous === false"
                  color="primary"
                >
                  <mat-icon class="customIconSize">arrow_back</mat-icon>
                </button>
                <span style="font-size: 15px">
                  {{ paginationdbrun?.index }}</span
                >
                <button
                  (click)="nextpagedbrun()"
                  mat-icon-button
                  [disabled]="paginationdbrun?.has_next === false"
                  color="primary"
                >
                  <mat-icon class="customIconSize">arrow_forward</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
    <div class="modal-footer">
      <div style="float: right">
        <button
          style="border-radius: 50px"
          class="btn btn-outline-secondary"
          data-dismiss="modal"
        >
          Back
        </button>
      </div>
    </div>
  </div>
</div>
</div>
<div
class="modal fade"
tabindex="-1"
role="dialog"
aria-labelledby="boxlevelform"
aria-hidden="true"
id="editapicall"
#editapicall
>
<div class="modal-dialog modal-xl" style="width: fit-content;">
  <div class="modal-content">
    <div class="modal-header" style="background: #ddefdd">
      <b class="modal-title" style="color: black">Edit Api call datas</b>
      <button
        type="button"
        #closeapicalledit
        class="close"
        data-dismiss="modal"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="modal-body">
      <form [formGroup]="apicallupdateform" style="margin-top: 20px">
        <div class="row">
          <div class="col-md-4" id="matInput-size">
            <mat-form-field style="width: 250px" appearance="outline">
              <mat-label>Api Name</mat-label>
              <input matInput formControlName="api_name" />
            </mat-form-field>
          </div>
          <div class="col-md-4" id="matInput-size">
            <mat-form-field style="width: 250px" appearance="outline">
              <mat-label>Api Url</mat-label>
              <input matInput formControlName="api_url" />
            </mat-form-field>
          </div>
          <div class="col-md-4 " id="matInput-size">
            <mat-form-field style="width: 250px" appearance="outline">
              <mat-label>Methods</mat-label>
              <mat-select formControlName="methods">
                <mat-option *ngFor="let data of methodarray" [value]="data">
                  {{ data }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4" id="matInput-size">
            <mat-form-field style="width: 250px" appearance="outline">
              <mat-label>Params</mat-label>
              <input matInput formControlName="params" />
            </mat-form-field>
          </div>
          <div class="col-md-4 " id="matInput-size">
            <mat-form-field style="width: 250px" appearance="outline">
              <mat-label>Payload</mat-label>
              <input matInput formControlName="payloads" />
            </mat-form-field>
          </div>
          <div class="col-md-4" id="matInput-size">
            <mat-form-field style="width: 250px" appearance="outline">
              <mat-label>Description</mat-label>
              <input matInput formControlName="description" />
            </mat-form-field>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <div style="float: right">
        <button
          style="border-radius: 50px"
          class="btn btn-outline-secondary"
          data-dismiss="modal"
        >
          Back
        </button>
        <button
          style="border-radius: 50px; margin-left: 10px"
          class="btn btn-outline-success"
          (click)="apicall_update()"
        >
          Update
        </button>
      </div>
    </div>
  </div>
</div>
</div>
<div
class="modal fade"
tabindex="-1"
role="dialog"
aria-labelledby="boxlevelform"
aria-hidden="true"
id="editdblink"
#editdblink
>
<div class="modal-dialog modal-xl" style="width: fit-content;">
  <div class="modal-content">
    <div class="modal-header" style="background: #ddefdd">
      <b class="modal-title" style="color: black">Edit DB Link datas</b>
      <button
        type="button"
        #closedblinkedit
        class="close"
        data-dismiss="modal"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="modal-body">
      <form [formGroup]="dblinkupdateform" style="margin-top: 20px">
        <div class="row">
          <div class="col-md-4 " id="matInput-size">
            <mat-form-field class="dbfieldsize" appearance="outline">
              <mat-label>Ip Address</mat-label>
              <input matInput formControlName="ip_address" />
            </mat-form-field>
          </div>
          <div class="col-md-4 " id="matInput-size">
            <mat-form-field class="dbfieldsize" appearance="outline">
              <mat-label>Port</mat-label>
              <input matInput formControlName="port" />
            </mat-form-field>
          </div>
          <div class="col-md-4" id="matInput-size">
            <mat-form-field class="dbfieldsize" appearance="outline">
              <mat-label>Connection name</mat-label>
              <input matInput formControlName="db_name" />
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4" id="matInput-size">
            <mat-form-field class="dbfieldsize" appearance="outline">
              <mat-label>User</mat-label>
              <input matInput formControlName="user" />
            </mat-form-field>
          </div>
          <div class="col-md-4 " id="matInput-size">
            <mat-form-field class="dbfieldsize" appearance="outline">
              <mat-label>password</mat-label>
              <input matInput formControlName="password" />
            </mat-form-field>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <div style="float: right">
        <button
          style="border-radius: 50px"
          class="btn btn-outline-secondary"
          data-dismiss="modal"
        >
          Back
        </button>
        <button
          style="border-radius: 50px; margin-left: 10px"
          class="btn btn-outline-success"
          (click)="dblink_update()"
        >
          Update
        </button>
      </div>
    </div>
  </div>
</div>
</div>
<div
class="modal fade"
tabindex="-1"
role="dialog"
aria-labelledby="boxlevelform"
aria-hidden="true"
id="dbquerry"
#dbquerry
>
<div class="modal-dialog modal-xl">
  <div class="modal-content">
    <div class="modal-header" style="background: #ddefdd">
      <b class="modal-title" style="color: black">DB Link Query Screen</b>
      <button
        type="button"
        #closebuttonclosedqueery
        class="close"
        data-dismiss="modal"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="modal-body" style="max-height: 70vh; overflow-y: scroll">
      <form [formGroup]="dbqueryform" style="margin-top: 20px">
        <div class="row">
          <div class="col-md-4" id="matInput-size">
            <mat-form-field style="width: 250px" appearance="outline">
              <mat-label>Schema</mat-label>
              <input
                type="text"
                matInput
                formControlName="schema"
                #schema_input
                required
                [matAutocomplete]="schemaref"
                (keyup)="schemavalidate()"
              />
              <mat-autocomplete
                #schemaref="matAutocomplete"
                (opened)="autocompletewisefinxlScroll()"
              >
                <mat-option *ngIf="isLoading">Loading..</mat-option>
                <ng-container *ngIf="!isLoading">
                  <mat-option
                    *ngFor="let d of schemaarray"
                    [value]="d"
                    (click)="schemaselect(d)"
                  >
                    {{ d }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div class="col-md-4" id="matInput-size">
            <mat-form-field style="width: 250px" (click)="checkshecma()" appearance="outline">
              <mat-label>Tables</mat-label>
              <input
                type="text"
                matInput
                formControlName="table_name"
                required
                #table_input
                [matAutocomplete]="tableref"
                (keyup)="searchtable()"
              />
              <mat-autocomplete
                #tableref="matAutocomplete"
                (opened)="autocompletetableScroll()"
              >
                <mat-option *ngIf="isLoading">Loading..</mat-option>
                <ng-container *ngIf="!isLoading">
                  <mat-option
                    *ngFor="let d of tablearray"
                    [value]="d"
                    (click)="tableselect(d)"
                  >
                    {{ d }}
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div class="col-md-4" id="matInput-size">
            <mat-form-field
              style="width: 250px"
              (click)="checktable_schema()"
              appearance="outline"
            >
              <mat-label>Column</mat-label>
              <input
                type="text"
                matInput
                formControlName="where"
                [matAutocomplete]="columnsref"
              />
              <mat-autocomplete #columnsref="matAutocomplete">
                <mat-option *ngIf="isLoading">Loading..</mat-option>
                <ng-container *ngIf="!isLoading">
                  <mat-option *ngFor="let d of wherearray" [value]="d">
                    <mat-checkbox (click)="toggleSelection(d, $event)">{{
                      d
                    }}</mat-checkbox>
                  </mat-option>
                </ng-container>
              </mat-autocomplete>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <button
              style="border-radius: 50px"
              class="btn btn-outline-success"
              (click)="adddbconditions()"
            >
              Conditions
            </button>
            <div [formGroup]="dbqueryform">
              <ng-container formArrayName="conditions">
                <ng-container
                  *ngFor="let form of conditions.controls; let i = index"
                >
                  <div class="lesson-form-row" [formGroup]="form">
                    <mat-card
                      style="
                        border-style: dashed;
                        margin-bottom: 10px;
                        margin-top: 10px;
                        border-color: rgb(182, 182, 182);
                        border-radius: 0px;
                      "
                    >
                      <div>
                        <span style="font-size: 15px; font-weight: 600">
                          conditions {{ i + 1 }}
                        </span>
                        <span style="float: right">
                          <mat-icon
                            style="cursor: pointer; color: red"
                            (click)="deleteLesson(i)"
                          >
                            delete</mat-icon
                          >
                        </span>
                      </div>
                      <hr />
                      <div>
                        <mat-form-field style="width: 100%">
                          <mat-label>conditions</mat-label>
                          <mat-select formControlName="con">
                            <mat-option
                              *ngFor="let data of form.array"
                              [value]="data"
                              (click)="conditionadd()"
                            >
                              {{ data }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div>
                        <mat-form-field style="width:100%">
                          <mat-label>Column</mat-label>
                          <mat-select formControlName="column">
                            <mat-option
                              *ngFor="let data of wherearray"
                              [value]="data"
                              (click)="conditionadd()"
                            >
                              {{ data }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div>
                        <mat-form-field style="width: 100%">
                          <mat-label>Column value</mat-label>
                          <input
                            matInput
                            formControlName="value"
                            (input)="conditionadd()"
                          />
                        </mat-form-field>
                      </div>
                    </mat-card>
                  </div>
                </ng-container>
              </ng-container>
            </div>
          </div>
          <div class="col-md-6" style="margin-top: 40px;">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Leave a comment</mat-label>
              <textarea
                matInput
                cols="300"
                rows="15"
                formControlName="select"
              ></textarea>
            </mat-form-field>
          </div>
        </div>
        <div style="display: flex; justify-content: center">
          <span style="margin-bottom: 10px">
            <button mat-raised-button (click)="clearfullquery()">
              Clear
            </button>
          </span>
          <span style="margin-bottom: 10px; margin-left: 15px">
            <button
              mat-raised-button
              (click)="executequery()"
              class="executebtn"
            >
              Execute
            </button>
          </span>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <div style="float: right">
        <button
          style="border-radius: 50px"
          class="btn btn-outline-secondary"
          data-dismiss="modal"
        >
          Back
        </button>
      </div>
    </div>
  </div>
</div>
</div>

<!-- <div class="modal fade" id="uploadModal" tabindex="-1" role="dialog" aria-labelledby="uploadModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="uploadModalLabel">Upload Files</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div *ngFor="let file of fileInputs; let i = index" class="file-input-container">
          <input type="file" class="form-control" (change)="onFileSelect($event, i)" />
          <button type="button" class="btn btn-outline-danger ml-2" (click)="removeFile(i)">✖</button>
        </div>

        <button type="button" class="btn btn-outline-success mt-3" (click)="addFileInput()">+ Add File</button>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-outline-primary" (click)="submitFiles()">Upload</button>
      </div>
    </div>
  </div>
</div> -->

<div class="modal fade" id="uploadModal" tabindex="-1" role="dialog" aria-labelledby="uploadModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header" style="background: #ddefdd">
        <h3 class="modal-title" id="uploadModalLabel" style="font-weight: 500;">File 1 Upload</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div style="display: flex;justify-content: end;margin-bottom: 10px;margin-top: -15px;">
          <button type="button" class="btn btn-outline-success mt-3" style="border-radius: 50px;" (click)="addFileInput()">Add File</button>
        </div>
        <form [formGroup]="wisefinUpload" style="display: flex; flex-direction: column; gap: 10px;">
          <div *ngFor="let file of fileInputs; let i = index" class="file-input-container">
            <!-- <div style="border: 2px solid #d9d9d9; padding: 10px; border-radius: 4px; display: flex; align-items: center; gap: 10px;width: 100%;">
              <input 
                style="border: none !important" 
                id="sect" 
                type="file" 
                (change)="uploadchooses1($event, i)" 
                name="filedatas" 
                formControlName="wisefinuploadfile"
              />
              <button type="button" class="btn btn-danger refresh_status" (click)="removeFile(i)">x</button>
            </div> -->
            <div style="border: 2px solid #d9d9d9; padding: 10px; border-radius: 4px; width: 100%; position: relative; display: flex; align-items: center;">
              <input 
                style="border: none !important; flex: 1;" 
                type="file" 
                (change)="uploadchooses1($event, i)" 
                name="filedatas" 
                formControlName="wisefinuploadfile"
              />
              <button 
                type="button" 
                class="btn btn-danger refresh_status" 
                (click)="removeFile(i)" 
                style="position: absolute; top: -10px; right: -10px; width: 20px; height: 20px; border-radius: 50%; padding: 0; font-size: 14px; line-height: 20px;background: #f35e5e;"
              >
                x
              </button>
            </div>
          </div>
      
         
        </form>
      </div>
      

      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" style="border-radius: 50px;" data-dismiss="modal" (click)="cancelUpload()">Cancel</button>
        <button type="button" class="btn btn-outline-primary" style="border-radius: 50px;" (click)="submitFiles()">Upload</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="uploadModals" tabindex="-1" role="dialog" aria-labelledby="uploadModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header" style="background: #ddefdd">
        <h3 class="modal-title" id="uploadModalLabel" style="font-weight: 500;">File 2 Upload</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div style="display: flex;justify-content: end;margin-bottom: 10px;margin-top: -15px;">
          <button type="button" class="btn btn-outline-success mt-3" style="border-radius: 50px;" (click)="addFileInputs()">Add File</button>
        </div>
        <form [formGroup]="bankstmtupload" style="display: flex; flex-direction: column; gap: 10px;">
          <div *ngFor="let file of fileInputss; let i = index" class="file-input-container">
            <!-- <div style="border: 2px solid #d9d9d9; padding: 10px; border-radius: 4px; display: flex; align-items: center; gap: 10px;width: 100%;">
              <input 
                style="border: none !important" 
                id="sect" 
                type="file" 
                (change)="uploadchoosess1($event, i)" 
                name="filedatas" 
                formControlName="cbsuploadfile"
              />
              <button type="button" class="btn btn-danger refresh_status" (click)="removeFiles(i)">X</button>
            </div> -->
            <div style="border: 2px solid #d9d9d9; padding: 10px; border-radius: 4px; width: 100%; position: relative; display: flex; align-items: center;">
              <input 
                style="border: none !important; flex: 1;" 
                type="file" 
                (change)="uploadchoosess1($event, i)" 
                name="filedatas" 
                formControlName="cbsuploadfile"
              />
              <button 
                type="button" 
                class="btn btn-danger refresh_status" 
                (click)="removeFiles(i)" 
                style="position: absolute; top: -10px; right: -10px; width: 20px; height: 20px; border-radius: 50%; padding: 0; font-size: 14px; line-height: 20px;background: #f35e5e;"
              >
                x
              </button>
            </div>
          </div>
      
          
        </form>
      </div>
      

      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" style="border-radius: 50px;" data-dismiss="modal" (click)="cancelUpload()">Cancel</button>
        <button type="button" class="btn btn-outline-primary" style="border-radius: 50px;" (click)="submitFiless()">Upload</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="recon_process">
  <app-reconprocess></app-reconprocess>
</div>